var Yp=Object.defineProperty;var Kp=(t,e,r)=>e in t?Yp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var j=(t,e,r)=>Kp(t,typeof e!="symbol"?e+"":e,r);function Gp(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(a,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function Qp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bg={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),Jp=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),qp=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),ey=Symbol.for("react.provider"),ty=Symbol.for("react.context"),ry=Symbol.for("react.forward_ref"),ay=Symbol.for("react.suspense"),ny=Symbol.for("react.memo"),sy=Symbol.for("react.lazy"),Lu=Symbol.iterator;function ly(t){return t===null||typeof t!="object"?null:(t=Lu&&t[Lu]||t["@@iterator"],typeof t=="function"?t:null)}var vg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kg=Object.assign,Eg={};function Pn(t,e,r){this.props=t,this.context=e,this.refs=Eg,this.updater=r||vg}Pn.prototype.isReactComponent={};Pn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wg(){}wg.prototype=Pn.prototype;function od(t,e,r){this.props=t,this.context=e,this.refs=Eg,this.updater=r||vg}var cd=od.prototype=new wg;cd.constructor=od;kg(cd,Pn.prototype);cd.isPureReactComponent=!0;var Au=Array.isArray,Ng=Object.prototype.hasOwnProperty,dd={current:null},Sg={key:!0,ref:!0,__self:!0,__source:!0};function _g(t,e,r){var a,n={},l=null,i=null;if(e!=null)for(a in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(l=""+e.key),e)Ng.call(e,a)&&!Sg.hasOwnProperty(a)&&(n[a]=e[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(t&&t.defaultProps)for(a in o=t.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:Zs,type:t,key:l,ref:i,props:n,_owner:dd.current}}function iy(t,e){return{$$typeof:Zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ud(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zs}function oy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var zu=/\/+/g;function bo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oy(""+t.key):e.toString(36)}function $l(t,e,r,a,n){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Zs:case Jp:i=!0}}if(i)return i=t,n=n(i),t=a===""?"."+bo(i,0):a,Au(n)?(r="",t!=null&&(r=t.replace(zu,"$&/")+"/"),$l(n,e,r,"",function(d){return d})):n!=null&&(ud(n)&&(n=iy(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(zu,"$&/")+"/")+t)),e.push(n)),1;if(i=0,a=a===""?".":a+":",Au(t))for(var o=0;o<t.length;o++){l=t[o];var c=a+bo(l,o);i+=$l(l,e,r,c,n)}else if(c=ly(t),typeof c=="function")for(t=c.call(t),o=0;!(l=t.next()).done;)l=l.value,c=a+bo(l,o++),i+=$l(l,e,r,c,n);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function cl(t,e,r){if(t==null)return t;var a=[],n=0;return $l(t,a,"","",function(l){return e.call(r,l,n++)}),a}function cy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},Vl={transition:null},dy={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Vl,ReactCurrentOwner:dd};function Cg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:cl,forEach:function(t,e,r){cl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return cl(t,function(){e++}),e},toArray:function(t){return cl(t,function(e){return e})||[]},only:function(t){if(!ud(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=Pn;Z.Fragment=Xp;Z.Profiler=Zp;Z.PureComponent=od;Z.StrictMode=qp;Z.Suspense=ay;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dy;Z.act=Cg;Z.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=kg({},t.props),n=t.key,l=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,i=dd.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)Ng.call(e,c)&&!Sg.hasOwnProperty(c)&&(a[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:Zs,type:t.type,key:n,ref:l,props:a,_owner:i}};Z.createContext=function(t){return t={$$typeof:ty,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ey,_context:t},t.Consumer=t};Z.createElement=_g;Z.createFactory=function(t){var e=_g.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:ry,render:t}};Z.isValidElement=ud;Z.lazy=function(t){return{$$typeof:sy,_payload:{_status:-1,_result:t},_init:cy}};Z.memo=function(t,e){return{$$typeof:ny,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Vl.transition;Vl.transition={};try{t()}finally{Vl.transition=e}};Z.unstable_act=Cg;Z.useCallback=function(t,e){return et.current.useCallback(t,e)};Z.useContext=function(t){return et.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return et.current.useDeferredValue(t)};Z.useEffect=function(t,e){return et.current.useEffect(t,e)};Z.useId=function(){return et.current.useId()};Z.useImperativeHandle=function(t,e,r){return et.current.useImperativeHandle(t,e,r)};Z.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return et.current.useMemo(t,e)};Z.useReducer=function(t,e,r){return et.current.useReducer(t,e,r)};Z.useRef=function(t){return et.current.useRef(t)};Z.useState=function(t){return et.current.useState(t)};Z.useSyncExternalStore=function(t,e,r){return et.current.useSyncExternalStore(t,e,r)};Z.useTransition=function(){return et.current.useTransition()};Z.version="18.3.1";bg.exports=Z;var b=bg.exports;const s=Qp(b),uy=Gp({__proto__:null,default:s},[b]);var Pg={exports:{}},bt={},Mg={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,L){var W=D.length;D.push(L);e:for(;0<W;){var V=W-1>>>1,J=D[V];if(0<n(J,L))D[V]=L,D[W]=J,W=V;else break e}}function r(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var L=D[0],W=D.pop();if(W!==L){D[0]=W;e:for(var V=0,J=D.length,Le=J>>>1;V<Le;){var pe=2*(V+1)-1,Ae=D[pe],ue=pe+1,dt=D[ue];if(0>n(Ae,W))ue<J&&0>n(dt,Ae)?(D[V]=dt,D[ue]=W,V=ue):(D[V]=Ae,D[pe]=W,V=pe);else if(ue<J&&0>n(dt,W))D[V]=dt,D[ue]=W,V=ue;else break e}}return L}function n(D,L){var W=D.sortIndex-L.sortIndex;return W!==0?W:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,g=null,m=3,f=!1,y=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var L=r(d);L!==null;){if(L.callback===null)a(d);else if(L.startTime<=D)a(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=r(d)}}function E(D){if(x=!1,v(D),!y)if(r(c)!==null)y=!0,Q(w);else{var L=r(d);L!==null&&ee(E,L.startTime-D)}}function w(D,L){y=!1,x&&(x=!1,p(C),C=-1),f=!0;var W=m;try{for(v(L),g=r(c);g!==null&&(!(g.expirationTime>L)||D&&!B());){var V=g.callback;if(typeof V=="function"){g.callback=null,m=g.priorityLevel;var J=V(g.expirationTime<=L);L=t.unstable_now(),typeof J=="function"?g.callback=J:g===r(c)&&a(c),v(L)}else a(c);g=r(c)}if(g!==null)var Le=!0;else{var pe=r(d);pe!==null&&ee(E,pe.startTime-L),Le=!1}return Le}finally{g=null,m=W,f=!1}}var S=!1,_=null,C=-1,A=5,M=-1;function B(){return!(t.unstable_now()-M<A)}function H(){if(_!==null){var D=t.unstable_now();M=D;var L=!0;try{L=_(!0,D)}finally{L?X():(S=!1,_=null)}}else S=!1}var X;if(typeof h=="function")X=function(){h(H)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,K=ie.port2;ie.port1.onmessage=H,X=function(){K.postMessage(null)}}else X=function(){k(H,0)};function Q(D){_=D,S||(S=!0,X())}function ee(D,L){C=k(function(){D(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,Q(w))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var W=m;m=L;try{return D()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=m;m=D;try{return L()}finally{m=W}},t.unstable_scheduleCallback=function(D,L,W){var V=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,D={id:u++,callback:L,priorityLevel:D,startTime:W,expirationTime:J,sortIndex:-1},W>V?(D.sortIndex=W,e(d,D),r(c)===null&&D===r(d)&&(x?(p(C),C=-1):x=!0,ee(E,W-V))):(D.sortIndex=J,e(c,D),y||f||(y=!0,Q(w))),D},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(D){var L=m;return function(){var W=m;m=L;try{return D.apply(this,arguments)}finally{m=W}}}})(Dg);Mg.exports=Dg;var my=Mg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=b,xt=my;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Og=new Set,Ss={};function Ia(t,e){xn(t,e),xn(t+"Capture",e)}function xn(t,e){for(Ss[t]=e,t=0;t<e.length;t++)Og.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=Object.prototype.hasOwnProperty,fy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fu={},Iu={};function hy(t){return nc.call(Iu,t)?!0:nc.call(Fu,t)?!1:fy.test(t)?Iu[t]=!0:(Fu[t]=!0,!1)}function py(t,e,r,a){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yy(t,e,r,a){if(e===null||typeof e>"u"||py(t,e,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,r,a,n,l,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=i}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var md=/[\-:]([a-z])/g;function gd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(md,gd);Ue[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(md,gd);Ue[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(md,gd);Ue[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fd(t,e,r,a){var n=Ue.hasOwnProperty(e)?Ue[e]:null;(n!==null?n.type!==0:a||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yy(e,r,n,a)&&(r=null),a||n===null?hy(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,a=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?t.setAttributeNS(a,e,r):t.setAttribute(e,r))))}var Nr=gy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dl=Symbol.for("react.element"),Xa=Symbol.for("react.portal"),qa=Symbol.for("react.fragment"),hd=Symbol.for("react.strict_mode"),sc=Symbol.for("react.profiler"),Tg=Symbol.for("react.provider"),Rg=Symbol.for("react.context"),pd=Symbol.for("react.forward_ref"),lc=Symbol.for("react.suspense"),ic=Symbol.for("react.suspense_list"),yd=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),Lg=Symbol.for("react.offscreen"),Bu=Symbol.iterator;function $n(t){return t===null||typeof t!="object"?null:(t=Bu&&t[Bu]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,vo;function ts(t){if(vo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);vo=e&&e[1]||""}return`
`+vo+t}var ko=!1;function Eo(t,e){if(!t||ko)return"";ko=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var a=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){a=d}t.call(e.prototype)}else{try{throw Error()}catch(d){a=d}t()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),l=a.stack.split(`
`),i=n.length-1,o=l.length-1;1<=i&&0<=o&&n[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||n[i]!==l[o]){var c=`
`+n[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=o);break}}}finally{ko=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ts(t):""}function xy(t){switch(t.tag){case 5:return ts(t.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return t=Eo(t.type,!1),t;case 11:return t=Eo(t.type.render,!1),t;case 1:return t=Eo(t.type,!0),t;default:return""}}function oc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qa:return"Fragment";case Xa:return"Portal";case sc:return"Profiler";case hd:return"StrictMode";case lc:return"Suspense";case ic:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rg:return(t.displayName||"Context")+".Consumer";case Tg:return(t._context.displayName||"Context")+".Provider";case pd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yd:return e=t.displayName||null,e!==null?e:oc(t.type)||"Memo";case Br:e=t._payload,t=t._init;try{return oc(t(e))}catch{}}return null}function by(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oc(e);case 8:return e===hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ag(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vy(t){var e=Ag(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,l=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,l.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ul(t){t._valueTracker||(t._valueTracker=vy(t))}function zg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),a="";return t&&(a=Ag(t)?t.checked?"true":"false":t.value),t=a,t!==r?(e.setValue(t),!0):!1}function si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cc(t,e){var r=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ju(t,e){var r=e.defaultValue==null?"":e.defaultValue,a=e.checked!=null?e.checked:e.defaultChecked;r=la(e.value!=null?e.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fg(t,e){e=e.checked,e!=null&&fd(t,"checked",e,!1)}function dc(t,e){Fg(t,e);var r=la(e.value),a=e.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uc(t,e.type,r):e.hasOwnProperty("defaultValue")&&uc(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $u(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var a=e.type;if(!(a!=="submit"&&a!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function uc(t,e,r){(e!=="number"||si(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var rs=Array.isArray;function dn(t,e,r,a){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&a&&(t[r].defaultSelected=!0)}else{for(r=""+la(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,a&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function mc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(rs(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:la(r)}}function Ig(t,e){var r=la(e.value),a=la(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function Wu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ml,jg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,a,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,a,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _s(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ky=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(t){ky.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),us[e]=us[t]})});function $g(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||us.hasOwnProperty(t)&&us[t]?(""+e).trim():e+"px"}function Vg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=$g(r,e[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,n):t[r]=n}}var Ey=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(t,e){if(e){if(Ey[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function hc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=null;function xd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yc=null,un=null,mn=null;function Hu(t){if(t=rl(t)){if(typeof yc!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Yi(e),yc(t.stateNode,t.type,e))}}function Wg(t){un?mn?mn.push(t):mn=[t]:un=t}function Hg(){if(un){var t=un,e=mn;if(mn=un=null,Hu(t),e)for(t=0;t<e.length;t++)Hu(e[t])}}function Ug(t,e){return t(e)}function Yg(){}var wo=!1;function Kg(t,e,r){if(wo)return t(e,r);wo=!0;try{return Ug(t,e,r)}finally{wo=!1,(un!==null||mn!==null)&&(Yg(),Hg())}}function Cs(t,e){var r=t.stateNode;if(r===null)return null;var a=Yi(r);if(a===null)return null;r=a[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var xc=!1;if(vr)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){xc=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{xc=!1}function wy(t,e,r,a,n,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var ms=!1,li=null,ii=!1,bc=null,Ny={onError:function(t){ms=!0,li=t}};function Sy(t,e,r,a,n,l,i,o,c){ms=!1,li=null,wy.apply(Ny,arguments)}function _y(t,e,r,a,n,l,i,o,c){if(Sy.apply(this,arguments),ms){if(ms){var d=li;ms=!1,li=null}else throw Error(T(198));ii||(ii=!0,bc=d)}}function Ba(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Gg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uu(t){if(Ba(t)!==t)throw Error(T(188))}function Cy(t){var e=t.alternate;if(!e){if(e=Ba(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,a=e;;){var n=r.return;if(n===null)break;var l=n.alternate;if(l===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===r)return Uu(n),t;if(l===a)return Uu(n),e;l=l.sibling}throw Error(T(188))}if(r.return!==a.return)r=n,a=l;else{for(var i=!1,o=n.child;o;){if(o===r){i=!0,r=n,a=l;break}if(o===a){i=!0,a=n,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,a=n;break}if(o===a){i=!0,a=l,r=n;break}o=o.sibling}if(!i)throw Error(T(189))}}if(r.alternate!==a)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function Qg(t){return t=Cy(t),t!==null?Jg(t):null}function Jg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jg(t);if(e!==null)return e;t=t.sibling}return null}var Xg=xt.unstable_scheduleCallback,Yu=xt.unstable_cancelCallback,Py=xt.unstable_shouldYield,My=xt.unstable_requestPaint,Me=xt.unstable_now,Dy=xt.unstable_getCurrentPriorityLevel,bd=xt.unstable_ImmediatePriority,qg=xt.unstable_UserBlockingPriority,oi=xt.unstable_NormalPriority,Oy=xt.unstable_LowPriority,Zg=xt.unstable_IdlePriority,Vi=null,nr=null;function Ty(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Vi,t,void 0,(t.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Ay,Ry=Math.log,Ly=Math.LN2;function Ay(t){return t>>>=0,t===0?32:31-(Ry(t)/Ly|0)|0}var gl=64,fl=4194304;function as(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ci(t,e){var r=t.pendingLanes;if(r===0)return 0;var a=0,n=t.suspendedLanes,l=t.pingedLanes,i=r&268435455;if(i!==0){var o=i&~n;o!==0?a=as(o):(l&=i,l!==0&&(a=as(l)))}else i=r&~n,i!==0?a=as(i):l!==0&&(a=as(l));if(a===0)return 0;if(e!==0&&e!==a&&!(e&n)&&(n=a&-a,l=e&-e,n>=l||n===16&&(l&4194240)!==0))return e;if(a&4&&(a|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=a;0<e;)r=31-Wt(e),n=1<<r,a|=t[r],e&=~n;return a}function zy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fy(t,e){for(var r=t.suspendedLanes,a=t.pingedLanes,n=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-Wt(l),o=1<<i,c=n[i];c===-1?(!(o&r)||o&a)&&(n[i]=zy(o,e)):c<=e&&(t.expiredLanes|=o),l&=~o}}function vc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ef(){var t=gl;return gl<<=1,!(gl&4194240)&&(gl=64),t}function No(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function el(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wt(e),t[e]=r}function Iy(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-Wt(r),l=1<<n;e[n]=0,a[n]=-1,t[n]=-1,r&=~l}}function vd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var a=31-Wt(r),n=1<<a;n&e|t[a]&e&&(t[a]|=e),r&=~n}}var le=0;function tf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rf,kd,af,nf,sf,kc=!1,hl=[],Jr=null,Xr=null,qr=null,Ps=new Map,Ms=new Map,$r=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(e.pointerId)}}function Wn(t,e,r,a,n,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},e!==null&&(e=rl(e),e!==null&&kd(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function jy(t,e,r,a,n){switch(e){case"focusin":return Jr=Wn(Jr,t,e,r,a,n),!0;case"dragenter":return Xr=Wn(Xr,t,e,r,a,n),!0;case"mouseover":return qr=Wn(qr,t,e,r,a,n),!0;case"pointerover":var l=n.pointerId;return Ps.set(l,Wn(Ps.get(l)||null,t,e,r,a,n)),!0;case"gotpointercapture":return l=n.pointerId,Ms.set(l,Wn(Ms.get(l)||null,t,e,r,a,n)),!0}return!1}function lf(t){var e=wa(t.target);if(e!==null){var r=Ba(e);if(r!==null){if(e=r.tag,e===13){if(e=Gg(r),e!==null){t.blockedOn=e,sf(t.priority,function(){af(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ec(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);pc=a,r.target.dispatchEvent(a),pc=null}else return e=rl(r),e!==null&&kd(e),t.blockedOn=r,!1;e.shift()}return!0}function Gu(t,e,r){Wl(t)&&r.delete(e)}function $y(){kc=!1,Jr!==null&&Wl(Jr)&&(Jr=null),Xr!==null&&Wl(Xr)&&(Xr=null),qr!==null&&Wl(qr)&&(qr=null),Ps.forEach(Gu),Ms.forEach(Gu)}function Hn(t,e){t.blockedOn===e&&(t.blockedOn=null,kc||(kc=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,$y)))}function Ds(t){function e(n){return Hn(n,t)}if(0<hl.length){Hn(hl[0],t);for(var r=1;r<hl.length;r++){var a=hl[r];a.blockedOn===t&&(a.blockedOn=null)}}for(Jr!==null&&Hn(Jr,t),Xr!==null&&Hn(Xr,t),qr!==null&&Hn(qr,t),Ps.forEach(e),Ms.forEach(e),r=0;r<$r.length;r++)a=$r[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<$r.length&&(r=$r[0],r.blockedOn===null);)lf(r),r.blockedOn===null&&$r.shift()}var gn=Nr.ReactCurrentBatchConfig,di=!0;function Vy(t,e,r,a){var n=le,l=gn.transition;gn.transition=null;try{le=1,Ed(t,e,r,a)}finally{le=n,gn.transition=l}}function Wy(t,e,r,a){var n=le,l=gn.transition;gn.transition=null;try{le=4,Ed(t,e,r,a)}finally{le=n,gn.transition=l}}function Ed(t,e,r,a){if(di){var n=Ec(t,e,r,a);if(n===null)Lo(t,e,a,ui,r),Ku(t,a);else if(jy(n,t,e,r,a))a.stopPropagation();else if(Ku(t,a),e&4&&-1<By.indexOf(t)){for(;n!==null;){var l=rl(n);if(l!==null&&rf(l),l=Ec(t,e,r,a),l===null&&Lo(t,e,a,ui,r),l===n)break;n=l}n!==null&&a.stopPropagation()}else Lo(t,e,a,null,r)}}var ui=null;function Ec(t,e,r,a){if(ui=null,t=xd(a),t=wa(t),t!==null)if(e=Ba(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Gg(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ui=t,null}function of(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dy()){case bd:return 1;case qg:return 4;case oi:case Oy:return 16;case Zg:return 536870912;default:return 16}default:return 16}}var Wr=null,wd=null,Hl=null;function cf(){if(Hl)return Hl;var t,e=wd,r=e.length,a,n="value"in Wr?Wr.value:Wr.textContent,l=n.length;for(t=0;t<r&&e[t]===n[t];t++);var i=r-t;for(a=1;a<=i&&e[r-a]===n[l-a];a++);return Hl=n.slice(t,1<a?1-a:void 0)}function Ul(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pl(){return!0}function Qu(){return!1}function vt(t){function e(r,a,n,l,i){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?pl:Qu,this.isPropagationStopped=Qu,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),e}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nd=vt(Mn),tl=Se({},Mn,{view:0,detail:0}),Hy=vt(tl),So,_o,Un,Wi=Se({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Un&&(Un&&t.type==="mousemove"?(So=t.screenX-Un.screenX,_o=t.screenY-Un.screenY):_o=So=0,Un=t),So)},movementY:function(t){return"movementY"in t?t.movementY:_o}}),Ju=vt(Wi),Uy=Se({},Wi,{dataTransfer:0}),Yy=vt(Uy),Ky=Se({},tl,{relatedTarget:0}),Co=vt(Ky),Gy=Se({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qy=vt(Gy),Jy=Se({},Mn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xy=vt(Jy),qy=Se({},Mn,{data:0}),Xu=vt(qy),Zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tx[t])?!!e[t]:!1}function Sd(){return rx}var ax=Se({},tl,{key:function(t){if(t.key){var e=Zy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ex[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sd,charCode:function(t){return t.type==="keypress"?Ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nx=vt(ax),sx=Se({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qu=vt(sx),lx=Se({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sd}),ix=vt(lx),ox=Se({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cx=vt(ox),dx=Se({},Wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ux=vt(dx),mx=[9,13,27,32],_d=vr&&"CompositionEvent"in window,gs=null;vr&&"documentMode"in document&&(gs=document.documentMode);var gx=vr&&"TextEvent"in window&&!gs,df=vr&&(!_d||gs&&8<gs&&11>=gs),Zu=" ",em=!1;function uf(t,e){switch(t){case"keyup":return mx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Za=!1;function fx(t,e){switch(t){case"compositionend":return mf(e);case"keypress":return e.which!==32?null:(em=!0,Zu);case"textInput":return t=e.data,t===Zu&&em?null:t;default:return null}}function hx(t,e){if(Za)return t==="compositionend"||!_d&&uf(t,e)?(t=cf(),Hl=wd=Wr=null,Za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return df&&e.locale!=="ko"?null:e.data;default:return null}}var px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!px[t.type]:e==="textarea"}function gf(t,e,r,a){Wg(a),e=mi(e,"onChange"),0<e.length&&(r=new Nd("onChange","change",null,r,a),t.push({event:r,listeners:e}))}var fs=null,Os=null;function yx(t){Nf(t,0)}function Hi(t){var e=rn(t);if(zg(e))return t}function xx(t,e){if(t==="change")return e}var ff=!1;if(vr){var Po;if(vr){var Mo="oninput"in document;if(!Mo){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),Mo=typeof rm.oninput=="function"}Po=Mo}else Po=!1;ff=Po&&(!document.documentMode||9<document.documentMode)}function am(){fs&&(fs.detachEvent("onpropertychange",hf),Os=fs=null)}function hf(t){if(t.propertyName==="value"&&Hi(Os)){var e=[];gf(e,Os,t,xd(t)),Kg(yx,e)}}function bx(t,e,r){t==="focusin"?(am(),fs=e,Os=r,fs.attachEvent("onpropertychange",hf)):t==="focusout"&&am()}function vx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hi(Os)}function kx(t,e){if(t==="click")return Hi(e)}function Ex(t,e){if(t==="input"||t==="change")return Hi(e)}function wx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:wx;function Ts(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),a=Object.keys(e);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!nc.call(e,n)||!Ut(t[n],e[n]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sm(t,e){var r=nm(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=e&&a>=e)return{node:r,offset:e-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nm(r)}}function pf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yf(){for(var t=window,e=si();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=si(t.document)}return e}function Cd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Nx(t){var e=yf(),r=t.focusedElem,a=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&pf(r.ownerDocument.documentElement,r)){if(a!==null&&Cd(r)){if(e=a.start,t=a.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,l=Math.min(a.start,n);a=a.end===void 0?l:Math.min(a.end,n),!t.extend&&l>a&&(n=a,a=l,l=n),n=sm(r,l);var i=sm(r,a);n&&i&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),l>a?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sx=vr&&"documentMode"in document&&11>=document.documentMode,en=null,wc=null,hs=null,Nc=!1;function lm(t,e,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nc||en==null||en!==si(a)||(a=en,"selectionStart"in a&&Cd(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),hs&&Ts(hs,a)||(hs=a,a=mi(wc,"onSelect"),0<a.length&&(e=new Nd("onSelect","select",null,e,r),t.push({event:e,listeners:a}),e.target=en)))}function yl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var tn={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},Do={},xf={};vr&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete tn.animationend.animation,delete tn.animationiteration.animation,delete tn.animationstart.animation),"TransitionEvent"in window||delete tn.transitionend.transition);function Ui(t){if(Do[t])return Do[t];if(!tn[t])return t;var e=tn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in xf)return Do[t]=e[r];return t}var bf=Ui("animationend"),vf=Ui("animationiteration"),kf=Ui("animationstart"),Ef=Ui("transitionend"),wf=new Map,im="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(t,e){wf.set(t,e),Ia(e,[t])}for(var Oo=0;Oo<im.length;Oo++){var To=im[Oo],_x=To.toLowerCase(),Cx=To[0].toUpperCase()+To.slice(1);ca(_x,"on"+Cx)}ca(bf,"onAnimationEnd");ca(vf,"onAnimationIteration");ca(kf,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(Ef,"onTransitionEnd");xn("onMouseEnter",["mouseout","mouseover"]);xn("onMouseLeave",["mouseout","mouseover"]);xn("onPointerEnter",["pointerout","pointerover"]);xn("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Px=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function om(t,e,r){var a=t.type||"unknown-event";t.currentTarget=r,_y(a,e,void 0,t),t.currentTarget=null}function Nf(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],n=a.event;a=a.listeners;e:{var l=void 0;if(e)for(var i=a.length-1;0<=i;i--){var o=a[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&n.isPropagationStopped())break e;om(n,o,d),l=c}else for(i=0;i<a.length;i++){if(o=a[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&n.isPropagationStopped())break e;om(n,o,d),l=c}}}if(ii)throw t=bc,ii=!1,bc=null,t}function ge(t,e){var r=e[Mc];r===void 0&&(r=e[Mc]=new Set);var a=t+"__bubble";r.has(a)||(Sf(e,t,2,!1),r.add(a))}function Ro(t,e,r){var a=0;e&&(a|=4),Sf(r,t,a,e)}var xl="_reactListening"+Math.random().toString(36).slice(2);function Rs(t){if(!t[xl]){t[xl]=!0,Og.forEach(function(r){r!=="selectionchange"&&(Px.has(r)||Ro(r,!1,t),Ro(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xl]||(e[xl]=!0,Ro("selectionchange",!1,e))}}function Sf(t,e,r,a){switch(of(e)){case 1:var n=Vy;break;case 4:n=Wy;break;default:n=Ed}r=n.bind(null,e,r,t),n=void 0,!xc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),a?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function Lo(t,e,r,a,n){var l=a;if(!(e&1)&&!(e&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;o!==null;){if(i=wa(o),i===null)return;if(c=i.tag,c===5||c===6){a=l=i;continue e}o=o.parentNode}}a=a.return}Kg(function(){var d=l,u=xd(r),g=[];e:{var m=wf.get(t);if(m!==void 0){var f=Nd,y=t;switch(t){case"keypress":if(Ul(r)===0)break e;case"keydown":case"keyup":f=nx;break;case"focusin":y="focus",f=Co;break;case"focusout":y="blur",f=Co;break;case"beforeblur":case"afterblur":f=Co;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Yy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=ix;break;case bf:case vf:case kf:f=Qy;break;case Ef:f=cx;break;case"scroll":f=Hy;break;case"wheel":f=ux;break;case"copy":case"cut":case"paste":f=Xy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=qu}var x=(e&4)!==0,k=!x&&t==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var h=d,v;h!==null;){v=h;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,p!==null&&(E=Cs(h,p),E!=null&&x.push(Ls(h,E,v)))),k)break;h=h.return}0<x.length&&(m=new f(m,y,null,r,u),g.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&r!==pc&&(y=r.relatedTarget||r.fromElement)&&(wa(y)||y[kr]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(y=r.relatedTarget||r.toElement,f=d,y=y?wa(y):null,y!==null&&(k=Ba(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=d),f!==y)){if(x=Ju,E="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(x=qu,E="onPointerLeave",p="onPointerEnter",h="pointer"),k=f==null?m:rn(f),v=y==null?m:rn(y),m=new x(E,h+"leave",f,r,u),m.target=k,m.relatedTarget=v,E=null,wa(u)===d&&(x=new x(p,h+"enter",y,r,u),x.target=v,x.relatedTarget=k,E=x),k=E,f&&y)t:{for(x=f,p=y,h=0,v=x;v;v=Ka(v))h++;for(v=0,E=p;E;E=Ka(E))v++;for(;0<h-v;)x=Ka(x),h--;for(;0<v-h;)p=Ka(p),v--;for(;h--;){if(x===p||p!==null&&x===p.alternate)break t;x=Ka(x),p=Ka(p)}x=null}else x=null;f!==null&&cm(g,m,f,x,!1),y!==null&&k!==null&&cm(g,k,y,x,!0)}}e:{if(m=d?rn(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var w=xx;else if(tm(m))if(ff)w=Ex;else{w=vx;var S=bx}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=kx);if(w&&(w=w(t,d))){gf(g,w,r,u);break e}S&&S(t,m,d),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&uc(m,"number",m.value)}switch(S=d?rn(d):window,t){case"focusin":(tm(S)||S.contentEditable==="true")&&(en=S,wc=d,hs=null);break;case"focusout":hs=wc=en=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,lm(g,r,u);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":lm(g,r,u)}var _;if(_d)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Za?uf(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(df&&r.locale!=="ko"&&(Za||C!=="onCompositionStart"?C==="onCompositionEnd"&&Za&&(_=cf()):(Wr=u,wd="value"in Wr?Wr.value:Wr.textContent,Za=!0)),S=mi(d,C),0<S.length&&(C=new Xu(C,t,null,r,u),g.push({event:C,listeners:S}),_?C.data=_:(_=mf(r),_!==null&&(C.data=_)))),(_=gx?fx(t,r):hx(t,r))&&(d=mi(d,"onBeforeInput"),0<d.length&&(u=new Xu("onBeforeInput","beforeinput",null,r,u),g.push({event:u,listeners:d}),u.data=_))}Nf(g,e)})}function Ls(t,e,r){return{instance:t,listener:e,currentTarget:r}}function mi(t,e){for(var r=e+"Capture",a=[];t!==null;){var n=t,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=Cs(t,r),l!=null&&a.unshift(Ls(t,l,n)),l=Cs(t,e),l!=null&&a.push(Ls(t,l,n))),t=t.return}return a}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cm(t,e,r,a,n){for(var l=e._reactName,i=[];r!==null&&r!==a;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=Cs(r,l),c!=null&&i.unshift(Ls(r,c,o))):n||(c=Cs(r,l),c!=null&&i.push(Ls(r,c,o)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var Mx=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function dm(t){return(typeof t=="string"?t:""+t).replace(Mx,`
`).replace(Dx,"")}function bl(t,e,r){if(e=dm(e),dm(t)!==e&&r)throw Error(T(425))}function gi(){}var Sc=null,_c=null;function Cc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,Ox=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(t){return um.resolve(null).then(t).catch(Rx)}:Pc;function Rx(t){setTimeout(function(){throw t})}function Ao(t,e){var r=e,a=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){t.removeChild(n),Ds(e);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);Ds(e)}function Zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),ar="__reactFiber$"+Dn,As="__reactProps$"+Dn,kr="__reactContainer$"+Dn,Mc="__reactEvents$"+Dn,Lx="__reactListeners$"+Dn,Ax="__reactHandles$"+Dn;function wa(t){var e=t[ar];if(e)return e;for(var r=t.parentNode;r;){if(e=r[kr]||r[ar]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=mm(t);t!==null;){if(r=t[ar])return r;t=mm(t)}return e}t=r,r=t.parentNode}return null}function rl(t){return t=t[ar]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Yi(t){return t[As]||null}var Dc=[],an=-1;function da(t){return{current:t}}function he(t){0>an||(t.current=Dc[an],Dc[an]=null,an--)}function ce(t,e){an++,Dc[an]=t.current,t.current=e}var ia={},Xe=da(ia),it=da(!1),Oa=ia;function bn(t,e){var r=t.type.contextTypes;if(!r)return ia;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===e)return a.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in r)n[l]=e[l];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function ot(t){return t=t.childContextTypes,t!=null}function fi(){he(it),he(Xe)}function gm(t,e,r){if(Xe.current!==ia)throw Error(T(168));ce(Xe,e),ce(it,r)}function _f(t,e,r){var a=t.stateNode;if(e=e.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in e))throw Error(T(108,by(t)||"Unknown",n));return Se({},r,a)}function hi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ia,Oa=Xe.current,ce(Xe,t),ce(it,it.current),!0}function fm(t,e,r){var a=t.stateNode;if(!a)throw Error(T(169));r?(t=_f(t,e,Oa),a.__reactInternalMemoizedMergedChildContext=t,he(it),he(Xe),ce(Xe,t)):he(it),ce(it,r)}var fr=null,Ki=!1,zo=!1;function Cf(t){fr===null?fr=[t]:fr.push(t)}function zx(t){Ki=!0,Cf(t)}function ua(){if(!zo&&fr!==null){zo=!0;var t=0,e=le;try{var r=fr;for(le=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}fr=null,Ki=!1}catch(n){throw fr!==null&&(fr=fr.slice(t+1)),Xg(bd,ua),n}finally{le=e,zo=!1}}return null}var nn=[],sn=0,pi=null,yi=0,Nt=[],St=0,Ta=null,pr=1,yr="";function ba(t,e){nn[sn++]=yi,nn[sn++]=pi,pi=t,yi=e}function Pf(t,e,r){Nt[St++]=pr,Nt[St++]=yr,Nt[St++]=Ta,Ta=t;var a=pr;t=yr;var n=32-Wt(a)-1;a&=~(1<<n),r+=1;var l=32-Wt(e)+n;if(30<l){var i=n-n%5;l=(a&(1<<i)-1).toString(32),a>>=i,n-=i,pr=1<<32-Wt(e)+n|r<<n|a,yr=l+t}else pr=1<<l|r<<n|a,yr=t}function Pd(t){t.return!==null&&(ba(t,1),Pf(t,1,0))}function Md(t){for(;t===pi;)pi=nn[--sn],nn[sn]=null,yi=nn[--sn],nn[sn]=null;for(;t===Ta;)Ta=Nt[--St],Nt[St]=null,yr=Nt[--St],Nt[St]=null,pr=Nt[--St],Nt[St]=null}var yt=null,pt=null,be=!1,$t=null;function Mf(t,e){var r=_t(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function hm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,pt=Zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ta!==null?{id:pr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=_t(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,yt=t,pt=null,!0):!1;default:return!1}}function Oc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tc(t){if(be){var e=pt;if(e){var r=e;if(!hm(t,e)){if(Oc(t))throw Error(T(418));e=Zr(r.nextSibling);var a=yt;e&&hm(t,e)?Mf(a,r):(t.flags=t.flags&-4097|2,be=!1,yt=t)}}else{if(Oc(t))throw Error(T(418));t.flags=t.flags&-4097|2,be=!1,yt=t}}}function pm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function vl(t){if(t!==yt)return!1;if(!be)return pm(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cc(t.type,t.memoizedProps)),e&&(e=pt)){if(Oc(t))throw Df(),Error(T(418));for(;e;)Mf(t,e),e=Zr(e.nextSibling)}if(pm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){pt=Zr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=yt?Zr(t.stateNode.nextSibling):null;return!0}function Df(){for(var t=pt;t;)t=Zr(t.nextSibling)}function vn(){pt=yt=null,be=!1}function Dd(t){$t===null?$t=[t]:$t.push(t)}var Fx=Nr.ReactCurrentBatchConfig;function Yn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var a=r.stateNode}if(!a)throw Error(T(147,t));var n=a,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(i){var o=n.refs;i===null?delete o[l]:o[l]=i},e._stringRef=l,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function kl(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ym(t){var e=t._init;return e(t._payload)}function Of(t){function e(p,h){if(t){var v=p.deletions;v===null?(p.deletions=[h],p.flags|=16):v.push(h)}}function r(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function a(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function n(p,h){return p=aa(p,h),p.index=0,p.sibling=null,p}function l(p,h,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<h?(p.flags|=2,h):v):(p.flags|=2,h)):(p.flags|=1048576,h)}function i(p){return t&&p.alternate===null&&(p.flags|=2),p}function o(p,h,v,E){return h===null||h.tag!==6?(h=Wo(v,p.mode,E),h.return=p,h):(h=n(h,v),h.return=p,h)}function c(p,h,v,E){var w=v.type;return w===qa?u(p,h,v.props.children,E,v.key):h!==null&&(h.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Br&&ym(w)===h.type)?(E=n(h,v.props),E.ref=Yn(p,h,v),E.return=p,E):(E=ql(v.type,v.key,v.props,null,p.mode,E),E.ref=Yn(p,h,v),E.return=p,E)}function d(p,h,v,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Ho(v,p.mode,E),h.return=p,h):(h=n(h,v.children||[]),h.return=p,h)}function u(p,h,v,E,w){return h===null||h.tag!==7?(h=Pa(v,p.mode,E,w),h.return=p,h):(h=n(h,v),h.return=p,h)}function g(p,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Wo(""+h,p.mode,v),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case dl:return v=ql(h.type,h.key,h.props,null,p.mode,v),v.ref=Yn(p,null,h),v.return=p,v;case Xa:return h=Ho(h,p.mode,v),h.return=p,h;case Br:var E=h._init;return g(p,E(h._payload),v)}if(rs(h)||$n(h))return h=Pa(h,p.mode,v,null),h.return=p,h;kl(p,h)}return null}function m(p,h,v,E){var w=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:o(p,h,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dl:return v.key===w?c(p,h,v,E):null;case Xa:return v.key===w?d(p,h,v,E):null;case Br:return w=v._init,m(p,h,w(v._payload),E)}if(rs(v)||$n(v))return w!==null?null:u(p,h,v,E,null);kl(p,v)}return null}function f(p,h,v,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(v)||null,o(h,p,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case dl:return p=p.get(E.key===null?v:E.key)||null,c(h,p,E,w);case Xa:return p=p.get(E.key===null?v:E.key)||null,d(h,p,E,w);case Br:var S=E._init;return f(p,h,v,S(E._payload),w)}if(rs(E)||$n(E))return p=p.get(v)||null,u(h,p,E,w,null);kl(h,E)}return null}function y(p,h,v,E){for(var w=null,S=null,_=h,C=h=0,A=null;_!==null&&C<v.length;C++){_.index>C?(A=_,_=null):A=_.sibling;var M=m(p,_,v[C],E);if(M===null){_===null&&(_=A);break}t&&_&&M.alternate===null&&e(p,_),h=l(M,h,C),S===null?w=M:S.sibling=M,S=M,_=A}if(C===v.length)return r(p,_),be&&ba(p,C),w;if(_===null){for(;C<v.length;C++)_=g(p,v[C],E),_!==null&&(h=l(_,h,C),S===null?w=_:S.sibling=_,S=_);return be&&ba(p,C),w}for(_=a(p,_);C<v.length;C++)A=f(_,p,C,v[C],E),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?C:A.key),h=l(A,h,C),S===null?w=A:S.sibling=A,S=A);return t&&_.forEach(function(B){return e(p,B)}),be&&ba(p,C),w}function x(p,h,v,E){var w=$n(v);if(typeof w!="function")throw Error(T(150));if(v=w.call(v),v==null)throw Error(T(151));for(var S=w=null,_=h,C=h=0,A=null,M=v.next();_!==null&&!M.done;C++,M=v.next()){_.index>C?(A=_,_=null):A=_.sibling;var B=m(p,_,M.value,E);if(B===null){_===null&&(_=A);break}t&&_&&B.alternate===null&&e(p,_),h=l(B,h,C),S===null?w=B:S.sibling=B,S=B,_=A}if(M.done)return r(p,_),be&&ba(p,C),w;if(_===null){for(;!M.done;C++,M=v.next())M=g(p,M.value,E),M!==null&&(h=l(M,h,C),S===null?w=M:S.sibling=M,S=M);return be&&ba(p,C),w}for(_=a(p,_);!M.done;C++,M=v.next())M=f(_,p,C,M.value,E),M!==null&&(t&&M.alternate!==null&&_.delete(M.key===null?C:M.key),h=l(M,h,C),S===null?w=M:S.sibling=M,S=M);return t&&_.forEach(function(H){return e(p,H)}),be&&ba(p,C),w}function k(p,h,v,E){if(typeof v=="object"&&v!==null&&v.type===qa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case dl:e:{for(var w=v.key,S=h;S!==null;){if(S.key===w){if(w=v.type,w===qa){if(S.tag===7){r(p,S.sibling),h=n(S,v.props.children),h.return=p,p=h;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Br&&ym(w)===S.type){r(p,S.sibling),h=n(S,v.props),h.ref=Yn(p,S,v),h.return=p,p=h;break e}r(p,S);break}else e(p,S);S=S.sibling}v.type===qa?(h=Pa(v.props.children,p.mode,E,v.key),h.return=p,p=h):(E=ql(v.type,v.key,v.props,null,p.mode,E),E.ref=Yn(p,h,v),E.return=p,p=E)}return i(p);case Xa:e:{for(S=v.key;h!==null;){if(h.key===S)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){r(p,h.sibling),h=n(h,v.children||[]),h.return=p,p=h;break e}else{r(p,h);break}else e(p,h);h=h.sibling}h=Ho(v,p.mode,E),h.return=p,p=h}return i(p);case Br:return S=v._init,k(p,h,S(v._payload),E)}if(rs(v))return y(p,h,v,E);if($n(v))return x(p,h,v,E);kl(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(r(p,h.sibling),h=n(h,v),h.return=p,p=h):(r(p,h),h=Wo(v,p.mode,E),h.return=p,p=h),i(p)):r(p,h)}return k}var kn=Of(!0),Tf=Of(!1),xi=da(null),bi=null,ln=null,Od=null;function Td(){Od=ln=bi=null}function Rd(t){var e=xi.current;he(xi),t._currentValue=e}function Rc(t,e,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===r)break;t=t.return}}function fn(t,e){bi=t,Od=ln=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function Pt(t){var e=t._currentValue;if(Od!==t)if(t={context:t,memoizedValue:e,next:null},ln===null){if(bi===null)throw Error(T(308));ln=t,bi.dependencies={lanes:0,firstContext:t}}else ln=ln.next=t;return e}var Na=null;function Ld(t){Na===null?Na=[t]:Na.push(t)}function Rf(t,e,r,a){var n=e.interleaved;return n===null?(r.next=r,Ld(e)):(r.next=n.next,n.next=r),e.interleaved=r,Er(t,a)}function Er(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var jr=!1;function Ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ea(t,e,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,te&2){var n=a.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),a.pending=e,Er(t,r)}return n=a.interleaved,n===null?(e.next=e,Ld(a)):(e.next=n.next,n.next=e),a.interleaved=e,Er(t,r)}function Yl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var a=e.lanes;a&=t.pendingLanes,r|=a,e.lanes=r,vd(t,r)}}function xm(t,e){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?n=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?n=l=e:l=l.next=e}else n=l=e;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function vi(t,e,r,a){var n=t.updateQueue;jr=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var g=n.baseState;i=0,u=d=c=null,o=l;do{var m=o.lane,f=o.eventTime;if((a&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,x=o;switch(m=e,f=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){g=y.call(f,g,m);break e}g=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(f,g,m):y,m==null)break e;g=Se({},g,m);break e;case 2:jr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=n.effects,m===null?n.effects=[o]:m.push(o))}else f={eventTime:f,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=f,c=g):u=u.next=f,i|=m;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;m=o,o=m.next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}while(!0);if(u===null&&(c=g),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,e=n.shared.interleaved,e!==null){n=e;do i|=n.lane,n=n.next;while(n!==e)}else l===null&&(n.shared.lanes=0);La|=i,t.lanes=i,t.memoizedState=g}}function bm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var a=t[e],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(T(191,n));n.call(a)}}}var al={},sr=da(al),zs=da(al),Fs=da(al);function Sa(t){if(t===al)throw Error(T(174));return t}function zd(t,e){switch(ce(Fs,e),ce(zs,t),ce(sr,al),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gc(e,t)}he(sr),ce(sr,e)}function En(){he(sr),he(zs),he(Fs)}function Af(t){Sa(Fs.current);var e=Sa(sr.current),r=gc(e,t.type);e!==r&&(ce(zs,t),ce(sr,r))}function Fd(t){zs.current===t&&(he(sr),he(zs))}var we=da(0);function ki(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fo=[];function Id(){for(var t=0;t<Fo.length;t++)Fo[t]._workInProgressVersionPrimary=null;Fo.length=0}var Kl=Nr.ReactCurrentDispatcher,Io=Nr.ReactCurrentBatchConfig,Ra=0,Ne=null,ze=null,je=null,Ei=!1,ps=!1,Is=0,Ix=0;function Ye(){throw Error(T(321))}function Bd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ut(t[r],e[r]))return!1;return!0}function jd(t,e,r,a,n,l){if(Ra=l,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kl.current=t===null||t.memoizedState===null?Vx:Wx,t=r(a,n),ps){l=0;do{if(ps=!1,Is=0,25<=l)throw Error(T(301));l+=1,je=ze=null,e.updateQueue=null,Kl.current=Hx,t=r(a,n)}while(ps)}if(Kl.current=wi,e=ze!==null&&ze.next!==null,Ra=0,je=ze=Ne=null,Ei=!1,e)throw Error(T(300));return t}function $d(){var t=Is!==0;return Is=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ne.memoizedState=je=t:je=je.next=t,je}function Mt(){if(ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=je===null?Ne.memoizedState:je.next;if(e!==null)je=e,ze=t;else{if(t===null)throw Error(T(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},je===null?Ne.memoizedState=je=t:je=je.next=t}return je}function Bs(t,e){return typeof e=="function"?e(t):e}function Bo(t){var e=Mt(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var a=ze,n=a.baseQueue,l=r.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}a.baseQueue=n=l,r.pending=null}if(n!==null){l=n.next,a=a.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((Ra&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:t(a,d.action);else{var g={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=g,i=a):c=c.next=g,Ne.lanes|=u,La|=u}d=d.next}while(d!==null&&d!==l);c===null?i=a:c.next=o,Ut(a,e.memoizedState)||(st=!0),e.memoizedState=a,e.baseState=i,e.baseQueue=c,r.lastRenderedState=a}if(t=r.interleaved,t!==null){n=t;do l=n.lane,Ne.lanes|=l,La|=l,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function jo(t){var e=Mt(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var a=r.dispatch,n=r.pending,l=e.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do l=t(l,i.action),i=i.next;while(i!==n);Ut(l,e.memoizedState)||(st=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),r.lastRenderedState=l}return[l,a]}function zf(){}function Ff(t,e){var r=Ne,a=Mt(),n=e(),l=!Ut(a.memoizedState,n);if(l&&(a.memoizedState=n,st=!0),a=a.queue,Vd(jf.bind(null,r,a,t),[t]),a.getSnapshot!==e||l||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,js(9,Bf.bind(null,r,a,n,e),void 0,null),Ve===null)throw Error(T(349));Ra&30||If(r,e,n)}return n}function If(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Bf(t,e,r,a){e.value=r,e.getSnapshot=a,$f(e)&&Vf(t)}function jf(t,e,r){return r(function(){$f(e)&&Vf(t)})}function $f(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ut(t,r)}catch{return!0}}function Vf(t){var e=Er(t,1);e!==null&&Ht(e,t,1,-1)}function vm(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},e.queue=t,t=t.dispatch=$x.bind(null,Ne,t),[e.memoizedState,t]}function js(t,e,r,a){return t={tag:t,create:e,destroy:r,deps:a,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,e.lastEffect=t)),t}function Wf(){return Mt().memoizedState}function Gl(t,e,r,a){var n=er();Ne.flags|=t,n.memoizedState=js(1|e,r,void 0,a===void 0?null:a)}function Gi(t,e,r,a){var n=Mt();a=a===void 0?null:a;var l=void 0;if(ze!==null){var i=ze.memoizedState;if(l=i.destroy,a!==null&&Bd(a,i.deps)){n.memoizedState=js(e,r,l,a);return}}Ne.flags|=t,n.memoizedState=js(1|e,r,l,a)}function km(t,e){return Gl(8390656,8,t,e)}function Vd(t,e){return Gi(2048,8,t,e)}function Hf(t,e){return Gi(4,2,t,e)}function Uf(t,e){return Gi(4,4,t,e)}function Yf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kf(t,e,r){return r=r!=null?r.concat([t]):null,Gi(4,4,Yf.bind(null,e,t),r)}function Wd(){}function Gf(t,e){var r=Mt();e=e===void 0?null:e;var a=r.memoizedState;return a!==null&&e!==null&&Bd(e,a[1])?a[0]:(r.memoizedState=[t,e],t)}function Qf(t,e){var r=Mt();e=e===void 0?null:e;var a=r.memoizedState;return a!==null&&e!==null&&Bd(e,a[1])?a[0]:(t=t(),r.memoizedState=[t,e],t)}function Jf(t,e,r){return Ra&21?(Ut(r,e)||(r=ef(),Ne.lanes|=r,La|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=r)}function Bx(t,e){var r=le;le=r!==0&&4>r?r:4,t(!0);var a=Io.transition;Io.transition={};try{t(!1),e()}finally{le=r,Io.transition=a}}function Xf(){return Mt().memoizedState}function jx(t,e,r){var a=ra(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},qf(t))Zf(e,r);else if(r=Rf(t,e,r,a),r!==null){var n=Ze();Ht(r,t,a,n),eh(r,e,a)}}function $x(t,e,r){var a=ra(t),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(qf(t))Zf(e,n);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var i=e.lastRenderedState,o=l(i,r);if(n.hasEagerState=!0,n.eagerState=o,Ut(o,i)){var c=e.interleaved;c===null?(n.next=n,Ld(e)):(n.next=c.next,c.next=n),e.interleaved=n;return}}catch{}finally{}r=Rf(t,e,n,a),r!==null&&(n=Ze(),Ht(r,t,a,n),eh(r,e,a))}}function qf(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function Zf(t,e){ps=Ei=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function eh(t,e,r){if(r&4194240){var a=e.lanes;a&=t.pendingLanes,r|=a,e.lanes=r,vd(t,r)}}var wi={readContext:Pt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},Vx={readContext:Pt,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Pt,useEffect:km,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gl(4194308,4,Yf.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gl(4,2,t,e)},useMemo:function(t,e){var r=er();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var a=er();return e=r!==void 0?r(e):e,a.memoizedState=a.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},a.queue=t,t=t.dispatch=jx.bind(null,Ne,t),[a.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:vm,useDebugValue:Wd,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=vm(!1),e=t[0];return t=Bx.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var a=Ne,n=er();if(be){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),Ve===null)throw Error(T(349));Ra&30||If(a,e,r)}n.memoizedState=r;var l={value:r,getSnapshot:e};return n.queue=l,km(jf.bind(null,a,l,t),[t]),a.flags|=2048,js(9,Bf.bind(null,a,l,r,e),void 0,null),r},useId:function(){var t=er(),e=Ve.identifierPrefix;if(be){var r=yr,a=pr;r=(a&~(1<<32-Wt(a)-1)).toString(32)+r,e=":"+e+"R"+r,r=Is++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ix++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wx={readContext:Pt,useCallback:Gf,useContext:Pt,useEffect:Vd,useImperativeHandle:Kf,useInsertionEffect:Hf,useLayoutEffect:Uf,useMemo:Qf,useReducer:Bo,useRef:Wf,useState:function(){return Bo(Bs)},useDebugValue:Wd,useDeferredValue:function(t){var e=Mt();return Jf(e,ze.memoizedState,t)},useTransition:function(){var t=Bo(Bs)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:zf,useSyncExternalStore:Ff,useId:Xf,unstable_isNewReconciler:!1},Hx={readContext:Pt,useCallback:Gf,useContext:Pt,useEffect:Vd,useImperativeHandle:Kf,useInsertionEffect:Hf,useLayoutEffect:Uf,useMemo:Qf,useReducer:jo,useRef:Wf,useState:function(){return jo(Bs)},useDebugValue:Wd,useDeferredValue:function(t){var e=Mt();return ze===null?e.memoizedState=t:Jf(e,ze.memoizedState,t)},useTransition:function(){var t=jo(Bs)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:zf,useSyncExternalStore:Ff,useId:Xf,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Lc(t,e,r,a){e=t.memoizedState,r=r(a,e),r=r==null?e:Se({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qi={isMounted:function(t){return(t=t._reactInternals)?Ba(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var a=Ze(),n=ra(t),l=br(a,n);l.payload=e,r!=null&&(l.callback=r),e=ea(t,l,n),e!==null&&(Ht(e,t,n,a),Yl(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var a=Ze(),n=ra(t),l=br(a,n);l.tag=1,l.payload=e,r!=null&&(l.callback=r),e=ea(t,l,n),e!==null&&(Ht(e,t,n,a),Yl(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ze(),a=ra(t),n=br(r,a);n.tag=2,e!=null&&(n.callback=e),e=ea(t,n,a),e!==null&&(Ht(e,t,a,r),Yl(e,t,a))}};function Em(t,e,r,a,n,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,l,i):e.prototype&&e.prototype.isPureReactComponent?!Ts(r,a)||!Ts(n,l):!0}function th(t,e,r){var a=!1,n=ia,l=e.contextType;return typeof l=="object"&&l!==null?l=Pt(l):(n=ot(e)?Oa:Xe.current,a=e.contextTypes,l=(a=a!=null)?bn(t,n):ia),e=new e(r,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qi,t.stateNode=e,e._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=l),e}function wm(t,e,r,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,a),e.state!==t&&Qi.enqueueReplaceState(e,e.state,null)}function Ac(t,e,r,a){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},Ad(t);var l=e.contextType;typeof l=="object"&&l!==null?n.context=Pt(l):(l=ot(e)?Oa:Xe.current,n.context=bn(t,l)),n.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(Lc(t,e,l,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Qi.enqueueReplaceState(n,n.state,null),vi(t,r,n,a),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function wn(t,e){try{var r="",a=e;do r+=xy(a),a=a.return;while(a);var n=r}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:n,digest:null}}function $o(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function zc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ux=typeof WeakMap=="function"?WeakMap:Map;function rh(t,e,r){r=br(-1,r),r.tag=3,r.payload={element:null};var a=e.value;return r.callback=function(){Si||(Si=!0,Yc=a),zc(t,e)},r}function ah(t,e,r){r=br(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var n=e.value;r.payload=function(){return a(n)},r.callback=function(){zc(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){zc(t,e),typeof a!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function Nm(t,e,r){var a=t.pingCache;if(a===null){a=t.pingCache=new Ux;var n=new Set;a.set(e,n)}else n=a.get(e),n===void 0&&(n=new Set,a.set(e,n));n.has(r)||(n.add(r),t=sb.bind(null,t,e,r),e.then(t,t))}function Sm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _m(t,e,r,a,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=br(-1,1),e.tag=2,ea(r,e,1))),r.lanes|=1),t)}var Yx=Nr.ReactCurrentOwner,st=!1;function qe(t,e,r,a){e.child=t===null?Tf(e,null,r,a):kn(e,t.child,r,a)}function Cm(t,e,r,a,n){r=r.render;var l=e.ref;return fn(e,n),a=jd(t,e,r,a,l,n),r=$d(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,wr(t,e,n)):(be&&r&&Pd(e),e.flags|=1,qe(t,e,a,n),e.child)}function Pm(t,e,r,a,n){if(t===null){var l=r.type;return typeof l=="function"&&!Xd(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=l,nh(t,e,l,a,n)):(t=ql(r.type,null,a,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&n)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Ts,r(i,a)&&t.ref===e.ref)return wr(t,e,n)}return e.flags|=1,t=aa(l,a),t.ref=e.ref,t.return=e,e.child=t}function nh(t,e,r,a,n){if(t!==null){var l=t.memoizedProps;if(Ts(l,a)&&t.ref===e.ref)if(st=!1,e.pendingProps=a=l,(t.lanes&n)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,wr(t,e,n)}return Fc(t,e,r,a,n)}function sh(t,e,r){var a=e.pendingProps,n=a.children,l=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(cn,ht),ht|=r;else{if(!(r&1073741824))return t=l!==null?l.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(cn,ht),ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,ce(cn,ht),ht|=a}else l!==null?(a=l.baseLanes|r,e.memoizedState=null):a=r,ce(cn,ht),ht|=a;return qe(t,e,n,r),e.child}function lh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Fc(t,e,r,a,n){var l=ot(r)?Oa:Xe.current;return l=bn(e,l),fn(e,n),r=jd(t,e,r,a,l,n),a=$d(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,wr(t,e,n)):(be&&a&&Pd(e),e.flags|=1,qe(t,e,r,n),e.child)}function Mm(t,e,r,a,n){if(ot(r)){var l=!0;hi(e)}else l=!1;if(fn(e,n),e.stateNode===null)Ql(t,e),th(e,r,a),Ac(e,r,a,n),a=!0;else if(t===null){var i=e.stateNode,o=e.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Pt(d):(d=ot(r)?Oa:Xe.current,d=bn(e,d));var u=r.getDerivedStateFromProps,g=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==a||c!==d)&&wm(e,i,a,d),jr=!1;var m=e.memoizedState;i.state=m,vi(e,a,i,n),c=e.memoizedState,o!==a||m!==c||it.current||jr?(typeof u=="function"&&(Lc(e,r,u,a),c=e.memoizedState),(o=jr||Em(e,r,o,a,m,c,d))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=c),i.props=a,i.state=c,i.context=d,a=o):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{i=e.stateNode,Lf(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:Bt(e.type,o),i.props=d,g=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pt(c):(c=ot(r)?Oa:Xe.current,c=bn(e,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||m!==c)&&wm(e,i,a,c),jr=!1,m=e.memoizedState,i.state=m,vi(e,a,i,n);var y=e.memoizedState;o!==g||m!==y||it.current||jr?(typeof f=="function"&&(Lc(e,r,f,a),y=e.memoizedState),(d=jr||Em(e,r,d,a,m,y,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,y,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=y),i.props=a,i.state=y,i.context=c,a=d):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),a=!1)}return Ic(t,e,r,a,l,n)}function Ic(t,e,r,a,n,l){lh(t,e);var i=(e.flags&128)!==0;if(!a&&!i)return n&&fm(e,r,!1),wr(t,e,l);a=e.stateNode,Yx.current=e;var o=i&&typeof r.getDerivedStateFromError!="function"?null:a.render();return e.flags|=1,t!==null&&i?(e.child=kn(e,t.child,null,l),e.child=kn(e,null,o,l)):qe(t,e,o,l),e.memoizedState=a.state,n&&fm(e,r,!0),e.child}function ih(t){var e=t.stateNode;e.pendingContext?gm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gm(t,e.context,!1),zd(t,e.containerInfo)}function Dm(t,e,r,a,n){return vn(),Dd(n),e.flags|=256,qe(t,e,r,a),e.child}var Bc={dehydrated:null,treeContext:null,retryLane:0};function jc(t){return{baseLanes:t,cachePool:null,transitions:null}}function oh(t,e,r){var a=e.pendingProps,n=we.current,l=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(n&2)!==0),o?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),ce(we,n&1),t===null)return Tc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=a.children,t=a.fallback,l?(a=e.mode,l=e.child,i={mode:"hidden",children:i},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=qi(i,a,0,null),t=Pa(t,a,r,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=jc(r),e.memoizedState=Bc,t):Hd(e,i));if(n=t.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return Kx(t,e,i,a,o,n,r);if(l){l=a.fallback,i=e.mode,n=t.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&e.child!==n?(a=e.child,a.childLanes=0,a.pendingProps=c,e.deletions=null):(a=aa(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?l=aa(o,l):(l=Pa(l,i,r,null),l.flags|=2),l.return=e,a.return=e,a.sibling=l,e.child=a,a=l,l=e.child,i=t.child.memoizedState,i=i===null?jc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~r,e.memoizedState=Bc,a}return l=t.child,t=l.sibling,a=aa(l,{mode:"visible",children:a.children}),!(e.mode&1)&&(a.lanes=r),a.return=e,a.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=a,e.memoizedState=null,a}function Hd(t,e){return e=qi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function El(t,e,r,a){return a!==null&&Dd(a),kn(e,t.child,null,r),t=Hd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kx(t,e,r,a,n,l,i){if(r)return e.flags&256?(e.flags&=-257,a=$o(Error(T(422))),El(t,e,i,a)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=a.fallback,n=e.mode,a=qi({mode:"visible",children:a.children},n,0,null),l=Pa(l,n,i,null),l.flags|=2,a.return=e,l.return=e,a.sibling=l,e.child=a,e.mode&1&&kn(e,t.child,null,i),e.child.memoizedState=jc(i),e.memoizedState=Bc,l);if(!(e.mode&1))return El(t,e,i,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,l=Error(T(419)),a=$o(l,a,void 0),El(t,e,i,a)}if(o=(i&t.childLanes)!==0,st||o){if(a=Ve,a!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,Er(t,n),Ht(a,t,n,-1))}return Jd(),a=$o(Error(T(421))),El(t,e,i,a)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=lb.bind(null,t),n._reactRetry=e,null):(t=l.treeContext,pt=Zr(n.nextSibling),yt=e,be=!0,$t=null,t!==null&&(Nt[St++]=pr,Nt[St++]=yr,Nt[St++]=Ta,pr=t.id,yr=t.overflow,Ta=e),e=Hd(e,a.children),e.flags|=4096,e)}function Om(t,e,r){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Rc(t.return,e,r)}function Vo(t,e,r,a,n){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=n)}function ch(t,e,r){var a=e.pendingProps,n=a.revealOrder,l=a.tail;if(qe(t,e,a.children,r),a=we.current,a&2)a=a&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Om(t,r,e);else if(t.tag===19)Om(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(ce(we,a),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&ki(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),Vo(e,!1,n,r,l);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&ki(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}Vo(e,!0,r,null,l);break;case"together":Vo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ql(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),La|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=aa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=aa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Gx(t,e,r){switch(e.tag){case 3:ih(e),vn();break;case 5:Af(e);break;case 1:ot(e.type)&&hi(e);break;case 4:zd(e,e.stateNode.containerInfo);break;case 10:var a=e.type._context,n=e.memoizedProps.value;ce(xi,a._currentValue),a._currentValue=n;break;case 13:if(a=e.memoizedState,a!==null)return a.dehydrated!==null?(ce(we,we.current&1),e.flags|=128,null):r&e.child.childLanes?oh(t,e,r):(ce(we,we.current&1),t=wr(t,e,r),t!==null?t.sibling:null);ce(we,we.current&1);break;case 19:if(a=(r&e.childLanes)!==0,t.flags&128){if(a)return ch(t,e,r);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ce(we,we.current),a)break;return null;case 22:case 23:return e.lanes=0,sh(t,e,r)}return wr(t,e,r)}var dh,$c,uh,mh;dh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$c=function(){};uh=function(t,e,r,a){var n=t.memoizedProps;if(n!==a){t=e.stateNode,Sa(sr.current);var l=null;switch(r){case"input":n=cc(t,n),a=cc(t,a),l=[];break;case"select":n=Se({},n,{value:void 0}),a=Se({},a,{value:void 0}),l=[];break;case"textarea":n=mc(t,n),a=mc(t,a),l=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=gi)}fc(r,a);var i;r=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ss.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ss.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ge("scroll",t),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(e.updateQueue=d)&&(e.flags|=4)}};mh=function(t,e,r,a){r!==a&&(e.flags|=4)};function Kn(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(e)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=a,t.childLanes=r,e}function Qx(t,e,r){var a=e.pendingProps;switch(Md(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return ot(e.type)&&fi(),Ke(e),null;case 3:return a=e.stateNode,En(),he(it),he(Xe),Id(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$t!==null&&(Qc($t),$t=null))),$c(t,e),Ke(e),null;case 5:Fd(e);var n=Sa(Fs.current);if(r=e.type,t!==null&&e.stateNode!=null)uh(t,e,r,a,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!a){if(e.stateNode===null)throw Error(T(166));return Ke(e),null}if(t=Sa(sr.current),vl(e)){a=e.stateNode,r=e.type;var l=e.memoizedProps;switch(a[ar]=e,a[As]=l,t=(e.mode&1)!==0,r){case"dialog":ge("cancel",a),ge("close",a);break;case"iframe":case"object":case"embed":ge("load",a);break;case"video":case"audio":for(n=0;n<ns.length;n++)ge(ns[n],a);break;case"source":ge("error",a);break;case"img":case"image":case"link":ge("error",a),ge("load",a);break;case"details":ge("toggle",a);break;case"input":ju(a,l),ge("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},ge("invalid",a);break;case"textarea":Vu(a,l),ge("invalid",a)}fc(r,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?a.textContent!==o&&(l.suppressHydrationWarning!==!0&&bl(a.textContent,o,t),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&bl(a.textContent,o,t),n=["children",""+o]):Ss.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ge("scroll",a)}switch(r){case"input":ul(a),$u(a,l,!0);break;case"textarea":ul(a),Wu(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=gi)}a=n,e.updateQueue=a,a!==null&&(e.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bg(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=i.createElement(r,{is:a.is}):(t=i.createElement(r),r==="select"&&(i=t,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):t=i.createElementNS(t,r),t[ar]=e,t[As]=a,dh(t,e,!1,!1),e.stateNode=t;e:{switch(i=hc(r,a),r){case"dialog":ge("cancel",t),ge("close",t),n=a;break;case"iframe":case"object":case"embed":ge("load",t),n=a;break;case"video":case"audio":for(n=0;n<ns.length;n++)ge(ns[n],t);n=a;break;case"source":ge("error",t),n=a;break;case"img":case"image":case"link":ge("error",t),ge("load",t),n=a;break;case"details":ge("toggle",t),n=a;break;case"input":ju(t,a),n=cc(t,a),ge("invalid",t);break;case"option":n=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},n=Se({},a,{value:void 0}),ge("invalid",t);break;case"textarea":Vu(t,a),n=mc(t,a),ge("invalid",t);break;default:n=a}fc(r,n),o=n;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Vg(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jg(t,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_s(t,c):typeof c=="number"&&_s(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ss.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ge("scroll",t):c!=null&&fd(t,l,c,i))}switch(r){case"input":ul(t),$u(t,a,!1);break;case"textarea":ul(t),Wu(t);break;case"option":a.value!=null&&t.setAttribute("value",""+la(a.value));break;case"select":t.multiple=!!a.multiple,l=a.value,l!=null?dn(t,!!a.multiple,l,!1):a.defaultValue!=null&&dn(t,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=gi)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)mh(t,e,t.memoizedProps,a);else{if(typeof a!="string"&&e.stateNode===null)throw Error(T(166));if(r=Sa(Fs.current),Sa(sr.current),vl(e)){if(a=e.stateNode,r=e.memoizedProps,a[ar]=e,(l=a.nodeValue!==r)&&(t=yt,t!==null))switch(t.tag){case 3:bl(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bl(a.nodeValue,r,(t.mode&1)!==0)}l&&(e.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[ar]=e,e.stateNode=a}return Ke(e),null;case 13:if(he(we),a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&pt!==null&&e.mode&1&&!(e.flags&128))Df(),vn(),e.flags|=98560,l=!1;else if(l=vl(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(T(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(T(317));l[ar]=e}else vn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),l=!1}else $t!==null&&(Qc($t),$t=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Fe===0&&(Fe=3):Jd())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return En(),$c(t,e),t===null&&Rs(e.stateNode.containerInfo),Ke(e),null;case 10:return Rd(e.type._context),Ke(e),null;case 17:return ot(e.type)&&fi(),Ke(e),null;case 19:if(he(we),l=e.memoizedState,l===null)return Ke(e),null;if(a=(e.flags&128)!==0,i=l.rendering,i===null)if(a)Kn(l,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ki(t),i!==null){for(e.flags|=128,Kn(l,!1),a=i.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),e.subtreeFlags=0,a=r,r=e.child;r!==null;)l=r,t=a,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ce(we,we.current&1|2),e.child}t=t.sibling}l.tail!==null&&Me()>Nn&&(e.flags|=128,a=!0,Kn(l,!1),e.lanes=4194304)}else{if(!a)if(t=ki(i),t!==null){if(e.flags|=128,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Kn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!be)return Ke(e),null}else 2*Me()-l.renderingStartTime>Nn&&r!==1073741824&&(e.flags|=128,a=!0,Kn(l,!1),e.lanes=4194304);l.isBackwards?(i.sibling=e.child,e.child=i):(r=l.last,r!==null?r.sibling=i:e.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Me(),e.sibling=null,r=we.current,ce(we,a?r&1|2:r&1),e):(Ke(e),null);case 22:case 23:return Qd(),a=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(e.flags|=8192),a&&e.mode&1?ht&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Jx(t,e){switch(Md(e),e.tag){case 1:return ot(e.type)&&fi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return En(),he(it),he(Xe),Id(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fd(e),null;case 13:if(he(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));vn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(we),null;case 4:return En(),null;case 10:return Rd(e.type._context),null;case 22:case 23:return Qd(),null;case 24:return null;default:return null}}var wl=!1,Qe=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,I=null;function on(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){_e(t,e,a)}else r.current=null}function Vc(t,e,r){try{r()}catch(a){_e(t,e,a)}}var Tm=!1;function qx(t,e){if(Sc=di,t=yf(),Cd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,g=t,m=null;t:for(;;){for(var f;g!==r||n!==0&&g.nodeType!==3||(o=i+n),g!==l||a!==0&&g.nodeType!==3||(c=i+a),g.nodeType===3&&(i+=g.nodeValue.length),(f=g.firstChild)!==null;)m=g,g=f;for(;;){if(g===t)break t;if(m===r&&++d===n&&(o=i),m===l&&++u===a&&(c=i),(f=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=f}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_c={focusedElem:t,selectionRange:r},di=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,k=y.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:Bt(e.type,x),k);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(E){_e(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return y=Tm,Tm=!1,y}function ys(t,e,r){var a=e.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&t)===t){var l=n.destroy;n.destroy=void 0,l!==void 0&&Vc(e,r,l)}n=n.next}while(n!==a)}}function Ji(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==e)}}function Wc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function gh(t){var e=t.alternate;e!==null&&(t.alternate=null,gh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[As],delete e[Mc],delete e[Lx],delete e[Ax])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fh(t){return t.tag===5||t.tag===3||t.tag===4}function Rm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hc(t,e,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=gi));else if(a!==4&&(t=t.child,t!==null))for(Hc(t,e,r),t=t.sibling;t!==null;)Hc(t,e,r),t=t.sibling}function Uc(t,e,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Uc(t,e,r),t=t.sibling;t!==null;)Uc(t,e,r),t=t.sibling}var We=null,jt=!1;function Ar(t,e,r){for(r=r.child;r!==null;)hh(t,e,r),r=r.sibling}function hh(t,e,r){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Vi,r)}catch{}switch(r.tag){case 5:Qe||on(r,e);case 6:var a=We,n=jt;We=null,Ar(t,e,r),We=a,jt=n,We!==null&&(jt?(t=We,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):We.removeChild(r.stateNode));break;case 18:We!==null&&(jt?(t=We,r=r.stateNode,t.nodeType===8?Ao(t.parentNode,r):t.nodeType===1&&Ao(t,r),Ds(t)):Ao(We,r.stateNode));break;case 4:a=We,n=jt,We=r.stateNode.containerInfo,jt=!0,Ar(t,e,r),We=a,jt=n;break;case 0:case 11:case 14:case 15:if(!Qe&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Vc(r,e,i),n=n.next}while(n!==a)}Ar(t,e,r);break;case 1:if(!Qe&&(on(r,e),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){_e(r,e,o)}Ar(t,e,r);break;case 21:Ar(t,e,r);break;case 22:r.mode&1?(Qe=(a=Qe)||r.memoizedState!==null,Ar(t,e,r),Qe=a):Ar(t,e,r);break;default:Ar(t,e,r)}}function Lm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Xx),e.forEach(function(a){var n=ib.bind(null,t,a);r.has(a)||(r.add(a),a.then(n,n))})}}function Ft(t,e){var r=e.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var l=t,i=e,o=i;e:for(;o!==null;){switch(o.tag){case 5:We=o.stateNode,jt=!1;break e;case 3:We=o.stateNode.containerInfo,jt=!0;break e;case 4:We=o.stateNode.containerInfo,jt=!0;break e}o=o.return}if(We===null)throw Error(T(160));hh(l,i,n),We=null,jt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){_e(n,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ph(e,t),e=e.sibling}function ph(t,e){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),Xt(t),a&4){try{ys(3,t,t.return),Ji(3,t)}catch(x){_e(t,t.return,x)}try{ys(5,t,t.return)}catch(x){_e(t,t.return,x)}}break;case 1:Ft(e,t),Xt(t),a&512&&r!==null&&on(r,r.return);break;case 5:if(Ft(e,t),Xt(t),a&512&&r!==null&&on(r,r.return),t.flags&32){var n=t.stateNode;try{_s(n,"")}catch(x){_e(t,t.return,x)}}if(a&4&&(n=t.stateNode,n!=null)){var l=t.memoizedProps,i=r!==null?r.memoizedProps:l,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Fg(n,l),hc(o,i);var d=hc(o,l);for(i=0;i<c.length;i+=2){var u=c[i],g=c[i+1];u==="style"?Vg(n,g):u==="dangerouslySetInnerHTML"?jg(n,g):u==="children"?_s(n,g):fd(n,u,g,d)}switch(o){case"input":dc(n,l);break;case"textarea":Ig(n,l);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var f=l.value;f!=null?dn(n,!!l.multiple,f,!1):m!==!!l.multiple&&(l.defaultValue!=null?dn(n,!!l.multiple,l.defaultValue,!0):dn(n,!!l.multiple,l.multiple?[]:"",!1))}n[As]=l}catch(x){_e(t,t.return,x)}}break;case 6:if(Ft(e,t),Xt(t),a&4){if(t.stateNode===null)throw Error(T(162));n=t.stateNode,l=t.memoizedProps;try{n.nodeValue=l}catch(x){_e(t,t.return,x)}}break;case 3:if(Ft(e,t),Xt(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Ds(e.containerInfo)}catch(x){_e(t,t.return,x)}break;case 4:Ft(e,t),Xt(t);break;case 13:Ft(e,t),Xt(t),n=t.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(Kd=Me())),a&4&&Lm(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Qe=(d=Qe)||u,Ft(e,t),Qe=d):Ft(e,t),Xt(t),a&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(I=t,u=t.child;u!==null;){for(g=I=u;I!==null;){switch(m=I,f=m.child,m.tag){case 0:case 11:case 14:case 15:ys(4,m,m.return);break;case 1:on(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){a=m,r=m.return;try{e=a,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){_e(a,r,x)}}break;case 5:on(m,m.return);break;case 22:if(m.memoizedState!==null){zm(g);continue}}f!==null?(f.return=m,I=f):zm(g)}u=u.sibling}e:for(u=null,g=t;;){if(g.tag===5){if(u===null){u=g;try{n=g.stateNode,d?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=g.stateNode,c=g.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=$g("display",i))}catch(x){_e(t,t.return,x)}}}else if(g.tag===6){if(u===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(x){_e(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;u===g&&(u=null),g=g.return}u===g&&(u=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ft(e,t),Xt(t),a&4&&Lm(t);break;case 21:break;default:Ft(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(fh(r)){var a=r;break e}r=r.return}throw Error(T(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(_s(n,""),a.flags&=-33);var l=Rm(t);Uc(t,l,n);break;case 3:case 4:var i=a.stateNode.containerInfo,o=Rm(t);Hc(t,o,i);break;default:throw Error(T(161))}}catch(c){_e(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zx(t,e,r){I=t,yh(t)}function yh(t,e,r){for(var a=(t.mode&1)!==0;I!==null;){var n=I,l=n.child;if(n.tag===22&&a){var i=n.memoizedState!==null||wl;if(!i){var o=n.alternate,c=o!==null&&o.memoizedState!==null||Qe;o=wl;var d=Qe;if(wl=i,(Qe=c)&&!d)for(I=n;I!==null;)i=I,c=i.child,i.tag===22&&i.memoizedState!==null?Fm(n):c!==null?(c.return=i,I=c):Fm(n);for(;l!==null;)I=l,yh(l),l=l.sibling;I=n,wl=o,Qe=d}Am(t)}else n.subtreeFlags&8772&&l!==null?(l.return=n,I=l):Am(t)}}function Am(t){for(;I!==null;){var e=I;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||Ji(5,e);break;case 1:var a=e.stateNode;if(e.flags&4&&!Qe)if(r===null)a.componentDidMount();else{var n=e.elementType===e.type?r.memoizedProps:Bt(e.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&bm(e,l,a);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}bm(e,i,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var g=u.dehydrated;g!==null&&Ds(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Qe||e.flags&512&&Wc(e)}catch(m){_e(e,e.return,m)}}if(e===t){I=null;break}if(r=e.sibling,r!==null){r.return=e.return,I=r;break}I=e.return}}function zm(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var r=e.sibling;if(r!==null){r.return=e.return,I=r;break}I=e.return}}function Fm(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ji(4,e)}catch(c){_e(e,r,c)}break;case 1:var a=e.stateNode;if(typeof a.componentDidMount=="function"){var n=e.return;try{a.componentDidMount()}catch(c){_e(e,n,c)}}var l=e.return;try{Wc(e)}catch(c){_e(e,l,c)}break;case 5:var i=e.return;try{Wc(e)}catch(c){_e(e,i,c)}}}catch(c){_e(e,e.return,c)}if(e===t){I=null;break}var o=e.sibling;if(o!==null){o.return=e.return,I=o;break}I=e.return}}var eb=Math.ceil,Ni=Nr.ReactCurrentDispatcher,Ud=Nr.ReactCurrentOwner,Ct=Nr.ReactCurrentBatchConfig,te=0,Ve=null,Te=null,He=0,ht=0,cn=da(0),Fe=0,$s=null,La=0,Xi=0,Yd=0,xs=null,at=null,Kd=0,Nn=1/0,gr=null,Si=!1,Yc=null,ta=null,Nl=!1,Hr=null,_i=0,bs=0,Kc=null,Jl=-1,Xl=0;function Ze(){return te&6?Me():Jl!==-1?Jl:Jl=Me()}function ra(t){return t.mode&1?te&2&&He!==0?He&-He:Fx.transition!==null?(Xl===0&&(Xl=ef()),Xl):(t=le,t!==0||(t=window.event,t=t===void 0?16:of(t.type)),t):1}function Ht(t,e,r,a){if(50<bs)throw bs=0,Kc=null,Error(T(185));el(t,r,a),(!(te&2)||t!==Ve)&&(t===Ve&&(!(te&2)&&(Xi|=r),Fe===4&&Vr(t,He)),ct(t,a),r===1&&te===0&&!(e.mode&1)&&(Nn=Me()+500,Ki&&ua()))}function ct(t,e){var r=t.callbackNode;Fy(t,e);var a=ci(t,t===Ve?He:0);if(a===0)r!==null&&Yu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=a&-a,t.callbackPriority!==e){if(r!=null&&Yu(r),e===1)t.tag===0?zx(Im.bind(null,t)):Cf(Im.bind(null,t)),Tx(function(){!(te&6)&&ua()}),r=null;else{switch(tf(a)){case 1:r=bd;break;case 4:r=qg;break;case 16:r=oi;break;case 536870912:r=Zg;break;default:r=oi}r=Sh(r,xh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function xh(t,e){if(Jl=-1,Xl=0,te&6)throw Error(T(327));var r=t.callbackNode;if(hn()&&t.callbackNode!==r)return null;var a=ci(t,t===Ve?He:0);if(a===0)return null;if(a&30||a&t.expiredLanes||e)e=Ci(t,a);else{e=a;var n=te;te|=2;var l=vh();(Ve!==t||He!==e)&&(gr=null,Nn=Me()+500,Ca(t,e));do try{ab();break}catch(o){bh(t,o)}while(!0);Td(),Ni.current=l,te=n,Te!==null?e=0:(Ve=null,He=0,e=Fe)}if(e!==0){if(e===2&&(n=vc(t),n!==0&&(a=n,e=Gc(t,n))),e===1)throw r=$s,Ca(t,0),Vr(t,a),ct(t,Me()),r;if(e===6)Vr(t,a);else{if(n=t.current.alternate,!(a&30)&&!tb(n)&&(e=Ci(t,a),e===2&&(l=vc(t),l!==0&&(a=l,e=Gc(t,l))),e===1))throw r=$s,Ca(t,0),Vr(t,a),ct(t,Me()),r;switch(t.finishedWork=n,t.finishedLanes=a,e){case 0:case 1:throw Error(T(345));case 2:va(t,at,gr);break;case 3:if(Vr(t,a),(a&130023424)===a&&(e=Kd+500-Me(),10<e)){if(ci(t,0)!==0)break;if(n=t.suspendedLanes,(n&a)!==a){Ze(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Pc(va.bind(null,t,at,gr),e);break}va(t,at,gr);break;case 4:if(Vr(t,a),(a&4194240)===a)break;for(e=t.eventTimes,n=-1;0<a;){var i=31-Wt(a);l=1<<i,i=e[i],i>n&&(n=i),a&=~l}if(a=n,a=Me()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*eb(a/1960))-a,10<a){t.timeoutHandle=Pc(va.bind(null,t,at,gr),a);break}va(t,at,gr);break;case 5:va(t,at,gr);break;default:throw Error(T(329))}}}return ct(t,Me()),t.callbackNode===r?xh.bind(null,t):null}function Gc(t,e){var r=xs;return t.current.memoizedState.isDehydrated&&(Ca(t,e).flags|=256),t=Ci(t,e),t!==2&&(e=at,at=r,e!==null&&Qc(e)),t}function Qc(t){at===null?at=t:at.push.apply(at,t)}function tb(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],l=n.getSnapshot;n=n.value;try{if(!Ut(l(),n))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~Yd,e&=~Xi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Wt(e),a=1<<r;t[r]=-1,e&=~a}}function Im(t){if(te&6)throw Error(T(327));hn();var e=ci(t,0);if(!(e&1))return ct(t,Me()),null;var r=Ci(t,e);if(t.tag!==0&&r===2){var a=vc(t);a!==0&&(e=a,r=Gc(t,a))}if(r===1)throw r=$s,Ca(t,0),Vr(t,e),ct(t,Me()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,va(t,at,gr),ct(t,Me()),null}function Gd(t,e){var r=te;te|=1;try{return t(e)}finally{te=r,te===0&&(Nn=Me()+500,Ki&&ua())}}function Aa(t){Hr!==null&&Hr.tag===0&&!(te&6)&&hn();var e=te;te|=1;var r=Ct.transition,a=le;try{if(Ct.transition=null,le=1,t)return t()}finally{le=a,Ct.transition=r,te=e,!(te&6)&&ua()}}function Qd(){ht=cn.current,he(cn)}function Ca(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Ox(r)),Te!==null)for(r=Te.return;r!==null;){var a=r;switch(Md(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&fi();break;case 3:En(),he(it),he(Xe),Id();break;case 5:Fd(a);break;case 4:En();break;case 13:he(we);break;case 19:he(we);break;case 10:Rd(a.type._context);break;case 22:case 23:Qd()}r=r.return}if(Ve=t,Te=t=aa(t.current,null),He=ht=e,Fe=0,$s=null,Yd=Xi=La=0,at=xs=null,Na!==null){for(e=0;e<Na.length;e++)if(r=Na[e],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,l=r.pending;if(l!==null){var i=l.next;l.next=n,a.next=i}r.pending=a}Na=null}return t}function bh(t,e){do{var r=Te;try{if(Td(),Kl.current=wi,Ei){for(var a=Ne.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Ei=!1}if(Ra=0,je=ze=Ne=null,ps=!1,Is=0,Ud.current=null,r===null||r.return===null){Fe=1,$s=e,Te=null;break}e:{var l=t,i=r.return,o=r,c=e;if(e=He,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,g=u.tag;if(!(u.mode&1)&&(g===0||g===11||g===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Sm(i);if(f!==null){f.flags&=-257,_m(f,i,o,l,e),f.mode&1&&Nm(l,d,e),e=f,c=d;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Nm(l,d,e),Jd();break e}c=Error(T(426))}}else if(be&&o.mode&1){var k=Sm(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),_m(k,i,o,l,e),Dd(wn(c,o));break e}}l=c=wn(c,o),Fe!==4&&(Fe=2),xs===null?xs=[l]:xs.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var p=rh(l,c,e);xm(l,p);break e;case 1:o=c;var h=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ta===null||!ta.has(v)))){l.flags|=65536,e&=-e,l.lanes|=e;var E=ah(l,o,e);xm(l,E);break e}}l=l.return}while(l!==null)}Eh(r)}catch(w){e=w,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function vh(){var t=Ni.current;return Ni.current=wi,t===null?wi:t}function Jd(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ve===null||!(La&268435455)&&!(Xi&268435455)||Vr(Ve,He)}function Ci(t,e){var r=te;te|=2;var a=vh();(Ve!==t||He!==e)&&(gr=null,Ca(t,e));do try{rb();break}catch(n){bh(t,n)}while(!0);if(Td(),te=r,Ni.current=a,Te!==null)throw Error(T(261));return Ve=null,He=0,Fe}function rb(){for(;Te!==null;)kh(Te)}function ab(){for(;Te!==null&&!Py();)kh(Te)}function kh(t){var e=Nh(t.alternate,t,ht);t.memoizedProps=t.pendingProps,e===null?Eh(t):Te=e,Ud.current=null}function Eh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Jx(r,e),r!==null){r.flags&=32767,Te=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Te=null;return}}else if(r=Qx(r,e,ht),r!==null){Te=r;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Fe===0&&(Fe=5)}function va(t,e,r){var a=le,n=Ct.transition;try{Ct.transition=null,le=1,nb(t,e,r,a)}finally{Ct.transition=n,le=a}return null}function nb(t,e,r,a){do hn();while(Hr!==null);if(te&6)throw Error(T(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var l=r.lanes|r.childLanes;if(Iy(t,l),t===Ve&&(Te=Ve=null,He=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nl||(Nl=!0,Sh(oi,function(){return hn(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Ct.transition,Ct.transition=null;var i=le;le=1;var o=te;te|=4,Ud.current=null,qx(t,r),ph(r,t),Nx(_c),di=!!Sc,_c=Sc=null,t.current=r,Zx(r),My(),te=o,le=i,Ct.transition=l}else t.current=r;if(Nl&&(Nl=!1,Hr=t,_i=n),l=t.pendingLanes,l===0&&(ta=null),Ty(r.stateNode),ct(t,Me()),e!==null)for(a=t.onRecoverableError,r=0;r<e.length;r++)n=e[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Si)throw Si=!1,t=Yc,Yc=null,t;return _i&1&&t.tag!==0&&hn(),l=t.pendingLanes,l&1?t===Kc?bs++:(bs=0,Kc=t):bs=0,ua(),null}function hn(){if(Hr!==null){var t=tf(_i),e=Ct.transition,r=le;try{if(Ct.transition=null,le=16>t?16:t,Hr===null)var a=!1;else{if(t=Hr,Hr=null,_i=0,te&6)throw Error(T(331));var n=te;for(te|=4,I=t.current;I!==null;){var l=I,i=l.child;if(I.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(I=d;I!==null;){var u=I;switch(u.tag){case 0:case 11:case 15:ys(8,u,l)}var g=u.child;if(g!==null)g.return=u,I=g;else for(;I!==null;){u=I;var m=u.sibling,f=u.return;if(gh(u),u===d){I=null;break}if(m!==null){m.return=f,I=m;break}I=f}}}var y=l.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}I=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,I=i;else e:for(;I!==null;){if(l=I,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ys(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,I=p;break e}I=l.return}}var h=t.current;for(I=h;I!==null;){i=I;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,I=v;else e:for(i=h;I!==null;){if(o=I,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ji(9,o)}}catch(w){_e(o,o.return,w)}if(o===i){I=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,I=E;break e}I=o.return}}if(te=n,ua(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Vi,t)}catch{}a=!0}return a}finally{le=r,Ct.transition=e}}return!1}function Bm(t,e,r){e=wn(r,e),e=rh(t,e,1),t=ea(t,e,1),e=Ze(),t!==null&&(el(t,1,e),ct(t,e))}function _e(t,e,r){if(t.tag===3)Bm(t,t,r);else for(;e!==null;){if(e.tag===3){Bm(e,t,r);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ta===null||!ta.has(a))){t=wn(r,t),t=ah(e,t,1),e=ea(e,t,1),t=Ze(),e!==null&&(el(e,1,t),ct(e,t));break}}e=e.return}}function sb(t,e,r){var a=t.pingCache;a!==null&&a.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&r,Ve===t&&(He&r)===r&&(Fe===4||Fe===3&&(He&130023424)===He&&500>Me()-Kd?Ca(t,0):Yd|=r),ct(t,e)}function wh(t,e){e===0&&(t.mode&1?(e=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):e=1);var r=Ze();t=Er(t,e),t!==null&&(el(t,e,r),ct(t,r))}function lb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),wh(t,r)}function ib(t,e){var r=0;switch(t.tag){case 13:var a=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(T(314))}a!==null&&a.delete(e),wh(t,r)}var Nh;Nh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)st=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return st=!1,Gx(t,e,r);st=!!(t.flags&131072)}else st=!1,be&&e.flags&1048576&&Pf(e,yi,e.index);switch(e.lanes=0,e.tag){case 2:var a=e.type;Ql(t,e),t=e.pendingProps;var n=bn(e,Xe.current);fn(e,r),n=jd(null,e,a,t,n,r);var l=$d();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(a)?(l=!0,hi(e)):l=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Ad(e),n.updater=Qi,e.stateNode=n,n._reactInternals=e,Ac(e,a,t,r),e=Ic(null,e,a,!0,l,r)):(e.tag=0,be&&l&&Pd(e),qe(null,e,n,r),e=e.child),e;case 16:a=e.elementType;e:{switch(Ql(t,e),t=e.pendingProps,n=a._init,a=n(a._payload),e.type=a,n=e.tag=cb(a),t=Bt(a,t),n){case 0:e=Fc(null,e,a,t,r);break e;case 1:e=Mm(null,e,a,t,r);break e;case 11:e=Cm(null,e,a,t,r);break e;case 14:e=Pm(null,e,a,Bt(a.type,t),r);break e}throw Error(T(306,a,""))}return e;case 0:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:Bt(a,n),Fc(t,e,a,n,r);case 1:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:Bt(a,n),Mm(t,e,a,n,r);case 3:e:{if(ih(e),t===null)throw Error(T(387));a=e.pendingProps,l=e.memoizedState,n=l.element,Lf(t,e),vi(e,a,null,r);var i=e.memoizedState;if(a=i.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){n=wn(Error(T(423)),e),e=Dm(t,e,a,r,n);break e}else if(a!==n){n=wn(Error(T(424)),e),e=Dm(t,e,a,r,n);break e}else for(pt=Zr(e.stateNode.containerInfo.firstChild),yt=e,be=!0,$t=null,r=Tf(e,null,a,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vn(),a===n){e=wr(t,e,r);break e}qe(t,e,a,r)}e=e.child}return e;case 5:return Af(e),t===null&&Tc(e),a=e.type,n=e.pendingProps,l=t!==null?t.memoizedProps:null,i=n.children,Cc(a,n)?i=null:l!==null&&Cc(a,l)&&(e.flags|=32),lh(t,e),qe(t,e,i,r),e.child;case 6:return t===null&&Tc(e),null;case 13:return oh(t,e,r);case 4:return zd(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=kn(e,null,a,r):qe(t,e,a,r),e.child;case 11:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:Bt(a,n),Cm(t,e,a,n,r);case 7:return qe(t,e,e.pendingProps,r),e.child;case 8:return qe(t,e,e.pendingProps.children,r),e.child;case 12:return qe(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(a=e.type._context,n=e.pendingProps,l=e.memoizedProps,i=n.value,ce(xi,a._currentValue),a._currentValue=i,l!==null)if(Ut(l.value,i)){if(l.children===n.children&&!it.current){e=wr(t,e,r);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=br(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Rc(l.return,r,e),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===e.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(T(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Rc(i,r,e),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===e){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}qe(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,a=e.pendingProps.children,fn(e,r),n=Pt(n),a=a(n),e.flags|=1,qe(t,e,a,r),e.child;case 14:return a=e.type,n=Bt(a,e.pendingProps),n=Bt(a.type,n),Pm(t,e,a,n,r);case 15:return nh(t,e,e.type,e.pendingProps,r);case 17:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:Bt(a,n),Ql(t,e),e.tag=1,ot(a)?(t=!0,hi(e)):t=!1,fn(e,r),th(e,a,n),Ac(e,a,n,r),Ic(null,e,a,!0,t,r);case 19:return ch(t,e,r);case 22:return sh(t,e,r)}throw Error(T(156,e.tag))};function Sh(t,e){return Xg(t,e)}function ob(t,e,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(t,e,r,a){return new ob(t,e,r,a)}function Xd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cb(t){if(typeof t=="function")return Xd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pd)return 11;if(t===yd)return 14}return 2}function aa(t,e){var r=t.alternate;return r===null?(r=_t(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ql(t,e,r,a,n,l){var i=2;if(a=t,typeof t=="function")Xd(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case qa:return Pa(r.children,n,l,e);case hd:i=8,n|=8;break;case sc:return t=_t(12,r,e,n|2),t.elementType=sc,t.lanes=l,t;case lc:return t=_t(13,r,e,n),t.elementType=lc,t.lanes=l,t;case ic:return t=_t(19,r,e,n),t.elementType=ic,t.lanes=l,t;case Lg:return qi(r,n,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tg:i=10;break e;case Rg:i=9;break e;case pd:i=11;break e;case yd:i=14;break e;case Br:i=16,a=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=_t(i,r,e,n),e.elementType=t,e.type=a,e.lanes=l,e}function Pa(t,e,r,a){return t=_t(7,t,a,e),t.lanes=r,t}function qi(t,e,r,a){return t=_t(22,t,a,e),t.elementType=Lg,t.lanes=r,t.stateNode={isHidden:!1},t}function Wo(t,e,r){return t=_t(6,t,null,e),t.lanes=r,t}function Ho(t,e,r){return e=_t(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function db(t,e,r,a,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function qd(t,e,r,a,n,l,i,o,c){return t=new db(t,e,r,o,c),e===1?(e=1,l===!0&&(e|=8)):e=0,l=_t(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ad(l),t}function ub(t,e,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xa,key:a==null?null:""+a,children:t,containerInfo:e,implementation:r}}function _h(t){if(!t)return ia;t=t._reactInternals;e:{if(Ba(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(ot(r))return _f(t,r,e)}return e}function Ch(t,e,r,a,n,l,i,o,c){return t=qd(r,a,!0,t,n,l,i,o,c),t.context=_h(null),r=t.current,a=Ze(),n=ra(r),l=br(a,n),l.callback=e??null,ea(r,l,n),t.current.lanes=n,el(t,n,a),ct(t,a),t}function Zi(t,e,r,a){var n=e.current,l=Ze(),i=ra(n);return r=_h(r),e.context===null?e.context=r:e.pendingContext=r,e=br(l,i),e.payload={element:t},a=a===void 0?null:a,a!==null&&(e.callback=a),t=ea(n,e,i),t!==null&&(Ht(t,n,i,l),Yl(t,n,i)),i}function Pi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Zd(t,e){jm(t,e),(t=t.alternate)&&jm(t,e)}function mb(){return null}var Ph=typeof reportError=="function"?reportError:function(t){console.error(t)};function eu(t){this._internalRoot=t}eo.prototype.render=eu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Zi(t,e,null,null)};eo.prototype.unmount=eu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Aa(function(){Zi(null,t,null,null)}),e[kr]=null}};function eo(t){this._internalRoot=t}eo.prototype.unstable_scheduleHydration=function(t){if(t){var e=nf();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$r.length&&e!==0&&e<$r[r].priority;r++);$r.splice(r,0,t),r===0&&lf(t)}};function tu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function to(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $m(){}function gb(t,e,r,a,n){if(n){if(typeof a=="function"){var l=a;a=function(){var d=Pi(i);l.call(d)}}var i=Ch(e,a,t,0,null,!1,!1,"",$m);return t._reactRootContainer=i,t[kr]=i.current,Rs(t.nodeType===8?t.parentNode:t),Aa(),i}for(;n=t.lastChild;)t.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=Pi(c);o.call(d)}}var c=qd(t,0,!1,null,null,!1,!1,"",$m);return t._reactRootContainer=c,t[kr]=c.current,Rs(t.nodeType===8?t.parentNode:t),Aa(function(){Zi(e,c,r,a)}),c}function ro(t,e,r,a,n){var l=r._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var o=n;n=function(){var c=Pi(i);o.call(c)}}Zi(e,i,t,n)}else i=gb(r,e,t,n,a);return Pi(i)}rf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=as(e.pendingLanes);r!==0&&(vd(e,r|1),ct(e,Me()),!(te&6)&&(Nn=Me()+500,ua()))}break;case 13:Aa(function(){var a=Er(t,1);if(a!==null){var n=Ze();Ht(a,t,1,n)}}),Zd(t,1)}};kd=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var r=Ze();Ht(e,t,134217728,r)}Zd(t,134217728)}};af=function(t){if(t.tag===13){var e=ra(t),r=Er(t,e);if(r!==null){var a=Ze();Ht(r,t,e,a)}Zd(t,e)}};nf=function(){return le};sf=function(t,e){var r=le;try{return le=t,e()}finally{le=r}};yc=function(t,e,r){switch(e){case"input":if(dc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var a=r[e];if(a!==t&&a.form===t.form){var n=Yi(a);if(!n)throw Error(T(90));zg(a),dc(a,n)}}}break;case"textarea":Ig(t,r);break;case"select":e=r.value,e!=null&&dn(t,!!r.multiple,e,!1)}};Ug=Gd;Yg=Aa;var fb={usingClientEntryPoint:!1,Events:[rl,rn,Yi,Wg,Hg,Gd]},Gn={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hb={bundleType:Gn.bundleType,version:Gn.version,rendererPackageName:Gn.rendererPackageName,rendererConfig:Gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qg(t),t===null?null:t.stateNode},findFiberByHostInstance:Gn.findFiberByHostInstance||mb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{Vi=Sl.inject(hb),nr=Sl}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fb;bt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tu(e))throw Error(T(200));return ub(t,e,null,r)};bt.createRoot=function(t,e){if(!tu(t))throw Error(T(299));var r=!1,a="",n=Ph;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=qd(t,1,!1,null,null,r,!1,a,n),t[kr]=e.current,Rs(t.nodeType===8?t.parentNode:t),new eu(e)};bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Qg(e),t=t===null?null:t.stateNode,t};bt.flushSync=function(t){return Aa(t)};bt.hydrate=function(t,e,r){if(!to(e))throw Error(T(200));return ro(null,t,e,!0,r)};bt.hydrateRoot=function(t,e,r){if(!tu(t))throw Error(T(405));var a=r!=null&&r.hydratedSources||null,n=!1,l="",i=Ph;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=Ch(e,null,t,1,r??null,n,!1,l,i),t[kr]=e.current,Rs(t),a)for(t=0;t<a.length;t++)r=a[t],n=r._getVersion,n=n(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,n]:e.mutableSourceEagerHydrationData.push(r,n);return new eo(e)};bt.render=function(t,e,r){if(!to(e))throw Error(T(200));return ro(null,t,e,!1,r)};bt.unmountComponentAtNode=function(t){if(!to(t))throw Error(T(40));return t._reactRootContainer?(Aa(function(){ro(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};bt.unstable_batchedUpdates=Gd;bt.unstable_renderSubtreeIntoContainer=function(t,e,r,a){if(!to(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return ro(t,e,r,!1,a)};bt.version="18.3.1-next-f1338f8080-20240426";function Mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mh)}catch(t){console.error(t)}}Mh(),Pg.exports=bt;var pb=Pg.exports,Dh,Vm=pb;Dh=Vm.createRoot,Vm.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Vs.apply(this,arguments)}var Ur;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ur||(Ur={}));const Wm="popstate";function yb(t){t===void 0&&(t={});function e(a,n){let{pathname:l,search:i,hash:o}=a.location;return Jc("",{pathname:l,search:i,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Mi(n)}return bb(e,r,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xb(){return Math.random().toString(36).substr(2,8)}function Hm(t,e){return{usr:t.state,key:t.key,idx:e}}function Jc(t,e,r,a){return r===void 0&&(r=null),Vs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?On(e):e,{state:r,key:e&&e.key||a||xb()})}function Mi(t){let{pathname:e="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function On(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substr(a),t=t.substr(0,a)),t&&(e.pathname=t)}return e}function bb(t,e,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:l=!1}=a,i=n.history,o=Ur.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Vs({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function g(){o=Ur.Pop;let k=u(),p=k==null?null:k-d;d=k,c&&c({action:o,location:x.location,delta:p})}function m(k,p){o=Ur.Push;let h=Jc(x.location,k,p);d=u()+1;let v=Hm(h,d),E=x.createHref(h);try{i.pushState(v,"",E)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;n.location.assign(E)}l&&c&&c({action:o,location:x.location,delta:1})}function f(k,p){o=Ur.Replace;let h=Jc(x.location,k,p);d=u();let v=Hm(h,d),E=x.createHref(h);i.replaceState(v,"",E),l&&c&&c({action:o,location:x.location,delta:0})}function y(k){let p=n.location.origin!=="null"?n.location.origin:n.location.href,h=typeof k=="string"?k:Mi(k);return h=h.replace(/ $/,"%20"),Oe(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let x={get action(){return o},get location(){return t(n,i)},listen(k){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Wm,g),c=k,()=>{n.removeEventListener(Wm,g),c=null}},createHref(k){return e(n,k)},createURL:y,encodeLocation(k){let p=y(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:f,go(k){return i.go(k)}};return x}var Um;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Um||(Um={}));function vb(t,e,r){return r===void 0&&(r="/"),kb(t,e,r)}function kb(t,e,r,a){let n=typeof e=="string"?On(e):e,l=ru(n.pathname||"/",r);if(l==null)return null;let i=Th(t);Eb(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=Lb(l);o=Ob(i[c],d)}return o}function Th(t,e,r,a){e===void 0&&(e=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=na([a,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(Oe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Th(l.children,e,u,d)),!(l.path==null&&!l.index)&&e.push({path:d,score:Mb(d,l.index),routesMeta:u})};return t.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))n(l,i);else for(let c of Rh(l.path))n(l,i,c)}),e}function Rh(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let i=Rh(a.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),n&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Eb(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Db(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const wb=/^:[\w-]+$/,Nb=3,Sb=2,_b=1,Cb=10,Pb=-2,Ym=t=>t==="*";function Mb(t,e){let r=t.split("/"),a=r.length;return r.some(Ym)&&(a+=Pb),e&&(a+=Sb),r.filter(n=>!Ym(n)).reduce((n,l)=>n+(wb.test(l)?Nb:l===""?_b:Cb),a)}function Db(t,e){return t.length===e.length&&t.slice(0,-1).every((a,n)=>a===e[n])?t[t.length-1]-e[e.length-1]:0}function Ob(t,e,r){let{routesMeta:a}=t,n={},l="/",i=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,u=l==="/"?e:e.slice(l.length)||"/",g=Tb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!g)return null;Object.assign(n,g.params),i.push({params:n,pathname:na([l,g.pathname]),pathnameBase:Ib(na([l,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(l=na([l,g.pathnameBase]))}return i}function Tb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Rb(t.path,t.caseSensitive,t.end),n=e.match(r);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,u,g)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let x=o[g]||"";i=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[g];return f&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:t}}function Rb(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Oh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),a]}function Lb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ru(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}function Ab(t,e){e===void 0&&(e="/");let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?On(t):t;return{pathname:r?r.startsWith("/")?r:zb(r,e):e,search:Bb(a),hash:jb(n)}}function zb(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Uo(t,e,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fb(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function au(t,e){let r=Fb(t);return e?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function nu(t,e,r,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=On(t):(n=Vs({},t),Oe(!n.pathname||!n.pathname.includes("?"),Uo("?","pathname","search",n)),Oe(!n.pathname||!n.pathname.includes("#"),Uo("#","pathname","hash",n)),Oe(!n.search||!n.search.includes("#"),Uo("#","search","hash",n)));let l=t===""||n.pathname==="",i=l?"/":n.pathname,o;if(i==null)o=r;else{let g=e.length-1;if(!a&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),g-=1;n.pathname=m.join("/")}o=g>=0?e[g]:"/"}let c=Ab(n,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const na=t=>t.join("/").replace(/\/\/+/g,"/"),Ib=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $b(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lh=["post","put","patch","delete"];new Set(Lh);const Vb=["get",...Lh];new Set(Vb);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ws.apply(this,arguments)}const su=b.createContext(null),Wb=b.createContext(null),ma=b.createContext(null),ao=b.createContext(null),Sr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Ah=b.createContext(null);function Hb(t,e){let{relative:r}=e===void 0?{}:e;Tn()||Oe(!1);let{basename:a,navigator:n}=b.useContext(ma),{hash:l,pathname:i,search:o}=Fh(t,{relative:r}),c=i;return a!=="/"&&(c=i==="/"?a:na([a,i])),n.createHref({pathname:c,search:o,hash:l})}function Tn(){return b.useContext(ao)!=null}function Rn(){return Tn()||Oe(!1),b.useContext(ao).location}function zh(t){b.useContext(ma).static||b.useLayoutEffect(t)}function _r(){let{isDataRoute:t}=b.useContext(Sr);return t?nv():Ub()}function Ub(){Tn()||Oe(!1);let t=b.useContext(su),{basename:e,future:r,navigator:a}=b.useContext(ma),{matches:n}=b.useContext(Sr),{pathname:l}=Rn(),i=JSON.stringify(au(n,r.v7_relativeSplatPath)),o=b.useRef(!1);return zh(()=>{o.current=!0}),b.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let g=nu(d,JSON.parse(i),l,u.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:na([e,g.pathname])),(u.replace?a.replace:a.push)(g,u.state,u)},[e,a,i,l,t])}function Yb(){let{matches:t}=b.useContext(Sr),e=t[t.length-1];return e?e.params:{}}function Fh(t,e){let{relative:r}=e===void 0?{}:e,{future:a}=b.useContext(ma),{matches:n}=b.useContext(Sr),{pathname:l}=Rn(),i=JSON.stringify(au(n,a.v7_relativeSplatPath));return b.useMemo(()=>nu(t,JSON.parse(i),l,r==="path"),[t,i,l,r])}function Kb(t,e){return Gb(t,e)}function Gb(t,e,r,a){Tn()||Oe(!1);let{navigator:n}=b.useContext(ma),{matches:l}=b.useContext(Sr),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Rn(),u;if(e){var g;let k=typeof e=="string"?On(e):e;c==="/"||(g=k.pathname)!=null&&g.startsWith(c)||Oe(!1),u=k}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let k=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=vb(t,{pathname:f}),x=Zb(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:na([c,n.encodeLocation?n.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:na([c,n.encodeLocation?n.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,r,a);return e&&x?b.createElement(ao.Provider,{value:{location:Ws({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ur.Pop}},x):x}function Qb(){let t=av(),e=$b(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:n},r):null,null)}const Jb=b.createElement(Qb,null);class Xb extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Sr.Provider,{value:this.props.routeContext},b.createElement(Ah.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qb(t){let{routeContext:e,match:r,children:a}=t,n=b.useContext(su);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Sr.Provider,{value:e},a)}function Zb(t,e,r,a){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let u=i.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);u>=0||Oe(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<i.length;u++){let g=i[u];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=u),g.route.id){let{loaderData:m,errors:f}=r,y=g.route.loader&&m[g.route.id]===void 0&&(!f||f[g.route.id]===void 0);if(g.route.lazy||y){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,g,m)=>{let f,y=!1,x=null,k=null;r&&(f=o&&g.route.id?o[g.route.id]:void 0,x=g.route.errorElement||Jb,c&&(d<0&&m===0?(sv("route-fallback"),y=!0,k=null):d===m&&(y=!0,k=g.route.hydrateFallbackElement||null)));let p=e.concat(i.slice(0,m+1)),h=()=>{let v;return f?v=x:y?v=k:g.route.Component?v=b.createElement(g.route.Component,null):g.route.element?v=g.route.element:v=u,b.createElement(qb,{match:g,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:v})};return r&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?b.createElement(Xb,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var Ih=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ih||{}),Bh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bh||{});function ev(t){let e=b.useContext(su);return e||Oe(!1),e}function tv(t){let e=b.useContext(Wb);return e||Oe(!1),e}function rv(t){let e=b.useContext(Sr);return e||Oe(!1),e}function jh(t){let e=rv(),r=e.matches[e.matches.length-1];return r.route.id||Oe(!1),r.route.id}function av(){var t;let e=b.useContext(Ah),r=tv(),a=jh();return e!==void 0?e:(t=r.errors)==null?void 0:t[a]}function nv(){let{router:t}=ev(Ih.UseNavigateStable),e=jh(Bh.UseNavigateStable),r=b.useRef(!1);return zh(()=>{r.current=!0}),b.useCallback(function(n,l){l===void 0&&(l={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,Ws({fromRouteId:e},l)))},[t,e])}const Km={};function sv(t,e,r){Km[t]||(Km[t]=!0)}function lv(t){let{to:e,replace:r,state:a,relative:n}=t;Tn()||Oe(!1);let{future:l,static:i}=b.useContext(ma),{matches:o}=b.useContext(Sr),{pathname:c}=Rn(),d=_r(),u=nu(e,au(o,l.v7_relativeSplatPath),c,n==="path"),g=JSON.stringify(u);return b.useEffect(()=>d(JSON.parse(g),{replace:r,state:a,relative:n}),[d,g,n,r,a]),null}function It(t){Oe(!1)}function iv(t){let{basename:e="/",children:r=null,location:a,navigationType:n=Ur.Pop,navigator:l,static:i=!1,future:o}=t;Tn()&&Oe(!1);let c=e.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:l,static:i,future:Ws({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof a=="string"&&(a=On(a));let{pathname:u="/",search:g="",hash:m="",state:f=null,key:y="default"}=a,x=b.useMemo(()=>{let k=ru(u,c);return k==null?null:{location:{pathname:k,search:g,hash:m,state:f,key:y},navigationType:n}},[c,u,g,m,f,y,n]);return x==null?null:b.createElement(ma.Provider,{value:d},b.createElement(ao.Provider,{children:r,value:x}))}function ov(t){let{children:e,location:r}=t;return Kb(Xc(e),r)}new Promise(()=>{});function Xc(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(a,n)=>{if(!b.isValidElement(a))return;let l=[...e,n];if(a.type===b.Fragment){r.push.apply(r,Xc(a.props.children,l));return}a.type!==It&&Oe(!1),!a.props.index||!a.props.children||Oe(!1);let i={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Xc(a.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},qc.apply(this,arguments)}function cv(t,e){if(t==null)return{};var r={},a=Object.keys(t),n,l;for(l=0;l<a.length;l++)n=a[l],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function dv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uv(t,e){return t.button===0&&(!e||e==="_self")&&!dv(t)}const mv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],gv="6";try{window.__reactRouterVersion=gv}catch{}const fv="startTransition",Gm=uy[fv];function hv(t){let{basename:e,children:r,future:a,window:n}=t,l=b.useRef();l.current==null&&(l.current=yb({window:n,v5Compat:!0}));let i=l.current,[o,c]=b.useState({action:i.action,location:i.location}),{v7_startTransition:d}=a||{},u=b.useCallback(g=>{d&&Gm?Gm(()=>c(g)):c(g)},[c,d]);return b.useLayoutEffect(()=>i.listen(u),[i,u]),b.createElement(iv,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:i,future:a})}const pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xv=b.forwardRef(function(e,r){let{onClick:a,relative:n,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,unstable_viewTransition:g}=e,m=cv(e,mv),{basename:f}=b.useContext(ma),y,x=!1;if(typeof d=="string"&&yv.test(d)&&(y=d,pv))try{let v=new URL(window.location.href),E=d.startsWith("//")?new URL(v.protocol+d):new URL(d),w=ru(E.pathname,f);E.origin===v.origin&&w!=null?d=w+E.search+E.hash:x=!0}catch{}let k=Hb(d,{relative:n}),p=bv(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:n,unstable_viewTransition:g});function h(v){a&&a(v),v.defaultPrevented||p(v)}return b.createElement("a",qc({},m,{href:y||k,onClick:x||l?a:h,ref:r,target:c}))});var Qm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qm||(Qm={}));var Jm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jm||(Jm={}));function bv(t,e){let{target:r,replace:a,state:n,preventScrollReset:l,relative:i,unstable_viewTransition:o}=e===void 0?{}:e,c=_r(),d=Rn(),u=Fh(t,{relative:i});return b.useCallback(g=>{if(uv(g,r)){g.preventDefault();let m=a!==void 0?a:Mi(d)===Mi(u);c(t,{replace:m,state:n,preventScrollReset:l,relative:i,unstable_viewTransition:o})}},[d,c,u,a,n,r,t,l,i,o])}const Qn=()=>typeof window<"u"&&window.APP_CONFIG&&window.APP_CONFIG.API_BASE_URL?window.APP_CONFIG.API_BASE_URL:"http://localhost:4999",$h=b.createContext(),no=()=>{const t=b.useContext($h);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},vv=({children:t})=>{const[e,r]=b.useState(null),[a,n]=b.useState(!0),[l,i]=b.useState(!1),[o,c]=b.useState(!1),d=async()=>{try{const x=await fetch(`${Qn()}/api/auth/config`);if(x.ok){const k=await x.json();return c(k.authentication_disabled),k.authentication_disabled}}catch(x){console.error("Auth config check failed:",x)}return!1},u=async()=>{try{if(await d()){r({username:"developer",created_at:null,last_login:null}),n(!1),i(!0);return}const k=await fetch(`${Qn()}/api/auth/me`);if(k.ok){const p=await k.json();r(p.user)}else r(null)}catch(x){console.error("Auth check failed:",x),r(null)}finally{n(!1),i(!0)}},g=async(x,k)=>{if(o)return r({username:"developer",created_at:null,last_login:null}),{success:!0,message:"Authentication disabled - logged in as developer"};try{const p=await fetch(`${Qn()}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x,password:k})}),h=await p.json();return p.ok?(r(h.user),{success:!0,message:h.message}):{success:!1,error:h.error}}catch(p){return console.error("Login failed:",p),{success:!1,error:"Network error occurred"}}},m=async()=>{try{o||await fetch(`${Qn()}/api/auth/logout`,{method:"POST"})}catch(x){console.error("Logout request failed:",x)}finally{r(null),window.location.href="/"}},f=async(x,k)=>{if(o)return{success:!1,error:"Password changes are not available in development mode with authentication disabled."};try{const p=await fetch(`${Qn()}/api/auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:x,new_password:k})}),h=await p.json();return p.ok?{success:!0,message:h.message}:{success:!1,error:h.error}}catch(p){return console.error("Change password failed:",p),{success:!1,error:"Network error occurred"}}};b.useEffect(()=>{u()},[]);const y={user:e,loading:a,initialized:l,authDisabled:o,login:g,logout:m,changePassword:f,checkAuth:u,isAuthenticated:!!e};return s.createElement($h.Provider,{value:y},t)},Vh=b.createContext(),kv=()=>{const t=b.useContext(Vh);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Ev=({children:t})=>{const[e,r]=b.useState(!1);b.useEffect(()=>{var i;((i=document.cookie.split("; ").find(o=>o.startsWith("theme=")))==null?void 0:i.split("=")[1])==="dark"?(r(!0),document.documentElement.classList.add("dark")):(r(!1),document.documentElement.classList.remove("dark"))},[]);const n={isDark:e,toggleTheme:()=>{const l=!e;r(l);const i=new Date;i.setFullYear(i.getFullYear()+1),document.cookie=`theme=${l?"dark":"light"}; expires=${i.toUTCString()}; path=/`,l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},theme:e?"dark":"light"};return s.createElement(Vh.Provider,{value:n},t)},so=b.createContext(),Xm="dataframe_engine_preference",Ge={PANDAS:"pandas",SPARK:"spark"},Vt={[Ge.PANDAS]:{name:"Pandas",description:"Fast in-memory processing for small to medium datasets",icon:"🐼",color:"text-blue-600",bgColor:"bg-blue-100",capabilities:["Fast in-memory processing","Rich data manipulation","Python ecosystem integration","Best for datasets < 100K rows"]},[Ge.SPARK]:{name:"Spark",description:"Distributed processing for large datasets",icon:"⚡",color:"text-orange-600",bgColor:"bg-orange-100",capabilities:["Distributed computing","Large dataset processing","SQL-based operations","Best for datasets > 100K rows"]}};function wv({children:t}){const[e,r]=b.useState(Ge.PANDAS),[a,n]=b.useState({[Ge.PANDAS]:{available:!0,error:null},[Ge.SPARK]:{available:!0,error:null}});b.useEffect(()=>{try{const d=localStorage.getItem(Xm);d&&Object.values(Ge).includes(d)&&r(d)}catch(d){console.warn("Failed to load engine preference from localStorage:",d)}},[]);const c={engine:e,setEngine:d=>{if(!Object.values(Ge).includes(d)){console.warn("Invalid engine:",d);return}r(d);try{localStorage.setItem(Xm,d)}catch(u){console.warn("Failed to save engine preference to localStorage:",u)}},engineHealth:a,checkEngineHealth:async d=>{try{if(d===Ge.PANDAS)return n(u=>({...u,[Ge.PANDAS]:{available:!0,error:null}})),!0;if(d===Ge.SPARK)return n(u=>({...u,[Ge.SPARK]:{available:!0,error:null}})),!0}catch(u){return n(g=>({...g,[d]:{available:!1,error:u.message}})),!1}},getEngineRecommendation:(d=0,u="")=>d>1e5?{recommended:Ge.SPARK,reason:"Large dataset - Spark recommended for better performance"}:d<1e4?{recommended:Ge.PANDAS,reason:"Small dataset - Pandas is efficient and fast"}:["mutate","datetime","pivot"].includes(u)?{recommended:Ge.PANDAS,reason:"Pandas excels at these operations for medium datasets"}:{recommended:Ge.PANDAS,reason:"Default to Pandas for medium datasets"},engines:Ge,engineInfo:Vt};return s.createElement(so.Provider,{value:c},t)}function Wh(){const t=b.useContext(so);if(!t)throw new Error("useEngine must be used within an EngineProvider");return t}function Nv(){const{engine:t}=Wh();return{currentEngine:t,withEngine:e=>({...e,engine:t})}}const Yo={sunset:{background:"from-orange-500 via-red-500 to-pink-600",blobs:[{color:"bg-orange-400",position:"top-20 left-20"},{color:"bg-red-400",position:"top-40 right-20"},{color:"bg-pink-400",position:"-bottom-8 left-1/2"}]},ocean:{background:"from-blue-600 via-cyan-600 to-teal-600",blobs:[{color:"bg-blue-400",position:"top-20 left-20"},{color:"bg-cyan-400",position:"top-40 right-20"},{color:"bg-teal-400",position:"-bottom-8 left-1/2"}]},forest:{background:"from-green-600 via-emerald-600 to-teal-600",blobs:[{color:"bg-green-400",position:"top-20 left-20"},{color:"bg-emerald-400",position:"top-40 right-20"},{color:"bg-teal-400",position:"-bottom-8 left-1/2"}]},purple:{background:"from-indigo-900 via-purple-900 to-pink-900",blobs:[{color:"bg-purple-500",position:"top-20 left-20"},{color:"bg-indigo-500",position:"top-40 right-20"},{color:"bg-pink-500",position:"-bottom-8 left-1/2"}]},midnight:{background:"from-gray-900 via-blue-900 to-indigo-900",blobs:[{color:"bg-gray-600",position:"top-20 left-20"},{color:"bg-blue-600",position:"top-40 right-20"},{color:"bg-indigo-600",position:"-bottom-8 left-1/2"}]},aurora:{background:"from-purple-600 via-pink-600 to-red-600",blobs:[{color:"bg-purple-400",position:"top-20 left-20"},{color:"bg-pink-400",position:"top-40 right-20"},{color:"bg-red-400",position:"-bottom-8 left-1/2"}]}};function Hh(){const[t,e]=b.useState(""),[r,a]=b.useState(""),[n,l]=b.useState(!1),[i,o]=b.useState(""),{login:c,isAuthenticated:d}=no(),u=Yo.forest||Yo.forest;b.useEffect(()=>{d&&(window.location.href="/")},[d]);const g=async m=>{m.preventDefault(),o(""),l(!0);try{const f=await c(t,r);f.success?window.location.href="/":o(f.error||"Login failed")}catch{o("An unexpected error occurred")}finally{l(!1)}};return s.createElement("div",{className:`min-h-screen bg-gradient-to-br ${u.background} relative overflow-hidden`},s.createElement("div",{className:"absolute inset-0"},Yo.forest.blobs.map((m,f)=>s.createElement("div",{key:f,className:`absolute w-72 h-72 ${m.color} rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob ${m.position}`,style:{animationDelay:`${f*2e3}ms`}}))),s.createElement("div",{className:"absolute inset-0 opacity-40"},s.createElement("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M0 0h60v60H0z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"60px 60px"}})),s.createElement("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8 min-h-screen"},s.createElement("div",{className:"sm:mx-auto sm:w-full sm:max-w-md"},s.createElement("div",{className:"flex justify-center"},s.createElement("div",{className:"flex items-center space-x-3 backdrop-blur-sm bg-white/10 rounded-2xl px-6 py-3 shadow-2xl border border-white/20"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-white",viewBox:"0 0 100 100",fill:"none"},s.createElement("defs",null,s.createElement("linearGradient",{id:"duckGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},s.createElement("stop",{offset:"0%",stopColor:"#10b981"}),s.createElement("stop",{offset:"50%",stopColor:"#059669"}),s.createElement("stop",{offset:"100%",stopColor:"#047857"}))),s.createElement("ellipse",{cx:"50",cy:"65",rx:"25",ry:"18",fill:"url(#duckGradient)",stroke:"currentColor",strokeWidth:"1"}),s.createElement("circle",{cx:"35",cy:"35",r:"15",fill:"url(#duckGradient)",stroke:"currentColor",strokeWidth:"1"}),s.createElement("path",{d:"M20 35 Q15 37 18 40 Q22 38 25 35",fill:"#f59e0b",stroke:"currentColor",strokeWidth:"0.5"}),s.createElement("circle",{cx:"32",cy:"32",r:"2",fill:"currentColor"}),s.createElement("path",{d:"M40 55 Q55 50 65 60 Q55 65 45 62",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.7"}),s.createElement("path",{d:"M25 80 Q50 75 75 80",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.5"}),s.createElement("path",{d:"M30 85 Q50 82 70 85",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.3"})),s.createElement("span",{className:"text-2xl font-bold text-white"},"DataFrame UI"))),s.createElement("h2",{className:"mt-8 text-center text-4xl font-extrabold text-white"},"Welcome Back"),s.createElement("p",{className:"mt-3 text-center text-lg text-white/80"},"Sign in to access your data visualization platform")),s.createElement("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},s.createElement("div",{className:"backdrop-blur-md bg-white/95 dark:bg-gray-800/95 py-10 px-6 shadow-2xl rounded-2xl border border-white/20"},s.createElement("form",{className:"space-y-6",onSubmit:g},i&&s.createElement("div",{className:"rounded-md bg-red-50 p-4"},s.createElement("div",{className:"flex"},s.createElement("div",{className:"flex-shrink-0"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))),s.createElement("div",{className:"ml-3"},s.createElement("h3",{className:"text-sm font-medium text-red-800"},i)))),s.createElement("div",null,s.createElement("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700"},"Username"),s.createElement("div",{className:"mt-1"},s.createElement("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:t,onChange:m=>e(m.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter your username"}))),s.createElement("div",null,s.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700"},"Password"),s.createElement("div",{className:"mt-1"},s.createElement("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:m=>a(m.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter your password"}))),s.createElement("div",null,s.createElement("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},n&&s.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},s.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),n?"Signing in...":"Sign in"))),s.createElement("div",{className:"mt-6"},s.createElement("div",{className:"relative"},s.createElement("div",{className:"absolute inset-0 flex items-center"},s.createElement("div",{className:"w-full border-t border-gray-300"})),s.createElement("div",{className:"relative flex justify-center text-sm"},s.createElement("span",{className:"px-2 bg-white text-gray-500"},"DataFrame UI Authentication")))),s.createElement("div",{className:"mt-4 text-center"},s.createElement("p",{className:"text-xs text-gray-500"},"Contact your administrator for access credentials"))))))}function Sv({className:t=""}){var g,m;const{engine:e,setEngine:r,engineHealth:a,engineInfo:n,engines:l}=Wh(),[i,o]=b.useState(!1),c=n[e],d=(g=a[e])==null?void 0:g.available,u=f=>{const y=f.target.value;r(y)};return s.createElement("div",{className:`relative ${t}`},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("div",{className:"flex items-center gap-1"},s.createElement("div",{className:"flex items-center gap-1 cursor-help",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},s.createElement("span",{className:`text-lg ${d?"":"opacity-50"}`},c.icon),s.createElement("div",{className:`w-2 h-2 rounded-full ${d?"bg-green-500":"bg-red-500"}`}))),s.createElement("select",{value:e,onChange:u,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"},Object.entries(l).map(([f,y])=>{const x=n[y],k=a[y];return s.createElement("option",{key:f,value:y,disabled:!(k!=null&&k.available)},x.name," ",k!=null&&k.available?"":"(unavailable)")}))),i&&s.createElement("div",{className:"absolute top-full left-0 mt-2 z-50"},s.createElement("div",{className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg p-3 max-w-xs"},s.createElement("div",{className:"flex items-center gap-2 mb-2"},s.createElement("span",{className:"text-xl"},c.icon),s.createElement("div",null,s.createElement("div",{className:"font-medium text-gray-900 dark:text-gray-100"},c.name," Engine"),s.createElement("div",{className:`text-xs flex items-center gap-1 ${d?"text-green-600":"text-red-600"}`},s.createElement("div",{className:`w-1.5 h-1.5 rounded-full ${d?"bg-green-500":"bg-red-500"}`}),d?"Available":"Unavailable"))),s.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2"},c.description),s.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},s.createElement("div",{className:"font-medium mb-1"},"Capabilities:"),s.createElement("ul",{className:"space-y-0.5"},c.capabilities.map((f,y)=>s.createElement("li",{key:y,className:"flex items-start gap-1"},s.createElement("span",{className:"text-green-500 mt-0.5"},"•"),s.createElement("span",null,f))))),!d&&((m=a[e])==null?void 0:m.error)&&s.createElement("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded text-xs text-red-700 dark:text-red-400"},s.createElement("div",{className:"font-medium"},"Error:"),s.createElement("div",null,a[e].error)))))}function ga({title:t,children:e}){var p,h;const r=_r(),a=Rn(),{user:n,logout:l,authDisabled:i}=no(),{isDark:o,toggleTheme:c}=kv(),[d,u]=b.useState(!1),[g,m]=b.useState(!1),f=b.useRef(null);b.useEffect(()=>{const v=E=>{f.current&&!f.current.contains(E.target)&&u(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=async()=>{m(!0)},x=async()=>{m(!1),await l()},k=v=>a.pathname===v;return s.createElement(s.Fragment,null,s.createElement("header",{className:"bg-slate-900 dark:bg-slate-800 text-white"},s.createElement("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between"},s.createElement("div",{className:"flex items-center gap-4"},s.createElement("button",{className:"text-white/90 hover:text-white flex items-center gap-2",onClick:()=>r("/")},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 100 100",fill:"none"},s.createElement("defs",null,s.createElement("linearGradient",{id:"headerBirdGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},s.createElement("stop",{offset:"0%",stopColor:"#60A5FA"}),s.createElement("stop",{offset:"50%",stopColor:"#34D399"}),s.createElement("stop",{offset:"100%",stopColor:"#A78BFA"}))),s.createElement("path",{d:"M25 60 Q20 45 35 40 Q45 35 55 45 Q65 35 75 45 Q70 60 60 65 Q45 70 25 60 Z",fill:"url(#headerBirdGradient)",stroke:"white",strokeWidth:"1"}),s.createElement("path",{d:"M35 45 Q40 50 45 45 Q50 50 55 45",fill:"none",stroke:"white",strokeWidth:"2"}),s.createElement("path",{d:"M45 50 Q50 55 55 50 Q60 55 65 50",fill:"none",stroke:"white",strokeWidth:"2"}),s.createElement("circle",{cx:"70",cy:"35",r:"8",fill:"url(#headerBirdGradient)",stroke:"white",strokeWidth:"1"}),s.createElement("path",{d:"M75 32 L85 30 Q87 32 85 34 L75 38",fill:"#FCD34D"}),s.createElement("circle",{cx:"72",cy:"33",r:"2",fill:"white"}),s.createElement("circle",{cx:"73",cy:"32",r:"1",fill:"#1E40AF"}),s.createElement("circle",{cx:"30",cy:"50",r:"1.5",fill:"#34D399"}),s.createElement("circle",{cx:"40",cy:"55",r:"1.5",fill:"#34D399"}),s.createElement("circle",{cx:"50",cy:"52",r:"1.5",fill:"#34D399"}),s.createElement("circle",{cx:"60",cy:"58",r:"1.5",fill:"#34D399"}),s.createElement("path",{d:"M30 50 L40 55 L50 52 L60 58",fill:"none",stroke:"#34D399",strokeWidth:"1",opacity:"0.8"}),s.createElement("text",{x:"20",y:"85",fontFamily:"sans-serif",fontSize:"14",fontWeight:"bold",fill:"white"},"DF")),s.createElement("span",{className:"text-lg font-semibold"},t||"DataFrame UI"))),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("nav",{className:"hidden lg:flex items-center gap-1"},s.createElement("button",{onClick:()=>r("/"),className:`px-2.5 py-1.5 rounded text-sm font-medium transition-colors ${k("/")?"bg-white/20 text-white":"text-white/80 hover:text-white hover:bg-white/10"}`},"Home"),s.createElement("button",{onClick:()=>r("/operations"),className:`px-2.5 py-1.5 rounded text-sm font-medium transition-colors ${k("/operations")?"bg-indigo-600 text-white":"text-white/80 hover:text-white hover:bg-indigo-700"}`},"Operations"),s.createElement("button",{onClick:()=>r("/chained-operations"),className:`px-2.5 py-1.5 rounded text-sm font-medium transition-colors ${k("/chained-operations")?"bg-emerald-600 text-white":"text-white/80 hover:text-white hover:bg-emerald-700"}`},"Chained Ops"),s.createElement("button",{onClick:()=>r("/chained-pipelines"),className:`px-2.5 py-1.5 rounded text-sm font-medium transition-colors ${k("/chained-pipelines")?"bg-purple-600 text-white":"text-white/80 hover:text-white hover:bg-purple-700"}`},"Chained Pipes")),s.createElement("button",{onClick:c,className:"p-2 rounded-lg text-white/80 hover:text-white hover:bg-white/10 transition-colors",title:`Switch to ${o?"light":"dark"} mode`},o?s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})):s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"}))),s.createElement(Sv,{className:"hidden sm:block"}),s.createElement("div",{className:"lg:hidden"},s.createElement("button",{onClick:()=>u(!d),className:"text-white/80 hover:text-white p-2"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})))),e,s.createElement("div",{className:"relative",ref:f},s.createElement("button",{onClick:()=>u(!d),className:"flex items-center gap-2 text-white/80 hover:text-white p-2 rounded-lg hover:bg-white/10 transition-colors"},s.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg"},s.createElement("span",{className:"text-sm font-medium text-white"},((h=(p=n==null?void 0:n.username)==null?void 0:p.charAt(0))==null?void 0:h.toUpperCase())||"U")),s.createElement("span",{className:"hidden sm:block text-sm font-medium"},n==null?void 0:n.username),s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 transition-transform ${d?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))),d&&s.createElement("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-white dark:ring-opacity-20 z-50"},s.createElement("div",{className:"py-1"},s.createElement("div",{className:"lg:hidden border-b border-gray-200 dark:border-gray-600 pb-2 mb-2"},s.createElement("button",{onClick:()=>{r("/"),u(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},"Home"),s.createElement("button",{onClick:()=>{r("/operations"),u(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},"Operations"),s.createElement("button",{onClick:()=>{r("/chained-operations"),u(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},"Chained Operations"),s.createElement("button",{onClick:()=>{r("/chained-pipelines"),u(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},"Chained Pipelines")),s.createElement("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-600"},s.createElement("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},n==null?void 0:n.username,i&&s.createElement("span",{className:"text-xs text-yellow-600 dark:text-yellow-400 ml-2"},"(Dev Mode)")),s.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},i?"Development session":n!=null&&n.last_login&&!isNaN(new Date(n.last_login).getTime())?`Last login: ${new Date(n.last_login).toLocaleDateString()}`:"First login")),s.createElement("button",{onClick:()=>{r("/profile"),u(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})),"Profile & Settings")),s.createElement("button",{onClick:()=>{y(),u(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})),i?"Reset Session":"Sign Out")))))))),g&&s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>m(!1)},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",onClick:v=>v.stopPropagation()},s.createElement("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-600"},s.createElement("h4",{className:"text-base font-semibold text-gray-900 dark:text-gray-100"},i?"Reset Session":"Confirm Sign Out")),s.createElement("div",{className:"px-5 py-4 text-sm text-gray-700 dark:text-gray-300"},i?"Are you sure you want to reset your development session? This will return you to the home page.":"Are you sure you want to sign out? You'll need to log in again to access your data."),s.createElement("div",{className:"px-5 py-3 border-t border-gray-200 dark:border-gray-600 flex items-center justify-end gap-2"},s.createElement("button",{onClick:()=>m(!1),className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"},"Cancel"),s.createElement("button",{onClick:x,className:"px-3 py-1.5 rounded bg-red-600 text-white hover:bg-red-700"},i?"Reset Session":"Sign Out")))))}function Ln(){return s.createElement("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-auto"},s.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6"},s.createElement("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 100 100",fill:"none"},s.createElement("defs",null,s.createElement("linearGradient",{id:"birdGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},s.createElement("stop",{offset:"0%",stopColor:"#3B82F6"}),s.createElement("stop",{offset:"50%",stopColor:"#06B6D4"}),s.createElement("stop",{offset:"100%",stopColor:"#8B5CF6"}))),s.createElement("path",{d:"M25 60 Q20 45 35 40 Q45 35 55 45 Q65 35 75 45 Q70 60 60 65 Q45 70 25 60 Z",fill:"url(#birdGradient)",stroke:"#1E40AF",strokeWidth:"1"}),s.createElement("path",{d:"M35 45 Q40 50 45 45 Q50 50 55 45",fill:"none",stroke:"#1E40AF",strokeWidth:"2"}),s.createElement("path",{d:"M45 50 Q50 55 55 50 Q60 55 65 50",fill:"none",stroke:"#1E40AF",strokeWidth:"2"}),s.createElement("circle",{cx:"70",cy:"35",r:"8",fill:"url(#birdGradient)",stroke:"#1E40AF",strokeWidth:"1"}),s.createElement("path",{d:"M75 32 L85 30 Q87 32 85 34 L75 38",fill:"#F59E0B"}),s.createElement("circle",{cx:"72",cy:"33",r:"2",fill:"white"}),s.createElement("circle",{cx:"73",cy:"32",r:"1",fill:"#1E40AF"}),s.createElement("circle",{cx:"30",cy:"50",r:"1.5",fill:"#06B6D4"}),s.createElement("circle",{cx:"40",cy:"55",r:"1.5",fill:"#06B6D4"}),s.createElement("circle",{cx:"50",cy:"52",r:"1.5",fill:"#06B6D4"}),s.createElement("circle",{cx:"60",cy:"58",r:"1.5",fill:"#06B6D4"}),s.createElement("path",{d:"M30 50 L40 55 L50 52 L60 58",fill:"none",stroke:"#06B6D4",strokeWidth:"1",opacity:"0.6"}),s.createElement("text",{x:"20",y:"85",fontFamily:"sans-serif",fontSize:"14",fontWeight:"bold",fill:"#1E40AF"},"DF")),s.createElement("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Spark Test Visualizer")),s.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"© ",new Date().getFullYear())),s.createElement("div",{className:"flex items-center gap-6"},s.createElement("a",{href:"https://github.com/Nexus-mdg/spark-test-visualizer",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors"},s.createElement("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})),s.createElement("span",null,"GitHub")),s.createElement("a",{href:"/docs",className:"text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors"},"Documentation"),s.createElement("a",{href:"/api",className:"text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors"},"API")))))}function _v(){_r();const{user:t,changePassword:e,logout:r,authDisabled:a}=no(),[n,l]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState(""),[u,g]=b.useState(!1),[m,f]=b.useState(""),[y,x]=b.useState(""),[k,p]=b.useState(!1),[h,v]=b.useState(!1),E=async _=>{if(_.preventDefault(),x(""),f(""),i.length<8){x("New password must be at least 8 characters long");return}if(i!==c){x("New passwords do not match");return}g(!0);try{const C=await e(n,i);C.success?(f("Password changed successfully"),l(""),o(""),d(""),p(!1)):x(C.error||"Failed to change password")}catch{x("An unexpected error occurred")}finally{g(!1)}},w=async()=>{v(!0)},S=async()=>{v(!1),await r()};return s.createElement("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen text-gray-900 dark:text-gray-100 transition-colors"},s.createElement(ga,{title:"User Profile"},s.createElement("div",{className:"text-sm text-slate-300"},"Logged in as ",t==null?void 0:t.username)),s.createElement("main",{className:"max-w-4xl mx-auto px-4 py-6"},s.createElement("div",{className:"space-y-6"},a&&s.createElement("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"},s.createElement("div",{className:"flex"},s.createElement("div",{className:"flex-shrink-0"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))),s.createElement("div",{className:"ml-3"},s.createElement("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-400"},"Development Mode"),s.createElement("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300"},s.createElement("p",null,"Authentication is currently disabled for development. This is a mock user profile with limited functionality."))))),s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow"},s.createElement("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600"},s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Account Information")),s.createElement("div",{className:"px-6 py-4 space-y-4"},s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Username"),s.createElement("div",{className:"mt-1 p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"},t==null?void 0:t.username,a&&s.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2"},"(Development Mode)"))),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Account Created"),s.createElement("div",{className:"mt-1 p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"},a?"N/A (Development Mode)":t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString():"Unknown"))),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Last Login"),s.createElement("div",{className:"mt-1 p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"},a?"N/A (Development Mode)":t!=null&&t.last_login?new Date(t.last_login).toLocaleString():"Never")))),s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow"},s.createElement("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600"},s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Security Settings")),s.createElement("div",{className:"px-6 py-4"},a?s.createElement("div",{className:"flex justify-between items-center"},s.createElement("div",null,s.createElement("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Password"),s.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Password management is not available in development mode")),s.createElement("button",{disabled:!0,className:"px-4 py-2 text-sm font-medium text-gray-400 border border-gray-300 dark:border-gray-600 rounded-md cursor-not-allowed"},"Not Available")):k?s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"flex justify-between items-center"},s.createElement("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Change Password"),s.createElement("button",{onClick:()=>{p(!1),x(""),f(""),l(""),o(""),d("")},className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"},"Cancel")),m&&s.createElement("div",{className:"rounded-md bg-green-50 dark:bg-green-900/20 p-4"},s.createElement("div",{className:"flex"},s.createElement("div",{className:"flex-shrink-0"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))),s.createElement("div",{className:"ml-3"},s.createElement("p",{className:"text-sm font-medium text-green-800 dark:text-green-400"},m)))),y&&s.createElement("div",{className:"rounded-md bg-red-50 dark:bg-red-900/20 p-4"},s.createElement("div",{className:"flex"},s.createElement("div",{className:"flex-shrink-0"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))),s.createElement("div",{className:"ml-3"},s.createElement("p",{className:"text-sm font-medium text-red-800 dark:text-red-400"},y)))),s.createElement("form",{onSubmit:E,className:"space-y-4"},s.createElement("div",null,s.createElement("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Current Password"),s.createElement("input",{type:"password",id:"current-password",value:n,onChange:_=>l(_.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400"})),s.createElement("div",null,s.createElement("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"New Password"),s.createElement("input",{type:"password",id:"new-password",value:i,onChange:_=>o(_.target.value),required:!0,minLength:8,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400"}),s.createElement("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Must be at least 8 characters long")),s.createElement("div",null,s.createElement("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Confirm New Password"),s.createElement("input",{type:"password",id:"confirm-password",value:c,onChange:_=>d(_.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400"})),s.createElement("div",{className:"flex justify-end"},s.createElement("button",{type:"submit",disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},u?"Changing...":"Change Password")))):s.createElement("div",{className:"flex justify-between items-center"},s.createElement("div",null,s.createElement("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Password"),s.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Change your password to keep your account secure")),s.createElement("button",{onClick:()=>p(!0),className:"px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 border border-indigo-600 dark:border-indigo-400 hover:border-indigo-500 dark:hover:border-indigo-300 rounded-md"},"Change Password")))),s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow"},s.createElement("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600"},s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Account Actions")),s.createElement("div",{className:"px-6 py-4"},s.createElement("div",{className:"flex justify-between items-center"},s.createElement("div",null,s.createElement("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},a?"Reset Session":"Sign Out"),s.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},a?"Reset your development session and return to the home page":"Sign out of your account on this device")),s.createElement("button",{onClick:w,className:"px-4 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 border border-red-600 dark:border-red-400 hover:border-red-500 dark:hover:border-red-300 rounded-md"},a?"Reset Session":"Sign Out")))))),h&&s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>v(!1)},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",onClick:_=>_.stopPropagation()},s.createElement("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-600"},s.createElement("h4",{className:"text-base font-semibold text-gray-900 dark:text-gray-100"},a?"Reset Session":"Confirm Sign Out")),s.createElement("div",{className:"px-5 py-4 text-sm text-gray-700 dark:text-gray-300"},a?"Are you sure you want to reset your development session? This will return you to the home page.":"Are you sure you want to sign out? You'll need to log in again to access your data."),s.createElement("div",{className:"px-5 py-3 border-t border-gray-200 dark:border-gray-600 flex items-center justify-end gap-2"},s.createElement("button",{onClick:()=>v(!1),className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"},"Cancel"),s.createElement("button",{onClick:S,className:"px-3 py-1.5 rounded bg-red-600 text-white hover:bg-red-700"},a?"Reset Session":"Sign Out")))))}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nl(t){return t+.5|0}const Yr=(t,e,r)=>Math.max(Math.min(t,r),e);function ss(t){return Yr(nl(t*2.55),0,255)}function sa(t){return Yr(nl(t*255),0,255)}function hr(t){return Yr(nl(t/2.55)/100,0,1)}function qm(t){return Yr(nl(t*100),0,100)}const wt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zc=[..."0123456789ABCDEF"],Cv=t=>Zc[t&15],Pv=t=>Zc[(t&240)>>4]+Zc[t&15],_l=t=>(t&240)>>4===(t&15),Mv=t=>_l(t.r)&&_l(t.g)&&_l(t.b)&&_l(t.a);function Dv(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&wt[t[1]]*17,g:255&wt[t[2]]*17,b:255&wt[t[3]]*17,a:e===5?wt[t[4]]*17:255}:(e===7||e===9)&&(r={r:wt[t[1]]<<4|wt[t[2]],g:wt[t[3]]<<4|wt[t[4]],b:wt[t[5]]<<4|wt[t[6]],a:e===9?wt[t[7]]<<4|wt[t[8]]:255})),r}const Ov=(t,e)=>t<255?e(t):"";function Tv(t){var e=Mv(t)?Cv:Pv;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Ov(t.a,e):void 0}const Rv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uh(t,e,r){const a=e*Math.min(r,1-r),n=(l,i=(l+t/30)%12)=>r-a*Math.max(Math.min(i-3,9-i,1),-1);return[n(0),n(8),n(4)]}function Lv(t,e,r){const a=(n,l=(n+t/60)%6)=>r-r*e*Math.max(Math.min(l,4-l,1),0);return[a(5),a(3),a(1)]}function Av(t,e,r){const a=Uh(t,1,.5);let n;for(e+r>1&&(n=1/(e+r),e*=n,r*=n),n=0;n<3;n++)a[n]*=1-e-r,a[n]+=e;return a}function zv(t,e,r,a,n){return t===n?(e-r)/a+(e<r?6:0):e===n?(r-t)/a+2:(t-e)/a+4}function lu(t){const r=t.r/255,a=t.g/255,n=t.b/255,l=Math.max(r,a,n),i=Math.min(r,a,n),o=(l+i)/2;let c,d,u;return l!==i&&(u=l-i,d=o>.5?u/(2-l-i):u/(l+i),c=zv(r,a,n,u,l),c=c*60+.5),[c|0,d||0,o]}function iu(t,e,r,a){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,a)).map(sa)}function ou(t,e,r){return iu(Uh,t,e,r)}function Fv(t,e,r){return iu(Av,t,e,r)}function Iv(t,e,r){return iu(Lv,t,e,r)}function Yh(t){return(t%360+360)%360}function Bv(t){const e=Rv.exec(t);let r=255,a;if(!e)return;e[5]!==a&&(r=e[6]?ss(+e[5]):sa(+e[5]));const n=Yh(+e[2]),l=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?a=Fv(n,l,i):e[1]==="hsv"?a=Iv(n,l,i):a=ou(n,l,i),{r:a[0],g:a[1],b:a[2],a:r}}function jv(t,e){var r=lu(t);r[0]=Yh(r[0]+e),r=ou(r),t.r=r[0],t.g=r[1],t.b=r[2]}function $v(t){if(!t)return;const e=lu(t),r=e[0],a=qm(e[1]),n=qm(e[2]);return t.a<255?`hsla(${r}, ${a}%, ${n}%, ${hr(t.a)})`:`hsl(${r}, ${a}%, ${n}%)`}const Zm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},e0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Vv(){const t={},e=Object.keys(e0),r=Object.keys(Zm);let a,n,l,i,o;for(a=0;a<e.length;a++){for(i=o=e[a],n=0;n<r.length;n++)l=r[n],o=o.replace(l,Zm[l]);l=parseInt(e0[i],16),t[o]=[l>>16&255,l>>8&255,l&255]}return t}let Cl;function Wv(t){Cl||(Cl=Vv(),Cl.transparent=[0,0,0,0]);const e=Cl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Hv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Uv(t){const e=Hv.exec(t);let r=255,a,n,l;if(e){if(e[7]!==a){const i=+e[7];r=e[8]?ss(i):Yr(i*255,0,255)}return a=+e[1],n=+e[3],l=+e[5],a=255&(e[2]?ss(a):Yr(a,0,255)),n=255&(e[4]?ss(n):Yr(n,0,255)),l=255&(e[6]?ss(l):Yr(l,0,255)),{r:a,g:n,b:l,a:r}}}function Yv(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${hr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ko=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ga=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Kv(t,e,r){const a=Ga(hr(t.r)),n=Ga(hr(t.g)),l=Ga(hr(t.b));return{r:sa(Ko(a+r*(Ga(hr(e.r))-a))),g:sa(Ko(n+r*(Ga(hr(e.g))-n))),b:sa(Ko(l+r*(Ga(hr(e.b))-l))),a:t.a+r*(e.a-t.a)}}function Pl(t,e,r){if(t){let a=lu(t);a[e]=Math.max(0,Math.min(a[e]+a[e]*r,e===0?360:1)),a=ou(a),t.r=a[0],t.g=a[1],t.b=a[2]}}function Kh(t,e){return t&&Object.assign(e||{},t)}function t0(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=sa(t[3]))):(e=Kh(t,{r:0,g:0,b:0,a:1}),e.a=sa(e.a)),e}function Gv(t){return t.charAt(0)==="r"?Uv(t):Bv(t)}class Hs{constructor(e){if(e instanceof Hs)return e;const r=typeof e;let a;r==="object"?a=t0(e):r==="string"&&(a=Dv(e)||Wv(e)||Gv(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=Kh(this._rgb);return e&&(e.a=hr(e.a)),e}set rgb(e){this._rgb=t0(e)}rgbString(){return this._valid?Yv(this._rgb):void 0}hexString(){return this._valid?Tv(this._rgb):void 0}hslString(){return this._valid?$v(this._rgb):void 0}mix(e,r){if(e){const a=this.rgb,n=e.rgb;let l;const i=r===l?.5:r,o=2*i-1,c=a.a-n.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;l=1-d,a.r=255&d*a.r+l*n.r+.5,a.g=255&d*a.g+l*n.g+.5,a.b=255&d*a.b+l*n.b+.5,a.a=i*a.a+(1-i)*n.a,this.rgb=a}return this}interpolate(e,r){return e&&(this._rgb=Kv(this._rgb,e._rgb,r)),this}clone(){return new Hs(this.rgb)}alpha(e){return this._rgb.a=sa(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=nl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Pl(this._rgb,2,e),this}darken(e){return Pl(this._rgb,2,-e),this}saturate(e){return Pl(this._rgb,1,e),this}desaturate(e){return Pl(this._rgb,1,-e),this}rotate(e){return jv(this._rgb,e),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function cr(){}const Qv=(()=>{let t=0;return()=>t++})();function de(t){return t===null||typeof t>"u"}function $e(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function re(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Dt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function qt(t,e){return Dt(t)?t:e}function q(t,e){return typeof t>"u"?e:t}const Jv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Gh=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function fe(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function se(t,e,r,a){let n,l,i;if($e(t))for(l=t.length,n=0;n<l;n++)e.call(r,t[n],n);else if(re(t))for(i=Object.keys(t),l=i.length,n=0;n<l;n++)e.call(r,t[i[n]],i[n])}function Di(t,e){let r,a,n,l;if(!t||!e||t.length!==e.length)return!1;for(r=0,a=t.length;r<a;++r)if(n=t[r],l=e[r],n.datasetIndex!==l.datasetIndex||n.index!==l.index)return!1;return!0}function Oi(t){if($e(t))return t.map(Oi);if(re(t)){const e=Object.create(null),r=Object.keys(t),a=r.length;let n=0;for(;n<a;++n)e[r[n]]=Oi(t[r[n]]);return e}return t}function Qh(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Xv(t,e,r,a){if(!Qh(t))return;const n=e[t],l=r[t];re(n)&&re(l)?Us(n,l,a):e[t]=Oi(l)}function Us(t,e,r){const a=$e(e)?e:[e],n=a.length;if(!re(t))return t;r=r||{};const l=r.merger||Xv;let i;for(let o=0;o<n;++o){if(i=a[o],!re(i))continue;const c=Object.keys(i);for(let d=0,u=c.length;d<u;++d)l(c[d],t,i,r)}return t}function vs(t,e){return Us(t,e,{merger:qv})}function qv(t,e,r){if(!Qh(t))return;const a=e[t],n=r[t];re(a)&&re(n)?vs(a,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Oi(n))}const r0={"":t=>t,x:t=>t.x,y:t=>t.y};function Zv(t){const e=t.split("."),r=[];let a="";for(const n of e)a+=n,a.endsWith("\\")?a=a.slice(0,-1)+".":(r.push(a),a="");return r}function e1(t){const e=Zv(t);return r=>{for(const a of e){if(a==="")break;r=r&&r[a]}return r}}function za(t,e){return(r0[e]||(r0[e]=e1(e)))(t)}function cu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ys=t=>typeof t<"u",oa=t=>typeof t=="function",a0=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function t1(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Re=Math.PI,Ce=2*Re,r1=Ce+Re,Ti=Number.POSITIVE_INFINITY,a1=Re/180,Ie=Re/2,pa=Re/4,n0=Re*2/3,Jh=Math.log10,lr=Math.sign;function ks(t,e,r){return Math.abs(t-e)<r}function s0(t){const e=Math.round(t);t=ks(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Jh(t))),a=t/r;return(a<=1?1:a<=2?2:a<=5?5:10)*r}function n1(t){const e=[],r=Math.sqrt(t);let a;for(a=1;a<r;a++)t%a===0&&(e.push(a),e.push(t/a));return r===(r|0)&&e.push(r),e.sort((n,l)=>n-l).pop(),e}function Ks(t){return!isNaN(parseFloat(t))&&isFinite(t)}function s1(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function l1(t,e,r){let a,n,l;for(a=0,n=t.length;a<n;a++)l=t[a][r],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function xr(t){return t*(Re/180)}function i1(t){return t*(180/Re)}function l0(t){if(!Dt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Xh(t,e){const r=e.x-t.x,a=e.y-t.y,n=Math.sqrt(r*r+a*a);let l=Math.atan2(a,r);return l<-.5*Re&&(l+=Ce),{angle:l,distance:n}}function ed(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function o1(t,e){return(t-e+r1)%Ce-Re}function Ir(t){return(t%Ce+Ce)%Ce}function Gs(t,e,r,a){const n=Ir(t),l=Ir(e),i=Ir(r),o=Ir(l-n),c=Ir(i-n),d=Ir(n-l),u=Ir(n-i);return n===l||n===i||a&&l===i||o>c&&d<u}function Je(t,e,r){return Math.max(e,Math.min(r,t))}function c1(t){return Je(t,-32768,32767)}function Kr(t,e,r,a=1e-6){return t>=Math.min(e,r)-a&&t<=Math.max(e,r)+a}function du(t,e,r){r=r||(i=>t[i]<e);let a=t.length-1,n=0,l;for(;a-n>1;)l=n+a>>1,r(l)?n=l:a=l;return{lo:n,hi:a}}const _a=(t,e,r,a)=>du(t,r,a?n=>{const l=t[n][e];return l<r||l===r&&t[n+1][e]===r}:n=>t[n][e]<r),d1=(t,e,r)=>du(t,r,a=>t[a][e]>=r);function u1(t,e,r){let a=0,n=t.length;for(;a<n&&t[a]<e;)a++;for(;n>a&&t[n-1]>r;)n--;return a>0||n<t.length?t.slice(a,n):t}const qh=["push","pop","shift","splice","unshift"];function m1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),qh.forEach(r=>{const a="_onData"+cu(r),n=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...l){const i=n.apply(this,l);return t._chartjs.listeners.forEach(o=>{typeof o[a]=="function"&&o[a](...l)}),i}})})}function i0(t,e){const r=t._chartjs;if(!r)return;const a=r.listeners,n=a.indexOf(e);n!==-1&&a.splice(n,1),!(a.length>0)&&(qh.forEach(l=>{delete t[l]}),delete t._chartjs)}function Zh(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ep=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function tp(t,e){let r=[],a=!1;return function(...n){r=n,a||(a=!0,ep.call(window,()=>{a=!1,t.apply(e,r)}))}}function g1(t,e){let r;return function(...a){return e?(clearTimeout(r),r=setTimeout(t,e,a)):t.apply(this,a),e}}const rp=t=>t==="start"?"left":t==="end"?"right":"center",ft=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,f1=(t,e,r,a)=>t===(a?"left":"right")?r:t==="center"?(e+r)/2:e;function h1(t,e,r){const a=e.length;let n=0,l=a;if(t._sorted){const{iScale:i,_parsed:o}=t,c=i.axis,{min:d,max:u,minDefined:g,maxDefined:m}=i.getUserBounds();g&&(n=Je(Math.min(_a(o,c,d).lo,r?a:_a(e,c,i.getPixelForValue(d)).lo),0,a-1)),m?l=Je(Math.max(_a(o,i.axis,u,!0).hi+1,r?0:_a(e,c,i.getPixelForValue(u),!0).hi+1),n,a)-n:l=a-n}return{start:n,count:l}}function p1(t){const{xScale:e,yScale:r,_scaleRanges:a}=t,n={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!a)return t._scaleRanges=n,!0;const l=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==r.min||a.ymax!==r.max;return Object.assign(a,n),l}const Ml=t=>t===0||t===1,o0=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ce/r)),c0=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ce/r)+1,Es={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ie)+1,easeOutSine:t=>Math.sin(t*Ie),easeInOutSine:t=>-.5*(Math.cos(Re*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ml(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ml(t)?t:o0(t,.075,.3),easeOutElastic:t=>Ml(t)?t:c0(t,.075,.3),easeInOutElastic(t){return Ml(t)?t:t<.5?.5*o0(t*2,.1125,.45):.5+.5*c0(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Es.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Es.easeInBounce(t*2)*.5:Es.easeOutBounce(t*2-1)*.5+.5};function uu(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function d0(t){return uu(t)?t:new Hs(t)}function Go(t){return uu(t)?t:new Hs(t).saturate(.5).darken(.1).hexString()}const y1=["x","y","borderWidth","radius","tension"],x1=["color","borderColor","backgroundColor"];function b1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:x1},numbers:{type:"number",properties:y1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function v1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const u0=new Map;function k1(t,e){e=e||{};const r=t+JSON.stringify(e);let a=u0.get(r);return a||(a=new Intl.NumberFormat(t,e),u0.set(r,a)),a}function mu(t,e,r){return k1(e,r).format(t)}const E1={values(t){return $e(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const a=this.chart.options.locale;let n,l=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),l=w1(t,r)}const i=Jh(Math.abs(l)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),mu(t,a,c)}};function w1(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var ap={formatters:E1};function N1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ap.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Fa=Object.create(null),td=Object.create(null);function ws(t,e){if(!e)return t;const r=e.split(".");for(let a=0,n=r.length;a<n;++a){const l=r[a];t=t[l]||(t[l]=Object.create(null))}return t}function Qo(t,e,r){return typeof e=="string"?Us(ws(t,e),r):Us(ws(t,""),e)}class S1{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,n)=>Go(n.backgroundColor),this.hoverBorderColor=(a,n)=>Go(n.borderColor),this.hoverColor=(a,n)=>Go(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Qo(this,e,r)}get(e){return ws(this,e)}describe(e,r){return Qo(td,e,r)}override(e,r){return Qo(Fa,e,r)}route(e,r,a,n){const l=ws(this,e),i=ws(this,a),o="_"+r;Object.defineProperties(l,{[o]:{value:l[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[o],d=i[n];return re(c)?Object.assign({},d,c):q(c,d)},set(c){this[o]=c}}})}apply(e){e.forEach(r=>r(this))}}var De=new S1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[b1,v1,N1]);function _1(t){return!t||de(t.size)||de(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function m0(t,e,r,a,n){let l=e[n];return l||(l=e[n]=t.measureText(n).width,r.push(n)),l>a&&(a=l),a}function ya(t,e,r){const a=t.currentDevicePixelRatio,n=r!==0?Math.max(r/2,.5):0;return Math.round((e-n)*a)/a+n}function g0(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function rd(t,e,r,a){np(t,e,r,a,null)}function np(t,e,r,a,n){let l,i,o,c,d,u,g,m;const f=e.pointStyle,y=e.rotation,x=e.radius;let k=(y||0)*a1;if(f&&typeof f=="object"&&(l=f.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){t.save(),t.translate(r,a),t.rotate(k),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),f){default:n?t.ellipse(r,a,n/2,x,0,0,Ce):t.arc(r,a,x,0,Ce),t.closePath();break;case"triangle":u=n?n/2:x,t.moveTo(r+Math.sin(k)*u,a-Math.cos(k)*x),k+=n0,t.lineTo(r+Math.sin(k)*u,a-Math.cos(k)*x),k+=n0,t.lineTo(r+Math.sin(k)*u,a-Math.cos(k)*x),t.closePath();break;case"rectRounded":d=x*.516,c=x-d,i=Math.cos(k+pa)*c,g=Math.cos(k+pa)*(n?n/2-d:c),o=Math.sin(k+pa)*c,m=Math.sin(k+pa)*(n?n/2-d:c),t.arc(r-g,a-o,d,k-Re,k-Ie),t.arc(r+m,a-i,d,k-Ie,k),t.arc(r+g,a+o,d,k,k+Ie),t.arc(r-m,a+i,d,k+Ie,k+Re),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*x,u=n?n/2:c,t.rect(r-u,a-c,2*u,2*c);break}k+=pa;case"rectRot":g=Math.cos(k)*(n?n/2:x),i=Math.cos(k)*x,o=Math.sin(k)*x,m=Math.sin(k)*(n?n/2:x),t.moveTo(r-g,a-o),t.lineTo(r+m,a-i),t.lineTo(r+g,a+o),t.lineTo(r-m,a+i),t.closePath();break;case"crossRot":k+=pa;case"cross":g=Math.cos(k)*(n?n/2:x),i=Math.cos(k)*x,o=Math.sin(k)*x,m=Math.sin(k)*(n?n/2:x),t.moveTo(r-g,a-o),t.lineTo(r+g,a+o),t.moveTo(r+m,a-i),t.lineTo(r-m,a+i);break;case"star":g=Math.cos(k)*(n?n/2:x),i=Math.cos(k)*x,o=Math.sin(k)*x,m=Math.sin(k)*(n?n/2:x),t.moveTo(r-g,a-o),t.lineTo(r+g,a+o),t.moveTo(r+m,a-i),t.lineTo(r-m,a+i),k+=pa,g=Math.cos(k)*(n?n/2:x),i=Math.cos(k)*x,o=Math.sin(k)*x,m=Math.sin(k)*(n?n/2:x),t.moveTo(r-g,a-o),t.lineTo(r+g,a+o),t.moveTo(r+m,a-i),t.lineTo(r-m,a+i);break;case"line":i=n?n/2:Math.cos(k)*x,o=Math.sin(k)*x,t.moveTo(r-i,a-o),t.lineTo(r+i,a+o);break;case"dash":t.moveTo(r,a),t.lineTo(r+Math.cos(k)*(n?n/2:x),a+Math.sin(k)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Qs(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function gu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fu(t){t.restore()}function C1(t,e,r,a,n){if(!e)return t.lineTo(r.x,r.y);if(n==="middle"){const l=(e.x+r.x)/2;t.lineTo(l,e.y),t.lineTo(l,r.y)}else n==="after"!=!!a?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function P1(t,e,r,a){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?r.cp2x:r.cp1x,a?r.cp2y:r.cp1y,r.x,r.y)}function M1(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),de(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function D1(t,e,r,a,n){if(n.strikethrough||n.underline){const l=t.measureText(a),i=e-l.actualBoundingBoxLeft,o=e+l.actualBoundingBoxRight,c=r-l.actualBoundingBoxAscent,d=r+l.actualBoundingBoxDescent,u=n.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(i,u),t.lineTo(o,u),t.stroke()}}function O1(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Ri(t,e,r,a,n,l={}){const i=$e(e)?e:[e],o=l.strokeWidth>0&&l.strokeColor!=="";let c,d;for(t.save(),t.font=n.string,M1(t,l),c=0;c<i.length;++c)d=i[c],l.backdrop&&O1(t,l.backdrop),o&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),de(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(d,r,a,l.maxWidth)),t.fillText(d,r,a,l.maxWidth),D1(t,r,a,d,l),a+=Number(n.lineHeight);t.restore()}function Li(t,e){const{x:r,y:a,w:n,h:l,radius:i}=e;t.arc(r+i.topLeft,a+i.topLeft,i.topLeft,1.5*Re,Re,!0),t.lineTo(r,a+l-i.bottomLeft),t.arc(r+i.bottomLeft,a+l-i.bottomLeft,i.bottomLeft,Re,Ie,!0),t.lineTo(r+n-i.bottomRight,a+l),t.arc(r+n-i.bottomRight,a+l-i.bottomRight,i.bottomRight,Ie,0,!0),t.lineTo(r+n,a+i.topRight),t.arc(r+n-i.topRight,a+i.topRight,i.topRight,0,-Ie,!0),t.lineTo(r+i.topLeft,a)}const T1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,R1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function L1(t,e){const r=(""+t).match(T1);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const A1=t=>+t||0;function hu(t,e){const r={},a=re(e),n=a?Object.keys(e):e,l=re(t)?a?i=>q(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of n)r[i]=A1(l(i));return r}function sp(t){return hu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function pn(t){return hu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Yt(t){const e=sp(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function lt(t,e){t=t||{},e=e||De.font;let r=q(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let a=q(t.style,e.style);a&&!(""+a).match(R1)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const n={family:q(t.family,e.family),lineHeight:L1(q(t.lineHeight,e.lineHeight),r),size:r,style:a,weight:q(t.weight,e.weight),string:""};return n.string=_1(n),n}function Dl(t,e,r,a){let n,l,i;for(n=0,l=t.length;n<l;++n)if(i=t[n],i!==void 0&&i!==void 0)return i}function z1(t,e,r){const{min:a,max:n}=t,l=Gh(e,(n-a)/2),i=(o,c)=>r&&o===0?0:o+c;return{min:i(a,-Math.abs(l)),max:i(n,l)}}function ja(t,e){return Object.assign(Object.create(t),e)}function pu(t,e=[""],r,a,n=()=>t[0]){const l=r||t;typeof a>"u"&&(a=cp("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:l,_fallback:a,_getTarget:n,override:o=>pu([o,...t],e,l,a)};return new Proxy(i,{deleteProperty(o,c){return delete o[c],delete o._keys,delete t[0][c],!0},get(o,c){return ip(o,c,()=>H1(c,e,t,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,c){return h0(o).includes(c)},ownKeys(o){return h0(o)},set(o,c,d){const u=o._storage||(o._storage=n());return o[c]=u[c]=d,delete o._keys,!0}})}function Sn(t,e,r,a){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:lp(t,a),setContext:l=>Sn(t,l,r,a),override:l=>Sn(t.override(l),e,r,a)};return new Proxy(n,{deleteProperty(l,i){return delete l[i],delete t[i],!0},get(l,i,o){return ip(l,i,()=>I1(l,i,o))},getOwnPropertyDescriptor(l,i){return l._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(l,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(l,i,o){return t[i]=o,delete l[i],!0}})}function lp(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:a=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:r,indexable:a,isScriptable:oa(r)?r:()=>r,isIndexable:oa(a)?a:()=>a}}const F1=(t,e)=>t?t+cu(e):e,yu=(t,e)=>re(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function ip(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const a=r();return t[e]=a,a}function I1(t,e,r){const{_proxy:a,_context:n,_subProxy:l,_descriptors:i}=t;let o=a[e];return oa(o)&&i.isScriptable(e)&&(o=B1(e,o,t,r)),$e(o)&&o.length&&(o=j1(e,o,t,i.isIndexable)),yu(e,o)&&(o=Sn(o,n,l&&l[e],i)),o}function B1(t,e,r,a){const{_proxy:n,_context:l,_subProxy:i,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let c=e(l,i||a);return o.delete(t),yu(t,c)&&(c=xu(n._scopes,n,t,c)),c}function j1(t,e,r,a){const{_proxy:n,_context:l,_subProxy:i,_descriptors:o}=r;if(typeof l.index<"u"&&a(t))return e[l.index%e.length];if(re(e[0])){const c=e,d=n._scopes.filter(u=>u!==c);e=[];for(const u of c){const g=xu(d,n,t,u);e.push(Sn(g,l,i&&i[t],o))}}return e}function op(t,e,r){return oa(t)?t(e,r):t}const $1=(t,e)=>t===!0?e:typeof t=="string"?za(e,t):void 0;function V1(t,e,r,a,n){for(const l of e){const i=$1(r,l);if(i){t.add(i);const o=op(i._fallback,r,n);if(typeof o<"u"&&o!==r&&o!==a)return o}else if(i===!1&&typeof a<"u"&&r!==a)return null}return!1}function xu(t,e,r,a){const n=e._rootScopes,l=op(e._fallback,r,a),i=[...t,...n],o=new Set;o.add(a);let c=f0(o,i,r,l||r,a);return c===null||typeof l<"u"&&l!==r&&(c=f0(o,i,l,c,a),c===null)?!1:pu(Array.from(o),[""],n,l,()=>W1(e,r,a))}function f0(t,e,r,a,n){for(;r;)r=V1(t,e,r,a,n);return r}function W1(t,e,r){const a=t._getTarget();e in a||(a[e]={});const n=a[e];return $e(n)&&re(r)?r:n||{}}function H1(t,e,r,a){let n;for(const l of e)if(n=cp(F1(l,t),r),typeof n<"u")return yu(t,n)?xu(r,a,t,n):n}function cp(t,e){for(const r of e){if(!r)continue;const a=r[t];if(typeof a<"u")return a}}function h0(t){let e=t._keys;return e||(e=t._keys=U1(t._scopes)),e}function U1(t){const e=new Set;for(const r of t)for(const a of Object.keys(r).filter(n=>!n.startsWith("_")))e.add(a);return Array.from(e)}const Y1=Number.EPSILON||1e-14,_n=(t,e)=>e<t.length&&!t[e].skip&&t[e],dp=t=>t==="x"?"y":"x";function K1(t,e,r,a){const n=t.skip?e:t,l=e,i=r.skip?e:r,o=ed(l,n),c=ed(i,l);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const g=a*d,m=a*u;return{previous:{x:l.x-g*(i.x-n.x),y:l.y-g*(i.y-n.y)},next:{x:l.x+m*(i.x-n.x),y:l.y+m*(i.y-n.y)}}}function G1(t,e,r){const a=t.length;let n,l,i,o,c,d=_n(t,0);for(let u=0;u<a-1;++u)if(c=d,d=_n(t,u+1),!(!c||!d)){if(ks(e[u],0,Y1)){r[u]=r[u+1]=0;continue}n=r[u]/e[u],l=r[u+1]/e[u],o=Math.pow(n,2)+Math.pow(l,2),!(o<=9)&&(i=3/Math.sqrt(o),r[u]=n*i*e[u],r[u+1]=l*i*e[u])}}function Q1(t,e,r="x"){const a=dp(r),n=t.length;let l,i,o,c=_n(t,0);for(let d=0;d<n;++d){if(i=o,o=c,c=_n(t,d+1),!o)continue;const u=o[r],g=o[a];i&&(l=(u-i[r])/3,o[`cp1${r}`]=u-l,o[`cp1${a}`]=g-l*e[d]),c&&(l=(c[r]-u)/3,o[`cp2${r}`]=u+l,o[`cp2${a}`]=g+l*e[d])}}function J1(t,e="x"){const r=dp(e),a=t.length,n=Array(a).fill(0),l=Array(a);let i,o,c,d=_n(t,0);for(i=0;i<a;++i)if(o=c,c=d,d=_n(t,i+1),!!c){if(d){const u=d[e]-c[e];n[i]=u!==0?(d[r]-c[r])/u:0}l[i]=o?d?lr(n[i-1])!==lr(n[i])?0:(n[i-1]+n[i])/2:n[i-1]:n[i]}G1(t,n,l),Q1(t,l,e)}function Ol(t,e,r){return Math.max(Math.min(t,r),e)}function X1(t,e){let r,a,n,l,i,o=Qs(t[0],e);for(r=0,a=t.length;r<a;++r)i=l,l=o,o=r<a-1&&Qs(t[r+1],e),l&&(n=t[r],i&&(n.cp1x=Ol(n.cp1x,e.left,e.right),n.cp1y=Ol(n.cp1y,e.top,e.bottom)),o&&(n.cp2x=Ol(n.cp2x,e.left,e.right),n.cp2y=Ol(n.cp2y,e.top,e.bottom)))}function q1(t,e,r,a,n){let l,i,o,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")J1(t,n);else{let d=a?t[t.length-1]:t[0];for(l=0,i=t.length;l<i;++l)o=t[l],c=K1(d,o,t[Math.min(l+1,i-(a?0:1))%i],e.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}e.capBezierPoints&&X1(t,r)}function bu(){return typeof window<"u"&&typeof document<"u"}function vu(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ai(t,e,r){let a;return typeof t=="string"?(a=parseInt(t,10),t.indexOf("%")!==-1&&(a=a/100*e.parentNode[r])):a=t,a}const lo=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Z1(t,e){return lo(t).getPropertyValue(e)}const ek=["top","right","bottom","left"];function Ma(t,e,r){const a={};r=r?"-"+r:"";for(let n=0;n<4;n++){const l=ek[n];a[l]=parseFloat(t[e+"-"+l+r])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const tk=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function rk(t,e){const r=t.touches,a=r&&r.length?r[0]:t,{offsetX:n,offsetY:l}=a;let i=!1,o,c;if(tk(n,l,t.target))o=n,c=l;else{const d=e.getBoundingClientRect();o=a.clientX-d.left,c=a.clientY-d.top,i=!0}return{x:o,y:c,box:i}}function ka(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:a}=e,n=lo(r),l=n.boxSizing==="border-box",i=Ma(n,"padding"),o=Ma(n,"border","width"),{x:c,y:d,box:u}=rk(t,r),g=i.left+(u&&o.left),m=i.top+(u&&o.top);let{width:f,height:y}=e;return l&&(f-=i.width+o.width,y-=i.height+o.height),{x:Math.round((c-g)/f*r.width/a),y:Math.round((d-m)/y*r.height/a)}}function ak(t,e,r){let a,n;if(e===void 0||r===void 0){const l=t&&vu(t);if(!l)e=t.clientWidth,r=t.clientHeight;else{const i=l.getBoundingClientRect(),o=lo(l),c=Ma(o,"border","width"),d=Ma(o,"padding");e=i.width-d.width-c.width,r=i.height-d.height-c.height,a=Ai(o.maxWidth,l,"clientWidth"),n=Ai(o.maxHeight,l,"clientHeight")}}return{width:e,height:r,maxWidth:a||Ti,maxHeight:n||Ti}}const Tl=t=>Math.round(t*10)/10;function nk(t,e,r,a){const n=lo(t),l=Ma(n,"margin"),i=Ai(n.maxWidth,t,"clientWidth")||Ti,o=Ai(n.maxHeight,t,"clientHeight")||Ti,c=ak(t,e,r);let{width:d,height:u}=c;if(n.boxSizing==="content-box"){const m=Ma(n,"border","width"),f=Ma(n,"padding");d-=f.width+m.width,u-=f.height+m.height}return d=Math.max(0,d-l.width),u=Math.max(0,a?d/a:u-l.height),d=Tl(Math.min(d,i,c.maxWidth)),u=Tl(Math.min(u,o,c.maxHeight)),d&&!u&&(u=Tl(d/2)),(e!==void 0||r!==void 0)&&a&&c.height&&u>c.height&&(u=c.height,d=Tl(Math.floor(u*a))),{width:d,height:u}}function p0(t,e,r){const a=e||1,n=Math.floor(t.height*a),l=Math.floor(t.width*a);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==a||i.height!==n||i.width!==l?(t.currentDevicePixelRatio=a,i.height=n,i.width=l,t.ctx.setTransform(a,0,0,a,0,0),!0):!1}const sk=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function y0(t,e){const r=Z1(t,e),a=r&&r.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Ea(t,e,r,a){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function lk(t,e,r,a){return{x:t.x+r*(e.x-t.x),y:a==="middle"?r<.5?t.y:e.y:a==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function ik(t,e,r,a){const n={x:t.cp2x,y:t.cp2y},l={x:e.cp1x,y:e.cp1y},i=Ea(t,n,r),o=Ea(n,l,r),c=Ea(l,e,r),d=Ea(i,o,r),u=Ea(o,c,r);return Ea(d,u,r)}const ok=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,a){return r-a},leftForLtr(r,a){return r-a}}},ck=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function yn(t,e,r){return t?ok(e,r):ck()}function up(t,e){let r,a;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,a=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=a)}function mp(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function gp(t){return t==="angle"?{between:Gs,compare:o1,normalize:Ir}:{between:Kr,compare:(e,r)=>e-r,normalize:e=>e}}function x0({start:t,end:e,count:r,loop:a,style:n}){return{start:t%r,end:e%r,loop:a&&(e-t+1)%r===0,style:n}}function dk(t,e,r){const{property:a,start:n,end:l}=r,{between:i,normalize:o}=gp(a),c=e.length;let{start:d,end:u,loop:g}=t,m,f;if(g){for(d+=c,u+=c,m=0,f=c;m<f&&i(o(e[d%c][a]),n,l);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:g,style:t.style}}function uk(t,e,r){if(!r)return[t];const{property:a,start:n,end:l}=r,i=e.length,{compare:o,between:c,normalize:d}=gp(a),{start:u,end:g,loop:m,style:f}=dk(t,e,r),y=[];let x=!1,k=null,p,h,v;const E=()=>c(n,v,p)&&o(n,v)!==0,w=()=>o(l,p)===0||c(l,v,p),S=()=>x||E(),_=()=>!x||w();for(let C=u,A=u;C<=g;++C)h=e[C%i],!h.skip&&(p=d(h[a]),p!==v&&(x=c(p,n,l),k===null&&S()&&(k=o(p,n)===0?C:A),k!==null&&_()&&(y.push(x0({start:k,end:C,loop:m,count:i,style:f})),k=null),A=C,v=p));return k!==null&&y.push(x0({start:k,end:g,loop:m,count:i,style:f})),y}function mk(t,e){const r=[],a=t.segments;for(let n=0;n<a.length;n++){const l=uk(a[n],t.points,e);l.length&&r.push(...l)}return r}function gk(t,e,r,a){let n=0,l=e-1;if(r&&!a)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,r&&(l+=n);l>n&&t[l%e].skip;)l--;return l%=e,{start:n,end:l}}function fk(t,e,r,a){const n=t.length,l=[];let i=e,o=t[e],c;for(c=e+1;c<=r;++c){const d=t[c%n];d.skip||d.stop?o.skip||(a=!1,l.push({start:e%n,end:(c-1)%n,loop:a}),e=i=d.stop?c:null):(i=c,o.skip&&(e=c)),o=d}return i!==null&&l.push({start:e%n,end:i%n,loop:a}),l}function hk(t,e){const r=t.points,a=t.options.spanGaps,n=r.length;if(!n)return[];const l=!!t._loop,{start:i,end:o}=gk(r,n,l,a);if(a===!0)return b0(t,[{start:i,end:o,loop:l}],r,e);const c=o<i?o+n:o,d=!!t._fullLoop&&i===0&&o===n-1;return b0(t,fk(r,i,c,d),r,e)}function b0(t,e,r,a){return!a||!a.setContext||!r?e:pk(t,e,r,a)}function pk(t,e,r,a){const n=t._chart.getContext(),l=v0(t.options),{_datasetIndex:i,options:{spanGaps:o}}=t,c=r.length,d=[];let u=l,g=e[0].start,m=g;function f(y,x,k,p){const h=o?-1:1;if(y!==x){for(y+=c;r[y%c].skip;)y-=h;for(;r[x%c].skip;)x+=h;y%c!==x%c&&(d.push({start:y%c,end:x%c,loop:k,style:p}),u=p,g=x%c)}}for(const y of e){g=o?g:y.start;let x=r[g%c],k;for(m=g+1;m<=y.end;m++){const p=r[m%c];k=v0(a.setContext(ja(n,{type:"segment",p0:x,p1:p,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),yk(k,u)&&f(g,m-1,y.loop,u),x=p,u=k}g<m-1&&f(g,m-1,y.loop,u)}return d}function v0(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function yk(t,e){if(!e)return!1;const r=[],a=function(n,l){return uu(l)?(r.includes(l)||r.push(l),r.indexOf(l)):l};return JSON.stringify(t,a)!==JSON.stringify(e,a)}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class xk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,a,n){const l=r.listeners[n],i=r.duration;l.forEach(o=>o({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(a-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=ep.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((a,n)=>{if(!a.running||!a.items.length)return;const l=a.items;let i=l.length-1,o=!1,c;for(;i>=0;--i)c=l[i],c._active?(c._total>a.duration&&(a.duration=c._total),c.tick(e),o=!0):(l[i]=l[l.length-1],l.pop());o&&(n.draw(),this._notify(n,a,e,"progress")),l.length||(a.running=!1,this._notify(n,a,e,"complete"),a.initial=!1),r+=l.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let a=r.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,a)),a}listen(e,r,a){this._getAnims(e).listeners[r].push(a)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((a,n)=>Math.max(a,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const a=r.items;let n=a.length-1;for(;n>=0;--n)a[n].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ur=new xk;const k0="transparent",bk={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const a=d0(t||k0),n=a.valid&&d0(e||k0);return n&&n.valid?n.mix(a,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class vk{constructor(e,r,a,n){const l=r[a];n=Dl([e.to,n,l,e.from]);const i=Dl([e.from,l,n]);this._active=!0,this._fn=e.fn||bk[e.type||typeof i],this._easing=Es[e.easing]||Es.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=a,this._from=i,this._to=n,this._promises=void 0}active(){return this._active}update(e,r,a){if(this._active){this._notify(!1);const n=this._target[this._prop],l=a-this._start,i=this._duration-l;this._start=a,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=Dl([e.to,r,n,e.from]),this._from=Dl([e.from,n,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,a=this._duration,n=this._prop,l=this._from,i=this._loop,o=this._to;let c;if(this._active=l!==o&&(i||r<a),!this._active){this._target[n]=o,this._notify(!0);return}if(r<0){this._target[n]=l;return}c=r/a%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(l,o,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,a)=>{e.push({res:r,rej:a})})}_notify(e){const r=e?"res":"rej",a=this._promises||[];for(let n=0;n<a.length;n++)a[n][r]()}}class fp{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!re(e))return;const r=Object.keys(De.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const l=e[n];if(!re(l))return;const i={};for(const o of r)i[o]=l[o];($e(l.properties)&&l.properties||[n]).forEach(o=>{(o===n||!a.has(o))&&a.set(o,i)})})}_animateOptions(e,r){const a=r.options,n=Ek(e,a);if(!n)return[];const l=this._createAnimations(n,a);return a.$shared&&kk(e.options.$animations,a).then(()=>{e.options=a},()=>{}),l}_createAnimations(e,r){const a=this._properties,n=[],l=e.$animations||(e.$animations={}),i=Object.keys(r),o=Date.now();let c;for(c=i.length-1;c>=0;--c){const d=i[c];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(e,r));continue}const u=r[d];let g=l[d];const m=a.get(d);if(g)if(m&&g.active()){g.update(m,u,o);continue}else g.cancel();if(!m||!m.duration){e[d]=u;continue}l[d]=g=new vk(m,e,d,u),n.push(g)}return n}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const a=this._createAnimations(e,r);if(a.length)return ur.add(this._chart,a),!0}}function kk(t,e){const r=[],a=Object.keys(e);for(let n=0;n<a.length;n++){const l=t[a[n]];l&&l.active()&&r.push(l.wait())}return Promise.all(r)}function Ek(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function E0(t,e){const r=t&&t.options||{},a=r.reverse,n=r.min===void 0?e:0,l=r.max===void 0?e:0;return{start:a?l:n,end:a?n:l}}function wk(t,e,r){if(r===!1)return!1;const a=E0(t,r),n=E0(e,r);return{top:n.end,right:a.end,bottom:n.start,left:a.start}}function Nk(t){let e,r,a,n;return re(t)?(e=t.top,r=t.right,a=t.bottom,n=t.left):e=r=a=n=t,{top:e,right:r,bottom:a,left:n,disabled:t===!1}}function hp(t,e){const r=[],a=t._getSortedDatasetMetas(e);let n,l;for(n=0,l=a.length;n<l;++n)r.push(a[n].index);return r}function w0(t,e,r,a={}){const n=t.keys,l=a.mode==="single";let i,o,c,d;if(e!==null){for(i=0,o=n.length;i<o;++i){if(c=+n[i],c===r){if(a.all)continue;break}d=t.values[c],Dt(d)&&(l||e===0||lr(e)===lr(d))&&(e+=d)}return e}}function Sk(t,e){const{iScale:r,vScale:a}=e,n=r.axis==="x"?"x":"y",l=a.axis==="x"?"x":"y",i=Object.keys(t),o=new Array(i.length);let c,d,u;for(c=0,d=i.length;c<d;++c)u=i[c],o[c]={[n]:u,[l]:t[u]};return o}function N0(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function _k(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Ck(t){const{min:e,max:r,minDefined:a,maxDefined:n}=t.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}function Pk(t,e,r){const a=t[e]||(t[e]={});return a[r]||(a[r]={})}function S0(t,e,r,a){for(const n of e.getMatchingVisibleMetas(a).reverse()){const l=t[n.index];if(r&&l>0||!r&&l<0)return n.index}return null}function _0(t,e){const{chart:r,_cachedMeta:a}=t,n=r._stacks||(r._stacks={}),{iScale:l,vScale:i,index:o}=a,c=l.axis,d=i.axis,u=_k(l,i,a),g=e.length;let m;for(let f=0;f<g;++f){const y=e[f],{[c]:x,[d]:k}=y,p=y._stacks||(y._stacks={});m=p[d]=Pk(n,u,x),m[o]=k,m._top=S0(m,i,!0,a.type),m._bottom=S0(m,i,!1,a.type);const h=m._visualValues||(m._visualValues={});h[o]=k}}function Jo(t,e){const r=t.scales;return Object.keys(r).filter(a=>r[a].axis===e).shift()}function Mk(t,e){return ja(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Dk(t,e,r){return ja(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Jn(t,e){const r=t.controller.index,a=t.vScale&&t.vScale.axis;if(a){e=e||t._parsed;for(const n of e){const l=n._stacks;if(!l||l[a]===void 0||l[a][r]===void 0)return;delete l[a][r],l[a]._visualValues!==void 0&&l[a]._visualValues[r]!==void 0&&delete l[a]._visualValues[r]}}}const Xo=t=>t==="reset"||t==="none",C0=(t,e)=>e?t:Object.assign({},t),Ok=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:hp(r,!0),values:null};class Da{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=N0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,a=this.getDataset(),n=(g,m,f,y)=>g==="x"?m:g==="r"?y:f,l=r.xAxisID=q(a.xAxisID,Jo(e,"x")),i=r.yAxisID=q(a.yAxisID,Jo(e,"y")),o=r.rAxisID=q(a.rAxisID,Jo(e,"r")),c=r.indexAxis,d=r.iAxisID=n(c,l,i,o),u=r.vAxisID=n(c,i,l,o);r.xScale=this.getScaleForId(l),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&i0(this._data,this),e._stacked&&Jn(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),a=this._data;if(re(r)){const n=this._cachedMeta;this._data=Sk(r,n)}else if(a!==r){if(a){i0(a,this);const n=this._cachedMeta;Jn(n),n._parsed=[]}r&&Object.isExtensible(r)&&m1(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,a=this.getDataset();let n=!1;this._dataCheck();const l=r._stacked;r._stacked=N0(r.vScale,r),r.stack!==a.stack&&(n=!0,Jn(r),r.stack=a.stack),this._resyncElements(e),(n||l!==r._stacked)&&_0(this,r._parsed)}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:a,_data:n}=this,{iScale:l,_stacked:i}=a,o=l.axis;let c=e===0&&r===n.length?!0:a._sorted,d=e>0&&a._parsed[e-1],u,g,m;if(this._parsing===!1)a._parsed=n,a._sorted=!0,m=n;else{$e(n[e])?m=this.parseArrayData(a,n,e,r):re(n[e])?m=this.parseObjectData(a,n,e,r):m=this.parsePrimitiveData(a,n,e,r);const f=()=>g[o]===null||d&&g[o]<d[o];for(u=0;u<r;++u)a._parsed[u+e]=g=m[u],c&&(f()&&(c=!1),d=g);a._sorted=c}i&&_0(this,m)}parsePrimitiveData(e,r,a,n){const{iScale:l,vScale:i}=e,o=l.axis,c=i.axis,d=l.getLabels(),u=l===i,g=new Array(n);let m,f,y;for(m=0,f=n;m<f;++m)y=m+a,g[m]={[o]:u||l.parse(d[y],y),[c]:i.parse(r[y],y)};return g}parseArrayData(e,r,a,n){const{xScale:l,yScale:i}=e,o=new Array(n);let c,d,u,g;for(c=0,d=n;c<d;++c)u=c+a,g=r[u],o[c]={x:l.parse(g[0],u),y:i.parse(g[1],u)};return o}parseObjectData(e,r,a,n){const{xScale:l,yScale:i}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(n);let u,g,m,f;for(u=0,g=n;u<g;++u)m=u+a,f=r[m],d[u]={x:l.parse(za(f,o),m),y:i.parse(za(f,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,a){const n=this.chart,l=this._cachedMeta,i=r[e.axis],o={keys:hp(n,!0),values:r._stacks[e.axis]._visualValues};return w0(o,i,l.index,{mode:a})}updateRangeFromParsed(e,r,a,n){const l=a[r.axis];let i=l===null?NaN:l;const o=n&&a._stacks[r.axis];n&&o&&(n.values=o,i=w0(n,l,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const a=this._cachedMeta,n=a._parsed,l=a._sorted&&e===a.iScale,i=n.length,o=this._getOtherScale(e),c=Ok(r,a,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:g}=Ck(o);let m,f;function y(){f=n[m];const x=f[o.axis];return!Dt(f[e.axis])||u>x||g<x}for(m=0;m<i&&!(!y()&&(this.updateRangeFromParsed(d,e,f,c),l));++m);if(l){for(m=i-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,a=[];let n,l,i;for(n=0,l=r.length;n<l;++n)i=r[n][e.axis],Dt(i)&&a.push(i);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,a=r.iScale,n=r.vScale,l=this.getParsed(e);return{label:a?""+a.getLabelForValue(l[a.axis]):"",value:n?""+n.getLabelForValue(l[n.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Nk(q(this.options.clip,wk(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,a=this._cachedMeta,n=a.data||[],l=r.chartArea,i=[],o=this._drawStart||0,c=this._drawCount||n.length-o,d=this.options.drawActiveElementsOnTop;let u;for(a.dataset&&a.dataset.draw(e,l,o,c),u=o;u<o+c;++u){const g=n[u];g.hidden||(g.active&&d?i.push(g):g.draw(e,l))}for(u=0;u<i.length;++u)i[u].draw(e,l)}getStyle(e,r){const a=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,r,a){const n=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];l=i.$context||(i.$context=Dk(this.getContext(),e,i)),l.parsed=this.getParsed(e),l.raw=n.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=Mk(this.chart.getContext(),this.index)),l.dataset=n,l.index=l.datasetIndex=this.index;return l.active=!!r,l.mode=a,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",a){const n=r==="active",l=this._cachedDataOpts,i=e+"-"+r,o=l[i],c=this.enableOptionSharing&&Ys(a);if(o)return C0(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),g=n?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),f=Object.keys(De.elements[e]),y=()=>this.getContext(a,n,r),x=d.resolveNamedOptions(m,f,y,g);return x.$shared&&(x.$shared=c,l[i]=Object.freeze(C0(x,c))),x}_resolveAnimations(e,r,a){const n=this.chart,l=this._cachedDataOpts,i=`animation-${r}`,o=l[i];if(o)return o;let c;if(n.options.animation!==!1){const u=this.chart.config,g=u.datasetAnimationScopeKeys(this._type,r),m=u.getOptionScopes(this.getDataset(),g);c=u.createResolver(m,this.getContext(e,a,r))}const d=new fp(n,c&&c.animations);return c&&c._cacheable&&(l[i]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Xo(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const a=this.resolveDataElementOptions(e,r),n=this._sharedOptions,l=this.getSharedOptions(a),i=this.includeOptions(r,l)||l!==n;return this.updateSharedOptions(l,r,a),{sharedOptions:l,includeOptions:i}}updateElement(e,r,a,n){Xo(n)?Object.assign(e,a):this._resolveAnimations(r,n).update(e,a)}updateSharedOptions(e,r,a){e&&!Xo(r)&&this._resolveAnimations(void 0,r).update(e,a)}_setStyle(e,r,a,n){e.active=n;const l=this.getStyle(r,n);this._resolveAnimations(r,a,n).update(e,{options:!n&&this.getSharedOptions(l)||l})}removeHoverStyle(e,r,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,r,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,a=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const n=a.length,l=r.length,i=Math.min(l,n);i&&this.parse(0,i),l>n?this._insertElements(n,l-n,e):l<n&&this._removeElements(l,n-l)}_insertElements(e,r,a=!0){const n=this._cachedMeta,l=n.data,i=e+r;let o;const c=d=>{for(d.length+=r,o=d.length-1;o>=i;o--)d[o]=d[o-r]};for(c(l),o=e;o<i;++o)l[o]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(e,r),a&&this.updateElements(l,e,r,"reset")}updateElements(e,r,a,n){}_removeElements(e,r){const a=this._cachedMeta;if(this._parsing){const n=a._parsed.splice(e,r);a._stacked&&Jn(a,n)}a.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,a,n]=e;this[r](a,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}j(Da,"defaults",{}),j(Da,"datasetElementType",null),j(Da,"dataElementType",null);function Tk(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let a=[];for(let n=0,l=r.length;n<l;n++)a=a.concat(r[n].controller.getAllParsedValues(t));t._cache.$bar=Zh(a.sort((n,l)=>n-l))}return t._cache.$bar}function Rk(t){const e=t.iScale,r=Tk(e,t.type);let a=e._length,n,l,i,o;const c=()=>{i===32767||i===-32768||(Ys(o)&&(a=Math.min(a,Math.abs(i-o)||a)),o=i)};for(n=0,l=r.length;n<l;++n)i=e.getPixelForValue(r[n]),c();for(o=void 0,n=0,l=e.ticks.length;n<l;++n)i=e.getPixelForTick(n),c();return a}function Lk(t,e,r,a){const n=r.barThickness;let l,i;return de(n)?(l=e.min*r.categoryPercentage,i=r.barPercentage):(l=n*a,i=1),{chunk:l/a,ratio:i,start:e.pixels[t]-l/2}}function Ak(t,e,r,a){const n=e.pixels,l=n[t];let i=t>0?n[t-1]:null,o=t<n.length-1?n[t+1]:null;const c=r.categoryPercentage;i===null&&(i=l-(o===null?e.end-e.start:o-l)),o===null&&(o=l+l-i);const d=l-(l-Math.min(i,o))/2*c;return{chunk:Math.abs(o-i)/2*c/a,ratio:r.barPercentage,start:d}}function zk(t,e,r,a){const n=r.parse(t[0],a),l=r.parse(t[1],a),i=Math.min(n,l),o=Math.max(n,l);let c=i,d=o;Math.abs(i)>Math.abs(o)&&(c=o,d=i),e[r.axis]=d,e._custom={barStart:c,barEnd:d,start:n,end:l,min:i,max:o}}function pp(t,e,r,a){return $e(t)?zk(t,e,r,a):e[r.axis]=r.parse(t,a),e}function P0(t,e,r,a){const n=t.iScale,l=t.vScale,i=n.getLabels(),o=n===l,c=[];let d,u,g,m;for(d=r,u=r+a;d<u;++d)m=e[d],g={},g[n.axis]=o||n.parse(i[d],d),c.push(pp(m,g,l,d));return c}function qo(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Fk(t,e,r){return t!==0?lr(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Ik(t){let e,r,a,n,l;return t.horizontal?(e=t.base>t.x,r="left",a="right"):(e=t.base<t.y,r="bottom",a="top"),e?(n="end",l="start"):(n="start",l="end"),{start:r,end:a,reverse:e,top:n,bottom:l}}function Bk(t,e,r,a){let n=e.borderSkipped;const l={};if(!n){t.borderSkipped=l;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:o,reverse:c,top:d,bottom:u}=Ik(t);n==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===a?n=d:(r._bottom||0)===a?n=u:(l[M0(u,i,o,c)]=!0,n=d)),l[M0(n,i,o,c)]=!0,t.borderSkipped=l}function M0(t,e,r,a){return a?(t=jk(t,e,r),t=D0(t,r,e)):t=D0(t,e,r),t}function jk(t,e,r){return t===e?r:t===r?e:t}function D0(t,e,r){return t==="start"?e:t==="end"?r:t}function $k(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Zl extends Da{parsePrimitiveData(e,r,a,n){return P0(e,r,a,n)}parseArrayData(e,r,a,n){return P0(e,r,a,n)}parseObjectData(e,r,a,n){const{iScale:l,vScale:i}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=l.axis==="x"?o:c,u=i.axis==="x"?o:c,g=[];let m,f,y,x;for(m=a,f=a+n;m<f;++m)x=r[m],y={},y[l.axis]=l.parse(za(x,d),m),g.push(pp(za(x,u),y,i,m));return g}updateRangeFromParsed(e,r,a,n){super.updateRangeFromParsed(e,r,a,n);const l=a._custom;l&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:a,vScale:n}=r,l=this.getParsed(e),i=l._custom,o=qo(i)?"["+i.start+", "+i.end+"]":""+n.getLabelForValue(l[n.axis]);return{label:""+a.getLabelForValue(l[a.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,a,n){const l=n==="reset",{index:i,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:g,includeOptions:m}=this._getSharedOptions(r,n);for(let f=r;f<r+a;f++){const y=this.getParsed(f),x=l||de(y[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),k=this._calculateBarIndexPixels(f,u),p=(y._stacks||{})[o.axis],h={horizontal:d,base:x.base,enableBorderRadius:!p||qo(y._custom)||i===p._top||i===p._bottom,x:d?x.head:k.center,y:d?k.center:x.head,height:d?k.size:Math.abs(x.size),width:d?Math.abs(x.size):k.size};m&&(h.options=g||this.resolveDataElementOptions(f,e[f].active?"active":n));const v=h.options||e[f].options;Bk(h,v,p,i),$k(h,v,u.ratio),this.updateElement(e[f],f,h,n)}}_getStacks(e,r){const{iScale:a}=this._cachedMeta,n=a.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),l=a.options.stacked,i=[],o=c=>{const d=c.controller.getParsed(r),u=d&&d[c.vScale.axis];if(de(u)||isNaN(u))return!0};for(const c of n)if(!(r!==void 0&&o(c))&&((l===!1||i.indexOf(c.stack)===-1||l===void 0&&c.stack===void 0)&&i.push(c.stack),c.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,a){const n=this._getStacks(e,a),l=r!==void 0?n.indexOf(r):-1;return l===-1?n.length-1:l}_getRuler(){const e=this.options,r=this._cachedMeta,a=r.iScale,n=[];let l,i;for(l=0,i=r.data.length;l<i;++l)n.push(a.getPixelForValue(this.getParsed(l)[a.axis],l));const o=e.barThickness;return{min:o||Rk(r),pixels:n,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:a,index:n},options:{base:l,minBarLength:i}}=this,o=l||0,c=this.getParsed(e),d=c._custom,u=qo(d);let g=c[r.axis],m=0,f=a?this.applyStack(r,c,a):g,y,x;f!==g&&(m=f-g,f=g),u&&(g=d.barStart,f=d.barEnd-d.barStart,g!==0&&lr(g)!==lr(d.barEnd)&&(m=0),m+=g);const k=!de(l)&&!u?l:m;let p=r.getPixelForValue(k);if(this.chart.getDataVisibility(e)?y=r.getPixelForValue(m+f):y=p,x=y-p,Math.abs(x)<i){x=Fk(x,r,o)*i,g===o&&(p-=x/2);const h=r.getPixelForDecimal(0),v=r.getPixelForDecimal(1),E=Math.min(h,v),w=Math.max(h,v);p=Math.max(Math.min(p,w),E),y=p+x,a&&!u&&(c._stacks[r.axis]._visualValues[n]=r.getValueForPixel(y)-r.getValueForPixel(p))}if(p===r.getPixelForValue(o)){const h=lr(x)*r.getLineWidthForValue(o)/2;p+=h,x-=h}return{size:x,base:p,head:y,center:y+x/2}}_calculateBarIndexPixels(e,r){const a=r.scale,n=this.options,l=n.skipNull,i=q(n.maxBarThickness,1/0);let o,c;if(r.grouped){const d=l?this._getStackCount(e):r.stackCount,u=n.barThickness==="flex"?Ak(e,r,n,d):Lk(e,r,n,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0);o=u.start+u.chunk*g+u.chunk/2,c=Math.min(i,u.chunk*u.ratio)}else o=a.getPixelForValue(this.getParsed(e)[a.axis],e),c=Math.min(i,r.min*r.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,a=e.data,n=a.length;let l=0;for(;l<n;++l)this.getParsed(l)[r.axis]!==null&&!a[l].hidden&&a[l].draw(this._ctx)}}j(Zl,"id","bar"),j(Zl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),j(Zl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Vk(t,e,r){let a=1,n=1,l=0,i=0;if(e<Ce){const o=t,c=o+e,d=Math.cos(o),u=Math.sin(o),g=Math.cos(c),m=Math.sin(c),f=(v,E,w)=>Gs(v,o,c,!0)?1:Math.max(E,E*r,w,w*r),y=(v,E,w)=>Gs(v,o,c,!0)?-1:Math.min(E,E*r,w,w*r),x=f(0,d,g),k=f(Ie,u,m),p=y(Re,d,g),h=y(Re+Ie,u,m);a=(x-p)/2,n=(k-h)/2,l=-(x+p)/2,i=-(k+h)/2}return{ratioX:a,ratioY:n,offsetX:l,offsetY:i}}class ls extends Da{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const a=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=a;else{let l=c=>+a[c];if(re(a[e])){const{key:c="value"}=this._parsing;l=d=>+za(a[d],c)}let i,o;for(i=e,o=e+r;i<o;++i)n._parsed[i]=l(i)}}_getRotation(){return xr(this.options.rotation-90)}_getCircumference(){return xr(this.options.circumference)}_getRotationExtents(){let e=Ce,r=-Ce;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const n=this.chart.getDatasetMeta(a).controller,l=n._getRotation(),i=n._getCircumference();e=Math.min(e,l),r=Math.max(r,l+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:a}=r,n=this._cachedMeta,l=n.data,i=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,o=Math.max((Math.min(a.width,a.height)-i)/2,0),c=Math.min(Jv(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:g}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:y,offsetY:x}=Vk(g,u,c),k=(a.width-i)/m,p=(a.height-i)/f,h=Math.max(Math.min(k,p)/2,0),v=Gh(this.options.radius,h),E=Math.max(v*c,0),w=(v-E)/this._getVisibleDatasetWeightTotal();this.offsetX=y*v,this.offsetY=x*v,n.total=this.calculateTotal(),this.outerRadius=v-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(l,0,l.length,e)}_circumference(e,r){const a=this.options,n=this._cachedMeta,l=this._getCircumference();return r&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*l/Ce)}updateElements(e,r,a,n){const l=n==="reset",i=this.chart,o=i.chartArea,d=i.options.animation,u=(o.left+o.right)/2,g=(o.top+o.bottom)/2,m=l&&d.animateScale,f=m?0:this.innerRadius,y=m?0:this.outerRadius,{sharedOptions:x,includeOptions:k}=this._getSharedOptions(r,n);let p=this._getRotation(),h;for(h=0;h<r;++h)p+=this._circumference(h,l);for(h=r;h<r+a;++h){const v=this._circumference(h,l),E=e[h],w={x:u+this.offsetX,y:g+this.offsetY,startAngle:p,endAngle:p+v,circumference:v,outerRadius:y,innerRadius:f};k&&(w.options=x||this.resolveDataElementOptions(h,E.active?"active":n)),p+=v,this.updateElement(E,h,w,n)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let a=0,n;for(n=0;n<r.length;n++){const l=e._parsed[n];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(n)&&!r[n].hidden&&(a+=Math.abs(l))}return a}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Ce*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,a=this.chart,n=a.data.labels||[],l=mu(r._parsed[e],a.options.locale);return{label:n[e]||"",value:l}}getMaxBorderWidth(e){let r=0;const a=this.chart;let n,l,i,o,c;if(!e){for(n=0,l=a.data.datasets.length;n<l;++n)if(a.isDatasetVisible(n)){i=a.getDatasetMeta(n),e=i.data,o=i.controller;break}}if(!e)return 0;for(n=0,l=e.length;n<l;++n)c=o.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let a=0,n=e.length;a<n;++a){const l=this.resolveDataElementOptions(a);r=Math.max(r,l.offset||0,l.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(r+=this._getRingWeight(a));return r}_getRingWeight(e){return Math.max(q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}j(ls,"id","doughnut"),j(ls,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),j(ls,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),j(ls,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:a,color:n}}=e.legend.options;return r.labels.map((l,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:l,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,a){a.chart.toggleDataVisibility(r.index),a.chart.update()}}}});class ei extends Da{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:a,data:n=[],_dataset:l}=r,i=this.chart._animationsDisabled;let{start:o,count:c}=h1(r,n,i);this._drawStart=o,this._drawCount=c,p1(r)&&(o=0,c=n.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:d},e),this.updateElements(n,o,c,e)}updateElements(e,r,a,n){const l=n==="reset",{iScale:i,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:g}=this._getSharedOptions(r,n),m=i.axis,f=o.axis,{spanGaps:y,segment:x}=this.options,k=Ks(y)?y:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||l||n==="none",h=r+a,v=e.length;let E=r>0&&this.getParsed(r-1);for(let w=0;w<v;++w){const S=e[w],_=p?S:{};if(w<r||w>=h){_.skip=!0;continue}const C=this.getParsed(w),A=de(C[f]),M=_[m]=i.getPixelForValue(C[m],w),B=_[f]=l||A?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,C,c):C[f],w);_.skip=isNaN(M)||isNaN(B)||A,_.stop=w>0&&Math.abs(C[m]-E[m])>k,x&&(_.parsed=C,_.raw=d.data[w]),g&&(_.options=u||this.resolveDataElementOptions(w,S.active?"active":n)),p||this.updateElement(S,w,_,n),E=C}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,a=r.options&&r.options.borderWidth||0,n=e.data||[];if(!n.length)return a;const l=n[0].size(this.resolveDataElementOptions(0)),i=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,l,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}j(ei,"id","line"),j(ei,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),j(ei,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function xa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ku{constructor(e){j(this,"options");this.options=e||{}}static override(e){Object.assign(ku.prototype,e)}init(){}formats(){return xa()}parse(){return xa()}format(){return xa()}add(){return xa()}diff(){return xa()}startOf(){return xa()}endOf(){return xa()}}var Wk={_date:ku};function Hk(t,e,r,a){const{controller:n,data:l,_sorted:i}=t,o=n._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&i&&l.length){const c=o._reversePixels?d1:_a;if(a){if(n._sharedOptions){const d=l[0],u=typeof d.getRange=="function"&&d.getRange(e);if(u){const g=c(l,e,r-u),m=c(l,e,r+u);return{lo:g.lo,hi:m.hi}}}}else return c(l,e,r)}return{lo:0,hi:l.length-1}}function io(t,e,r,a,n){const l=t.getSortedVisibleDatasetMetas(),i=r[e];for(let o=0,c=l.length;o<c;++o){const{index:d,data:u}=l[o],{lo:g,hi:m}=Hk(l[o],e,i,n);for(let f=g;f<=m;++f){const y=u[f];y.skip||a(y,d,f)}}}function Uk(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(a,n){const l=e?Math.abs(a.x-n.x):0,i=r?Math.abs(a.y-n.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(i,2))}}function Zo(t,e,r,a,n){const l=[];return!n&&!t.isPointInArea(e)||io(t,r,e,function(o,c,d){!n&&!Qs(o,t.chartArea,0)||o.inRange(e.x,e.y,a)&&l.push({element:o,datasetIndex:c,index:d})},!0),l}function Yk(t,e,r,a){let n=[];function l(i,o,c){const{startAngle:d,endAngle:u}=i.getProps(["startAngle","endAngle"],a),{angle:g}=Xh(i,{x:e.x,y:e.y});Gs(g,d,u)&&n.push({element:i,datasetIndex:o,index:c})}return io(t,r,e,l),n}function Kk(t,e,r,a,n,l){let i=[];const o=Uk(r);let c=Number.POSITIVE_INFINITY;function d(u,g,m){const f=u.inRange(e.x,e.y,n);if(a&&!f)return;const y=u.getCenterPoint(n);if(!(!!l||t.isPointInArea(y))&&!f)return;const k=o(e,y);k<c?(i=[{element:u,datasetIndex:g,index:m}],c=k):k===c&&i.push({element:u,datasetIndex:g,index:m})}return io(t,r,e,d),i}function ec(t,e,r,a,n,l){return!l&&!t.isPointInArea(e)?[]:r==="r"&&!a?Yk(t,e,r,n):Kk(t,e,r,a,n,l)}function O0(t,e,r,a,n){const l=[],i=r==="x"?"inXRange":"inYRange";let o=!1;return io(t,r,e,(c,d,u)=>{c[i](e[r],n)&&(l.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(e.x,e.y,n))}),a&&!o?[]:l}var Gk={modes:{index(t,e,r,a){const n=ka(e,t),l=r.axis||"x",i=r.includeInvisible||!1,o=r.intersect?Zo(t,n,l,a,i):ec(t,n,l,!1,a,i),c=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,g=d.data[u];g&&!g.skip&&c.push({element:g,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,r,a){const n=ka(e,t),l=r.axis||"xy",i=r.includeInvisible||!1;let o=r.intersect?Zo(t,n,l,a,i):ec(t,n,l,!1,a,i);if(o.length>0){const c=o[0].datasetIndex,d=t.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(t,e,r,a){const n=ka(e,t),l=r.axis||"xy",i=r.includeInvisible||!1;return Zo(t,n,l,a,i)},nearest(t,e,r,a){const n=ka(e,t),l=r.axis||"xy",i=r.includeInvisible||!1;return ec(t,n,l,r.intersect,a,i)},x(t,e,r,a){const n=ka(e,t);return O0(t,n,"x",r.intersect,a)},y(t,e,r,a){const n=ka(e,t);return O0(t,n,"y",r.intersect,a)}}};const yp=["left","top","right","bottom"];function Xn(t,e){return t.filter(r=>r.pos===e)}function T0(t,e){return t.filter(r=>yp.indexOf(r.pos)===-1&&r.box.axis===e)}function qn(t,e){return t.sort((r,a)=>{const n=e?a:r,l=e?r:a;return n.weight===l.weight?n.index-l.index:n.weight-l.weight})}function Qk(t){const e=[];let r,a,n,l,i,o;for(r=0,a=(t||[]).length;r<a;++r)n=t[r],{position:l,options:{stack:i,stackWeight:o=1}}=n,e.push({index:r,box:n,pos:l,horizontal:n.isHorizontal(),weight:n.weight,stack:i&&l+i,stackWeight:o});return e}function Jk(t){const e={};for(const r of t){const{stack:a,pos:n,stackWeight:l}=r;if(!a||!yp.includes(n))continue;const i=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=l}return e}function Xk(t,e){const r=Jk(t),{vBoxMaxWidth:a,hBoxMaxHeight:n}=e;let l,i,o;for(l=0,i=t.length;l<i;++l){o=t[l];const{fullSize:c}=o.box,d=r[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*a:c&&e.availableWidth,o.height=n):(o.width=a,o.height=u?u*n:c&&e.availableHeight)}return r}function qk(t){const e=Qk(t),r=qn(e.filter(d=>d.box.fullSize),!0),a=qn(Xn(e,"left"),!0),n=qn(Xn(e,"right")),l=qn(Xn(e,"top"),!0),i=qn(Xn(e,"bottom")),o=T0(e,"x"),c=T0(e,"y");return{fullSize:r,leftAndTop:a.concat(l),rightAndBottom:n.concat(c).concat(i).concat(o),chartArea:Xn(e,"chartArea"),vertical:a.concat(n).concat(c),horizontal:l.concat(i).concat(o)}}function R0(t,e,r,a){return Math.max(t[r],e[r])+Math.max(t[a],e[a])}function xp(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Zk(t,e,r,a){const{pos:n,box:l}=r,i=t.maxPadding;if(!re(n)){r.size&&(t[n]-=r.size);const g=a[r.stack]||{size:0,count:1};g.size=Math.max(g.size,r.horizontal?l.height:l.width),r.size=g.size/g.count,t[n]+=r.size}l.getPadding&&xp(i,l.getPadding());const o=Math.max(0,e.outerWidth-R0(i,t,"left","right")),c=Math.max(0,e.outerHeight-R0(i,t,"top","bottom")),d=o!==t.w,u=c!==t.h;return t.w=o,t.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function eE(t){const e=t.maxPadding;function r(a){const n=Math.max(e[a]-t[a],0);return t[a]+=n,n}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function tE(t,e){const r=e.maxPadding;function a(n){const l={left:0,top:0,right:0,bottom:0};return n.forEach(i=>{l[i]=Math.max(e[i],r[i])}),l}return a(t?["left","right"]:["top","bottom"])}function is(t,e,r,a){const n=[];let l,i,o,c,d,u;for(l=0,i=t.length,d=0;l<i;++l){o=t[l],c=o.box,c.update(o.width||e.w,o.height||e.h,tE(o.horizontal,e));const{same:g,other:m}=Zk(e,r,o,a);d|=g&&n.length,u=u||m,c.fullSize||n.push(o)}return d&&is(n,e,r,a)||u}function Rl(t,e,r,a,n){t.top=r,t.left=e,t.right=e+a,t.bottom=r+n,t.width=a,t.height=n}function L0(t,e,r,a){const n=r.padding;let{x:l,y:i}=e;for(const o of t){const c=o.box,d=a[o.stack]||{placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const g=e.w*u,m=d.size||c.height;Ys(d.start)&&(i=d.start),c.fullSize?Rl(c,n.left,i,r.outerWidth-n.right-n.left,m):Rl(c,e.left+d.placed,i,g,m),d.start=i,d.placed+=g,i=c.bottom}else{const g=e.h*u,m=d.size||c.width;Ys(d.start)&&(l=d.start),c.fullSize?Rl(c,l,n.top,m,r.outerHeight-n.bottom-n.top):Rl(c,l,e.top+d.placed,m,g),d.start=l,d.placed+=g,l=c.right}}e.x=l,e.y=i}var Gr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,a){if(!t)return;const n=Yt(t.options.layout.padding),l=Math.max(e-n.width,0),i=Math.max(r-n.height,0),o=qk(t.boxes),c=o.vertical,d=o.horizontal;se(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,k)=>k.box.options&&k.box.options.display===!1?x:x+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:r,padding:n,availableWidth:l,availableHeight:i,vBoxMaxWidth:l/2/u,hBoxMaxHeight:i/2}),m=Object.assign({},n);xp(m,Yt(a));const f=Object.assign({maxPadding:m,w:l,h:i,x:n.left,y:n.top},n),y=Xk(c.concat(d),g);is(o.fullSize,f,g,y),is(c,f,g,y),is(d,f,g,y)&&is(c,f,g,y),eE(f),L0(o.leftAndTop,f,g,y),f.x+=f.w,f.y+=f.h,L0(o.rightAndBottom,f,g,y),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},se(o.chartArea,x=>{const k=x.box;Object.assign(k,t.chartArea),k.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class bp{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,a){}removeEventListener(e,r,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,a,n){return r=Math.max(0,r||e.width),a=a||e.height,{width:r,height:Math.max(0,n?Math.floor(r/n):a)}}isAttached(e){return!0}updateConfig(e){}}class rE extends bp{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ti="$chartjs",aE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},A0=t=>t===null||t==="";function nE(t,e){const r=t.style,a=t.getAttribute("height"),n=t.getAttribute("width");if(t[ti]={initial:{height:a,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",A0(n)){const l=y0(t,"width");l!==void 0&&(t.width=l)}if(A0(a))if(t.style.height==="")t.height=t.width/(e||2);else{const l=y0(t,"height");l!==void 0&&(t.height=l)}return t}const vp=sk?{passive:!0}:!1;function sE(t,e,r){t&&t.addEventListener(e,r,vp)}function lE(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,vp)}function iE(t,e){const r=aE[t.type]||t.type,{x:a,y:n}=ka(t,e);return{type:r,chart:e,native:t,x:a!==void 0?a:null,y:n!==void 0?n:null}}function zi(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function oE(t,e,r){const a=t.canvas,n=new MutationObserver(l=>{let i=!1;for(const o of l)i=i||zi(o.addedNodes,a),i=i&&!zi(o.removedNodes,a);i&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function cE(t,e,r){const a=t.canvas,n=new MutationObserver(l=>{let i=!1;for(const o of l)i=i||zi(o.removedNodes,a),i=i&&!zi(o.addedNodes,a);i&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}const Js=new Map;let z0=0;function kp(){const t=window.devicePixelRatio;t!==z0&&(z0=t,Js.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function dE(t,e){Js.size||window.addEventListener("resize",kp),Js.set(t,e)}function uE(t){Js.delete(t),Js.size||window.removeEventListener("resize",kp)}function mE(t,e,r){const a=t.canvas,n=a&&vu(a);if(!n)return;const l=tp((o,c)=>{const d=n.clientWidth;r(o,c),d<n.clientWidth&&r()},window),i=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||l(d,u)});return i.observe(n),dE(t,l),i}function tc(t,e,r){r&&r.disconnect(),e==="resize"&&uE(t)}function gE(t,e,r){const a=t.canvas,n=tp(l=>{t.ctx!==null&&r(iE(l,t))},t);return sE(a,e,n),n}class fE extends bp{acquireContext(e,r){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(nE(e,r),a):null}releaseContext(e){const r=e.canvas;if(!r[ti])return!1;const a=r[ti].initial;["height","width"].forEach(l=>{const i=a[l];de(i)?r.removeAttribute(l):r.setAttribute(l,i)});const n=a.style||{};return Object.keys(n).forEach(l=>{r.style[l]=n[l]}),r.width=r.width,delete r[ti],!0}addEventListener(e,r,a){this.removeEventListener(e,r);const n=e.$proxies||(e.$proxies={}),i={attach:oE,detach:cE,resize:mE}[r]||gE;n[r]=i(e,r,a)}removeEventListener(e,r){const a=e.$proxies||(e.$proxies={}),n=a[r];if(!n)return;({attach:tc,detach:tc,resize:tc}[r]||lE)(e,r,n),a[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,a,n){return nk(e,r,a,n)}isAttached(e){const r=e&&vu(e);return!!(r&&r.isConnected)}}function hE(t){return!bu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?rE:fE}class ir{constructor(){j(this,"x");j(this,"y");j(this,"active",!1);j(this,"options");j(this,"$animations")}tooltipPosition(e){const{x:r,y:a}=this.getProps(["x","y"],e);return{x:r,y:a}}hasValue(){return Ks(this.x)&&Ks(this.y)}getProps(e,r){const a=this.$animations;if(!r||!a)return this;const n={};return e.forEach(l=>{n[l]=a[l]&&a[l].active()?a[l]._to:this[l]}),n}}j(ir,"defaults",{}),j(ir,"defaultRoutes");function pE(t,e){const r=t.options.ticks,a=yE(t),n=Math.min(r.maxTicksLimit||a,a),l=r.major.enabled?bE(e):[],i=l.length,o=l[0],c=l[i-1],d=[];if(i>n)return vE(e,d,l,i/n),d;const u=xE(l,e,n);if(i>0){let g,m;const f=i>1?Math.round((c-o)/(i-1)):null;for(Ll(e,d,u,de(f)?0:o-f,o),g=0,m=i-1;g<m;g++)Ll(e,d,u,l[g],l[g+1]);return Ll(e,d,u,c,de(f)?e.length:c+f),d}return Ll(e,d,u),d}function yE(t){const e=t.options.offset,r=t._tickSize(),a=t._length/r+(e?0:1),n=t._maxLength/r;return Math.floor(Math.min(a,n))}function xE(t,e,r){const a=kE(t),n=e.length/r;if(!a)return Math.max(n,1);const l=n1(a);for(let i=0,o=l.length-1;i<o;i++){const c=l[i];if(c>n)return c}return Math.max(n,1)}function bE(t){const e=[];let r,a;for(r=0,a=t.length;r<a;r++)t[r].major&&e.push(r);return e}function vE(t,e,r,a){let n=0,l=r[0],i;for(a=Math.ceil(a),i=0;i<t.length;i++)i===l&&(e.push(t[i]),n++,l=r[n*a])}function Ll(t,e,r,a,n){const l=q(a,0),i=Math.min(q(n,t.length),t.length);let o=0,c,d,u;for(r=Math.ceil(r),n&&(c=n-a,r=c/Math.floor(c/r)),u=l;u<0;)o++,u=Math.round(l+o*r);for(d=Math.max(l,0);d<i;d++)d===u&&(e.push(t[d]),o++,u=Math.round(l+o*r))}function kE(t){const e=t.length;let r,a;if(e<2)return!1;for(a=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==a)return!1;return a}const EE=t=>t==="left"?"right":t==="right"?"left":t,F0=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,I0=(t,e)=>Math.min(e||t,t);function B0(t,e){const r=[],a=t.length/e,n=t.length;let l=0;for(;l<n;l+=a)r.push(t[Math.floor(l)]);return r}function wE(t,e,r){const a=t.ticks.length,n=Math.min(e,a-1),l=t._startPixel,i=t._endPixel,o=1e-6;let c=t.getPixelForTick(n),d;if(!(r&&(a===1?d=Math.max(c-l,i-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(n-1))/2,c+=n<e?d:-d,c<l-o||c>i+o)))return c}function NE(t,e){se(t,r=>{const a=r.gc,n=a.length/2;let l;if(n>e){for(l=0;l<n;++l)delete r.data[a[l]];a.splice(0,n)}})}function Zn(t){return t.drawTicks?t.tickLength:0}function j0(t,e){if(!t.display)return 0;const r=lt(t.font,e),a=Yt(t.padding);return($e(t.text)?t.text.length:1)*r.lineHeight+a.height}function SE(t,e){return ja(t,{scale:e,type:"scale"})}function _E(t,e,r){return ja(t,{tick:r,index:e,type:"tick"})}function CE(t,e,r){let a=rp(t);return(r&&e!=="right"||!r&&e==="right")&&(a=EE(a)),a}function PE(t,e,r,a){const{top:n,left:l,bottom:i,right:o,chart:c}=t,{chartArea:d,scales:u}=c;let g=0,m,f,y;const x=i-n,k=o-l;if(t.isHorizontal()){if(f=ft(a,l,o),re(r)){const p=Object.keys(r)[0],h=r[p];y=u[p].getPixelForValue(h)+x-e}else r==="center"?y=(d.bottom+d.top)/2+x-e:y=F0(t,r,e);m=o-l}else{if(re(r)){const p=Object.keys(r)[0],h=r[p];f=u[p].getPixelForValue(h)-k+e}else r==="center"?f=(d.left+d.right)/2-k+e:f=F0(t,r,e);y=ft(a,i,n),g=r==="left"?-Ie:Ie}return{titleX:f,titleY:y,maxWidth:m,rotation:g}}class An extends ir{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:a,_suggestedMax:n}=this;return e=qt(e,Number.POSITIVE_INFINITY),r=qt(r,Number.NEGATIVE_INFINITY),a=qt(a,Number.POSITIVE_INFINITY),n=qt(n,Number.NEGATIVE_INFINITY),{min:qt(e,a),max:qt(r,n),minDefined:Dt(e),maxDefined:Dt(r)}}getMinMax(e){let{min:r,max:a,minDefined:n,maxDefined:l}=this.getUserBounds(),i;if(n&&l)return{min:r,max:a};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)i=o[c].controller.getMinMax(this,e),n||(r=Math.min(r,i.min)),l||(a=Math.max(a,i.max));return r=l&&r>a?a:r,a=n&&r>a?r:a,{min:qt(r,qt(a,r)),max:qt(a,qt(r,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fe(this.options.beforeUpdate,[this])}update(e,r,a){const{beginAtZero:n,grace:l,ticks:i}=this.options,o=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=z1(this,l,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?B0(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=pE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,a;this.isHorizontal()?(r=this.left,a=this.right):(r=this.top,a=this.bottom,e=!e),this._startPixel=r,this._endPixel=a,this._reversePixels=e,this._length=a-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fe(this.options.afterUpdate,[this])}beforeSetDimensions(){fe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),fe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let a,n,l;for(a=0,n=e.length;a<n;a++)l=e[a],l.label=fe(r.callback,[l.value,a,e],this)}afterTickToLabelConversion(){fe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,a=I0(this.ticks.length,e.ticks.maxTicksLimit),n=r.minRotation||0,l=r.maxRotation;let i=n,o,c,d;if(!this._isVisible()||!r.display||n>=l||a<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),g=u.widest.width,m=u.highest.height,f=Je(this.chart.width-g,0,this.maxWidth);o=e.offset?this.maxWidth/a:f/(a-1),g+6>o&&(o=f/(a-(e.offset?.5:1)),c=this.maxHeight-Zn(e.grid)-r.padding-j0(e.title,this.chart.options.font),d=Math.sqrt(g*g+m*m),i=i1(Math.min(Math.asin(Je((u.highest.height+6)/o,-1,1)),Math.asin(Je(c/d,-1,1))-Math.asin(Je(m/d,-1,1)))),i=Math.max(n,Math.min(l,i))),this.labelRotation=i}afterCalculateLabelRotation(){fe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:a,title:n,grid:l}}=this,i=this._isVisible(),o=this.isHorizontal();if(i){const c=j0(n,r.options.font);if(o?(e.width=this.maxWidth,e.height=Zn(l)+c):(e.height=this.maxHeight,e.width=Zn(l)+c),a.display&&this.ticks.length){const{first:d,last:u,widest:g,highest:m}=this._getLabelSizes(),f=a.padding*2,y=xr(this.labelRotation),x=Math.cos(y),k=Math.sin(y);if(o){const p=a.mirror?0:k*g.width+x*m.height;e.height=Math.min(this.maxHeight,e.height+p+f)}else{const p=a.mirror?0:x*g.width+k*m.height;e.width=Math.min(this.maxWidth,e.width+p+f)}this._calculatePadding(d,u,k,x)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,a,n){const{ticks:{align:l,padding:i},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,f=0;c?d?(m=n*e.width,f=a*r.height):(m=a*e.height,f=n*r.width):l==="start"?f=r.width:l==="end"?m=e.width:l!=="inner"&&(m=e.width/2,f=r.width/2),this.paddingLeft=Math.max((m-u+i)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-g+i)*this.width/(this.width-g),0)}else{let u=r.height/2,g=e.height/2;l==="start"?(u=0,g=e.height):l==="end"&&(u=r.height,g=0),this.paddingTop=u+i,this.paddingBottom=g+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,a;for(r=0,a=e.length;r<a;r++)de(e[r].label)&&(e.splice(r,1),a--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let a=this.ticks;r<a.length&&(a=B0(a,r)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,a){const{ctx:n,_longestTextCache:l}=this,i=[],o=[],c=Math.floor(r/I0(r,a));let d=0,u=0,g,m,f,y,x,k,p,h,v,E,w;for(g=0;g<r;g+=c){if(y=e[g].label,x=this._resolveTickFontOptions(g),n.font=k=x.string,p=l[k]=l[k]||{data:{},gc:[]},h=x.lineHeight,v=E=0,!de(y)&&!$e(y))v=m0(n,p.data,p.gc,v,y),E=h;else if($e(y))for(m=0,f=y.length;m<f;++m)w=y[m],!de(w)&&!$e(w)&&(v=m0(n,p.data,p.gc,v,w),E+=h);i.push(v),o.push(E),d=Math.max(v,d),u=Math.max(E,u)}NE(l,r);const S=i.indexOf(d),_=o.indexOf(u),C=A=>({width:i[A]||0,height:o[A]||0});return{first:C(0),last:C(r-1),widest:C(S),highest:C(_),widths:i,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return c1(this._alignToPixels?ya(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const a=r[e];return a.$context||(a.$context=_E(this.getContext(),e,a))}return this.$context||(this.$context=SE(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=xr(this.labelRotation),a=Math.abs(Math.cos(r)),n=Math.abs(Math.sin(r)),l=this._getLabelSizes(),i=e.autoSkipPadding||0,o=l?l.widest.width+i:0,c=l?l.highest.height+i:0;return this.isHorizontal()?c*a>o*n?o/a:c/n:c*n<o*a?c/a:o/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,a=this.chart,n=this.options,{grid:l,position:i,border:o}=n,c=l.offset,d=this.isHorizontal(),g=this.ticks.length+(c?1:0),m=Zn(l),f=[],y=o.setContext(this.getContext()),x=y.display?y.width:0,k=x/2,p=function(Q){return ya(a,Q,x)};let h,v,E,w,S,_,C,A,M,B,H,X;if(i==="top")h=p(this.bottom),_=this.bottom-m,A=h-k,B=p(e.top)+k,X=e.bottom;else if(i==="bottom")h=p(this.top),B=e.top,X=p(e.bottom)-k,_=h+k,A=this.top+m;else if(i==="left")h=p(this.right),S=this.right-m,C=h-k,M=p(e.left)+k,H=e.right;else if(i==="right")h=p(this.left),M=e.left,H=p(e.right)-k,S=h+k,C=this.left+m;else if(r==="x"){if(i==="center")h=p((e.top+e.bottom)/2+.5);else if(re(i)){const Q=Object.keys(i)[0],ee=i[Q];h=p(this.chart.scales[Q].getPixelForValue(ee))}B=e.top,X=e.bottom,_=h+k,A=_+m}else if(r==="y"){if(i==="center")h=p((e.left+e.right)/2);else if(re(i)){const Q=Object.keys(i)[0],ee=i[Q];h=p(this.chart.scales[Q].getPixelForValue(ee))}S=h-k,C=S-m,M=e.left,H=e.right}const ie=q(n.ticks.maxTicksLimit,g),K=Math.max(1,Math.ceil(g/ie));for(v=0;v<g;v+=K){const Q=this.getContext(v),ee=l.setContext(Q),D=o.setContext(Q),L=ee.lineWidth,W=ee.color,V=D.dash||[],J=D.dashOffset,Le=ee.tickWidth,pe=ee.tickColor,Ae=ee.tickBorderDash||[],ue=ee.tickBorderDashOffset;E=wE(this,v,c),E!==void 0&&(w=ya(a,E,L),d?S=C=M=H=w:_=A=B=X=w,f.push({tx1:S,ty1:_,tx2:C,ty2:A,x1:M,y1:B,x2:H,y2:X,width:L,color:W,borderDash:V,borderDashOffset:J,tickWidth:Le,tickColor:pe,tickBorderDash:Ae,tickBorderDashOffset:ue}))}return this._ticksLength=g,this._borderValue=h,f}_computeLabelItems(e){const r=this.axis,a=this.options,{position:n,ticks:l}=a,i=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:g}=l,m=Zn(a.grid),f=m+u,y=g?-u:f,x=-xr(this.labelRotation),k=[];let p,h,v,E,w,S,_,C,A,M,B,H,X="middle";if(n==="top")S=this.bottom-y,_=this._getXAxisLabelAlignment();else if(n==="bottom")S=this.top+y,_=this._getXAxisLabelAlignment();else if(n==="left"){const K=this._getYAxisLabelAlignment(m);_=K.textAlign,w=K.x}else if(n==="right"){const K=this._getYAxisLabelAlignment(m);_=K.textAlign,w=K.x}else if(r==="x"){if(n==="center")S=(e.top+e.bottom)/2+f;else if(re(n)){const K=Object.keys(n)[0],Q=n[K];S=this.chart.scales[K].getPixelForValue(Q)+f}_=this._getXAxisLabelAlignment()}else if(r==="y"){if(n==="center")w=(e.left+e.right)/2-f;else if(re(n)){const K=Object.keys(n)[0],Q=n[K];w=this.chart.scales[K].getPixelForValue(Q)}_=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?X="top":c==="end"&&(X="bottom"));const ie=this._getLabelSizes();for(p=0,h=o.length;p<h;++p){v=o[p],E=v.label;const K=l.setContext(this.getContext(p));C=this.getPixelForTick(p)+l.labelOffset,A=this._resolveTickFontOptions(p),M=A.lineHeight,B=$e(E)?E.length:1;const Q=B/2,ee=K.color,D=K.textStrokeColor,L=K.textStrokeWidth;let W=_;i?(w=C,_==="inner"&&(p===h-1?W=this.options.reverse?"left":"right":p===0?W=this.options.reverse?"right":"left":W="center"),n==="top"?d==="near"||x!==0?H=-B*M+M/2:d==="center"?H=-ie.highest.height/2-Q*M+M:H=-ie.highest.height+M/2:d==="near"||x!==0?H=M/2:d==="center"?H=ie.highest.height/2-Q*M:H=ie.highest.height-B*M,g&&(H*=-1),x!==0&&!K.showLabelBackdrop&&(w+=M/2*Math.sin(x))):(S=C,H=(1-B)*M/2);let V;if(K.showLabelBackdrop){const J=Yt(K.backdropPadding),Le=ie.heights[p],pe=ie.widths[p];let Ae=H-J.top,ue=0-J.left;switch(X){case"middle":Ae-=Le/2;break;case"bottom":Ae-=Le;break}switch(_){case"center":ue-=pe/2;break;case"right":ue-=pe;break;case"inner":p===h-1?ue-=pe:p>0&&(ue-=pe/2);break}V={left:ue,top:Ae,width:pe+J.width,height:Le+J.height,color:K.backdropColor}}k.push({label:E,font:A,textOffset:H,options:{rotation:x,color:ee,strokeColor:D,strokeWidth:L,textAlign:W,textBaseline:X,translation:[w,S],backdrop:V}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-xr(this.labelRotation))return e==="top"?"left":"right";let n="center";return r.align==="start"?n="left":r.align==="end"?n="right":r.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:a,mirror:n,padding:l}}=this.options,i=this._getLabelSizes(),o=e+l,c=i.widest.width;let d,u;return r==="left"?n?(u=this.right+l,a==="near"?d="left":a==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,a==="near"?d="right":a==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?n?(u=this.left+l,a==="near"?d="right":a==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,a==="near"?d="left":a==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:a,top:n,width:l,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(a,n,l,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const n=this.ticks.findIndex(l=>l.value===e);return n>=0?r.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const r=this.options.grid,a=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,i;const o=(c,d,u)=>{!u.width||!u.color||(a.save(),a.lineWidth=u.width,a.strokeStyle=u.color,a.setLineDash(u.borderDash||[]),a.lineDashOffset=u.borderDashOffset,a.beginPath(),a.moveTo(c.x,c.y),a.lineTo(d.x,d.y),a.stroke(),a.restore())};if(r.display)for(l=0,i=n.length;l<i;++l){const c=n[l];r.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:a,grid:n}}=this,l=a.setContext(this.getContext()),i=a.display?l.width:0;if(!i)return;const o=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,g,m;this.isHorizontal()?(d=ya(e,this.left,i)-i/2,u=ya(e,this.right,o)+o/2,g=m=c):(g=ya(e,this.top,i)-i/2,m=ya(e,this.bottom,o)+o/2,d=u=c),r.save(),r.lineWidth=l.width,r.strokeStyle=l.color,r.beginPath(),r.moveTo(d,g),r.lineTo(u,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,n=this._computeLabelArea();n&&gu(a,n);const l=this.getLabelItems(e);for(const i of l){const o=i.options,c=i.font,d=i.label,u=i.textOffset;Ri(a,d,0,u,c,o)}n&&fu(a)}drawTitle(){const{ctx:e,options:{position:r,title:a,reverse:n}}=this;if(!a.display)return;const l=lt(a.font),i=Yt(a.padding),o=a.align;let c=l.lineHeight/2;r==="bottom"||r==="center"||re(r)?(c+=i.bottom,$e(a.text)&&(c+=l.lineHeight*(a.text.length-1))):c+=i.top;const{titleX:d,titleY:u,maxWidth:g,rotation:m}=PE(this,c,r,o);Ri(e,a.text,0,0,l,{color:a.color,maxWidth:g,rotation:m,textAlign:CE(o,r,n),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,a=q(e.grid&&e.grid.z,-1),n=q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==An.prototype.draw?[{z:r,draw:l=>{this.draw(l)}}]:[{z:a,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:r,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",n=[];let l,i;for(l=0,i=r.length;l<i;++l){const o=r[l];o[a]===this.id&&(!e||o.type===e)&&n.push(o)}return n}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return lt(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Al{constructor(e,r,a){this.type=e,this.scope=r,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let a;OE(r)&&(a=this.register(r));const n=this.items,l=e.id,i=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in n||(n[l]=e,ME(e,i,a),this.override&&De.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,a=e.id,n=this.scope;a in r&&delete r[a],n&&a in De[n]&&(delete De[n][a],this.override&&delete Fa[a])}}function ME(t,e,r){const a=Us(Object.create(null),[r?De.get(r):{},De.get(e),t.defaults]);De.set(e,a),t.defaultRoutes&&DE(e,t.defaultRoutes),t.descriptors&&De.describe(e,t.descriptors)}function DE(t,e){Object.keys(e).forEach(r=>{const a=r.split("."),n=a.pop(),l=[t].concat(a).join("."),i=e[r].split("."),o=i.pop(),c=i.join(".");De.route(l,n,c,o)})}function OE(t){return"id"in t&&"defaults"in t}class TE{constructor(){this.controllers=new Al(Da,"datasets",!0),this.elements=new Al(ir,"elements"),this.plugins=new Al(Object,"plugins"),this.scales=new Al(An,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,a){[...r].forEach(n=>{const l=a||this._getRegistryForType(n);a||l.isForType(n)||l===this.plugins&&n.id?this._exec(e,l,n):se(n,i=>{const o=a||this._getRegistryForType(i);this._exec(e,o,i)})})}_exec(e,r,a){const n=cu(e);fe(a["before"+n],[],a),r[e](a),fe(a["after"+n],[],a)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const a=this._typedRegistries[r];if(a.isForType(e))return a}return this.plugins}_get(e,r,a){const n=r.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return n}}var tr=new TE;class RE{constructor(){this._init=[]}notify(e,r,a,n){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=n?this._descriptors(e).filter(n):this._descriptors(e),i=this._notify(l,e,r,a);return r==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,a,n){n=n||{};for(const l of e){const i=l.plugin,o=i[a],c=[r,n,l.options];if(fe(o,c,i)===!1&&n.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const a=e&&e.config,n=q(a.options&&a.options.plugins,{}),l=LE(a);return n===!1&&!r?[]:zE(e,l,n,r)}_notifyStateChanges(e){const r=this._oldCache||[],a=this._cache,n=(l,i)=>l.filter(o=>!i.some(c=>o.plugin.id===c.plugin.id));this._notify(n(r,a),e,"stop"),this._notify(n(a,r),e,"start")}}function LE(t){const e={},r=[],a=Object.keys(tr.plugins.items);for(let l=0;l<a.length;l++)r.push(tr.getPlugin(a[l]));const n=t.plugins||[];for(let l=0;l<n.length;l++){const i=n[l];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function AE(t,e){return!e&&t===!1?null:t===!0?{}:t}function zE(t,{plugins:e,localIds:r},a,n){const l=[],i=t.getContext();for(const o of e){const c=o.id,d=AE(a[c],n);d!==null&&l.push({plugin:o,options:FE(t.config,{plugin:o,local:r[c]},d,i)})}return l}function FE(t,{plugin:e,local:r},a,n){const l=t.pluginScopeKeys(e),i=t.getOptionScopes(a,l);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ad(t,e){const r=De.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function IE(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function BE(t,e){return t===e?"_index_":"_value_"}function $0(t){if(t==="x"||t==="y"||t==="r")return t}function jE(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function nd(t,...e){if($0(t))return t;for(const r of e){const a=r.axis||jE(r.position)||t.length>1&&$0(t[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function V0(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function $E(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(a=>a.xAxisID===t||a.yAxisID===t);if(r.length)return V0(t,"x",r[0])||V0(t,"y",r[0])}return{}}function VE(t,e){const r=Fa[t.type]||{scales:{}},a=e.scales||{},n=ad(t.type,e),l=Object.create(null);return Object.keys(a).forEach(i=>{const o=a[i];if(!re(o))return console.error(`Invalid scale configuration for scale: ${i}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=nd(i,o,$E(i,t),De.scales[o.type]),d=BE(c,n),u=r.scales||{};l[i]=vs(Object.create(null),[{axis:c},o,u[c],u[d]])}),t.data.datasets.forEach(i=>{const o=i.type||t.type,c=i.indexAxis||ad(o,e),u=(Fa[o]||{}).scales||{};Object.keys(u).forEach(g=>{const m=IE(g,c),f=i[m+"AxisID"]||m;l[f]=l[f]||Object.create(null),vs(l[f],[{axis:m},a[f],u[g]])})}),Object.keys(l).forEach(i=>{const o=l[i];vs(o,[De.scales[o.type],De.scale])}),l}function Ep(t){const e=t.options||(t.options={});e.plugins=q(e.plugins,{}),e.scales=VE(t,e)}function wp(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function WE(t){return t=t||{},t.data=wp(t.data),Ep(t),t}const W0=new Map,Np=new Set;function zl(t,e){let r=W0.get(t);return r||(r=e(),W0.set(t,r),Np.add(r)),r}const es=(t,e,r)=>{const a=za(e,r);a!==void 0&&t.add(a)};class HE{constructor(e){this._config=WE(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=wp(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ep(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return zl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return zl(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return zl(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,a=this.type;return zl(`${a}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const a=this._scopeCache;let n=a.get(e);return(!n||r)&&(n=new Map,a.set(e,n)),n}getOptionScopes(e,r,a){const{options:n,type:l}=this,i=this._cachedScopes(e,a),o=i.get(r);if(o)return o;const c=new Set;r.forEach(u=>{e&&(c.add(e),u.forEach(g=>es(c,e,g))),u.forEach(g=>es(c,n,g)),u.forEach(g=>es(c,Fa[l]||{},g)),u.forEach(g=>es(c,De,g)),u.forEach(g=>es(c,td,g))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Np.has(r)&&i.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,Fa[r]||{},De.datasets[r]||{},{type:r},De,td]}resolveNamedOptions(e,r,a,n=[""]){const l={$shared:!0},{resolver:i,subPrefixes:o}=H0(this._resolverCache,e,n);let c=i;if(YE(i,r)){l.$shared=!1,a=oa(a)?a():a;const d=this.createResolver(e,a,o);c=Sn(i,a,d)}for(const d of r)l[d]=c[d];return l}createResolver(e,r,a=[""],n){const{resolver:l}=H0(this._resolverCache,e,a);return re(r)?Sn(l,r,void 0,n):l}}function H0(t,e,r){let a=t.get(e);a||(a=new Map,t.set(e,a));const n=r.join();let l=a.get(n);return l||(l={resolver:pu(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},a.set(n,l)),l}const UE=t=>re(t)&&Object.getOwnPropertyNames(t).some(e=>oa(t[e]));function YE(t,e){const{isScriptable:r,isIndexable:a}=lp(t);for(const n of e){const l=r(n),i=a(n),o=(i||l)&&t[n];if(l&&(oa(o)||UE(o))||i&&$e(o))return!0}return!1}var KE="4.4.3";const GE=["top","bottom","left","right","chartArea"];function U0(t,e){return t==="top"||t==="bottom"||GE.indexOf(t)===-1&&e==="x"}function Y0(t,e){return function(r,a){return r[t]===a[t]?r[e]-a[e]:r[t]-a[t]}}function K0(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),fe(r&&r.onComplete,[t],e)}function QE(t){const e=t.chart,r=e.options.animation;fe(r&&r.onProgress,[t],e)}function Sp(t){return bu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ri={},G0=t=>{const e=Sp(t);return Object.values(ri).filter(r=>r.canvas===e).pop()};function JE(t,e,r){const a=Object.keys(t);for(const n of a){const l=+n;if(l>=e){const i=t[n];delete t[n],(r>0||l>e)&&(t[l+r]=i)}}}function XE(t,e,r,a){return!r||t.type==="mouseout"?null:a?e:t}function Fl(t,e,r){return t.options.clip?t[r]:e[r]}function qE(t,e){const{xScale:r,yScale:a}=t;return r&&a?{left:Fl(r,e,"left"),right:Fl(r,e,"right"),top:Fl(a,e,"top"),bottom:Fl(a,e,"bottom")}:e}var Fr;let sl=(Fr=class{static register(...e){tr.add(...e),Q0()}static unregister(...e){tr.remove(...e),Q0()}constructor(e,r){const a=this.config=new HE(r),n=Sp(e),l=G0(n);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const i=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||hE(n)),this.platform.updateConfig(a);const o=this.platform.acquireContext(n,i.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Qv(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=g1(g=>this.update(g),i.resizeDelay||0),this._dataChanges=[],ri[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ur.listen(this,"complete",K0),ur.listen(this,"progress",QE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:a,height:n,_aspectRatio:l}=this;return de(e)?r&&l?l:n?a/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return tr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():p0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return g0(this.canvas,this.ctx),this}stop(){return ur.stop(this),this}resize(e,r){ur.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const a=this.options,n=this.canvas,l=a.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(n,e,r,l),o=a.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,p0(this,o,!0)&&(this.notifyPlugins("resize",{size:i}),fe(a.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};se(r,(a,n)=>{a.id=n})}buildOrUpdateScales(){const e=this.options,r=e.scales,a=this.scales,n=Object.keys(a).reduce((i,o)=>(i[o]=!1,i),{});let l=[];r&&(l=l.concat(Object.keys(r).map(i=>{const o=r[i],c=nd(i,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),se(l,i=>{const o=i.options,c=o.id,d=nd(c,o),u=q(o.type,i.dtype);(o.position===void 0||U0(o.position,d)!==U0(i.dposition))&&(o.position=i.dposition),n[c]=!0;let g=null;if(c in a&&a[c].type===u)g=a[c];else{const m=tr.getScale(u);g=new m({id:c,type:u,ctx:this.ctx,chart:this}),a[g.id]=g}g.init(o,e)}),se(n,(i,o)=>{i||delete a[o]}),se(a,i=>{Gr.configure(this,i,i.options),Gr.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,a=e.length;if(e.sort((n,l)=>n.index-l.index),a>r){for(let n=r;n<a;++n)this._destroyDatasetMeta(n);e.splice(r,a-r)}this._sortedMetasets=e.slice(0).sort(Y0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((a,n)=>{r.filter(l=>l===a._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let a,n;for(this._removeUnreferencedMetasets(),a=0,n=r.length;a<n;a++){const l=r[a];let i=this.getDatasetMeta(a);const o=l.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(a),i=this.getDatasetMeta(a)),i.type=o,i.indexAxis=l.indexAxis||ad(o,this.options),i.order=l.order||0,i.index=a,i.label=""+l.label,i.visible=this.isDatasetVisible(a),i.controller)i.controller.updateIndex(a),i.controller.linkScales();else{const c=tr.getController(o),{datasetElementType:d,dataElementType:u}=De.datasets[o];Object.assign(c,{dataElementType:tr.getElement(u),datasetElementType:d&&tr.getElement(d)}),i.controller=new c(this,a),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){se(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const a=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:g}=this.getDatasetMeta(d),m=!n&&l.indexOf(g)===-1;g.buildOrUpdateElements(m),i=Math.max(+g.getMaxOverflow(),i)}i=this._minPadding=a.layout.autoPadding?i:0,this._updateLayout(i),n||se(l,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Y0("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){se(this.scales,e=>{Gr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!a0(r,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:a,start:n,count:l}of r){const i=a==="_removeElements"?-l:l;JE(e,n,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,a=l=>new Set(e.filter(i=>i[0]===l).map((i,o)=>o+","+i.splice(1).join(","))),n=a(0);for(let l=1;l<r;l++)if(!a0(n,a(l)))return;return Array.from(n).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Gr.update(this,this.width,this.height,e);const r=this.chartArea,a=r.width<=0||r.height<=0;this._layers=[],se(this.boxes,n=>{a&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,l)=>{n._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,a=this.data.datasets.length;r<a;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,a=this.data.datasets.length;r<a;++r)this._updateDataset(r,oa(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const a=this.getDatasetMeta(e),n={meta:a,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(a.controller._update(r),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ur.has(this)?this.attached&&!ur.running(this)&&ur.start(this):(this.draw(),K0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:n}=this._resizeBeforeDraw;this._resize(a,n),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,a=[];let n,l;for(n=0,l=r.length;n<l;++n){const i=r[n];(!e||i.visible)&&a.push(i)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,a=e._clip,n=!a.disabled,l=qE(e,this.chartArea),i={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(n&&gu(r,{left:a.left===!1?0:l.left-a.left,right:a.right===!1?this.width:l.right+a.right,top:a.top===!1?0:l.top-a.top,bottom:a.bottom===!1?this.height:l.bottom+a.bottom}),e.controller.draw(),n&&fu(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Qs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,a,n){const l=Gk.modes[r];return typeof l=="function"?l(this,e,a,n):[]}getDatasetMeta(e){const r=this.data.datasets[e],a=this._metasets;let n=a.filter(l=>l&&l._dataset===r).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},a.push(n)),n}getContext(){return this.$context||(this.$context=ja(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!r.hidden}setDatasetVisibility(e,r){const a=this.getDatasetMeta(e);a.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,a){const n=a?"show":"hide",l=this.getDatasetMeta(e),i=l.controller._resolveAnimations(void 0,n);Ys(r)?(l.data[r].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),i.update(l,{visible:a}),this.update(o=>o.datasetIndex===e?n:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),ur.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),g0(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete ri[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,a=(l,i)=>{r.addEventListener(this,l,i),e[l]=i},n=(l,i,o)=>{l.offsetX=i,l.offsetY=o,this._eventHandler(l)};se(this.options.events,l=>a(l,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,a=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},n=(c,d)=>{e[c]&&(r.removeEventListener(this,c,d),delete e[c])},l=(c,d)=>{this.canvas&&this.resize(c,d)};let i;const o=()=>{n("attach",o),this.attached=!0,this.resize(),a("resize",l),a("detach",i)};i=()=>{this.attached=!1,n("resize",l),this._stop(),this._resize(0,0),a("attach",o)},r.isAttached(this.canvas)?o():i()}unbindEvents(){se(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},se(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,a){const n=a?"set":"remove";let l,i,o,c;for(r==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+n+"DatasetHoverStyle"]()),o=0,c=e.length;o<c;++o){i=e[o];const d=i&&this.getDatasetMeta(i.datasetIndex).controller;d&&d[n+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],a=e.map(({datasetIndex:l,index:i})=>{const o=this.getDatasetMeta(l);if(!o)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:o.data[i],index:i}});!Di(a,r)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,r))}notifyPlugins(e,r,a){return this._plugins.notify(this,e,r,a)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,a){const n=this.options.hover,l=(c,d)=>c.filter(u=>!d.some(g=>u.datasetIndex===g.datasetIndex&&u.index===g.index)),i=l(r,e),o=a?e:l(e,r);i.length&&this.updateHoverStyle(i,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(e,r){const a={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},n=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,n)===!1)return;const l=this._handleEvent(e,r,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,n),(l||a.changed)&&this.render(),this}_handleEvent(e,r,a){const{_active:n=[],options:l}=this,i=r,o=this._getActiveElements(e,n,a,i),c=t1(e),d=XE(e,this._lastEvent,a,c);a&&(this._lastEvent=null,fe(l.onHover,[e,o,this],this),c&&fe(l.onClick,[e,o,this],this));const u=!Di(o,n);return(u||r)&&(this._active=o,this._updateHoverStyles(o,n,r)),this._lastEvent=d,u}_getActiveElements(e,r,a,n){if(e.type==="mouseout")return[];if(!a)return r;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,n)}},j(Fr,"defaults",De),j(Fr,"instances",ri),j(Fr,"overrides",Fa),j(Fr,"registry",tr),j(Fr,"version",KE),j(Fr,"getChart",G0),Fr);function Q0(){return se(sl.instances,t=>t._plugins.invalidate())}function ZE(t,e,r){const{startAngle:a,pixelMargin:n,x:l,y:i,outerRadius:o,innerRadius:c}=e;let d=n/o;t.beginPath(),t.arc(l,i,o,a-d,r+d),c>n?(d=n/c,t.arc(l,i,c,r+d,a-d,!0)):t.arc(l,i,n,r+Ie,a-Ie),t.closePath(),t.clip()}function ew(t){return hu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function tw(t,e,r,a){const n=ew(t.options.borderRadius),l=(r-e)/2,i=Math.min(l,a*e/2),o=c=>{const d=(r-Math.min(l,c))*a/2;return Je(c,0,Math.min(l,d))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:Je(n.innerStart,0,i),innerEnd:Je(n.innerEnd,0,i)}}function Qa(t,e,r,a){return{x:r+t*Math.cos(e),y:a+t*Math.sin(e)}}function Fi(t,e,r,a,n,l){const{x:i,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=e,g=Math.max(e.outerRadius+a+r-d,0),m=u>0?u+a+r+d:0;let f=0;const y=n-c;if(a){const K=u>0?u-a:0,Q=g>0?g-a:0,ee=(K+Q)/2,D=ee!==0?y*ee/(ee+a):y;f=(y-D)/2}const x=Math.max(.001,y*g-r/Re)/g,k=(y-x)/2,p=c+k+f,h=n-k-f,{outerStart:v,outerEnd:E,innerStart:w,innerEnd:S}=tw(e,m,g,h-p),_=g-v,C=g-E,A=p+v/_,M=h-E/C,B=m+w,H=m+S,X=p+w/B,ie=h-S/H;if(t.beginPath(),l){const K=(A+M)/2;if(t.arc(i,o,g,A,K),t.arc(i,o,g,K,M),E>0){const L=Qa(C,M,i,o);t.arc(L.x,L.y,E,M,h+Ie)}const Q=Qa(H,h,i,o);if(t.lineTo(Q.x,Q.y),S>0){const L=Qa(H,ie,i,o);t.arc(L.x,L.y,S,h+Ie,ie+Math.PI)}const ee=(h-S/m+(p+w/m))/2;if(t.arc(i,o,m,h-S/m,ee,!0),t.arc(i,o,m,ee,p+w/m,!0),w>0){const L=Qa(B,X,i,o);t.arc(L.x,L.y,w,X+Math.PI,p-Ie)}const D=Qa(_,p,i,o);if(t.lineTo(D.x,D.y),v>0){const L=Qa(_,A,i,o);t.arc(L.x,L.y,v,p-Ie,A)}}else{t.moveTo(i,o);const K=Math.cos(A)*g+i,Q=Math.sin(A)*g+o;t.lineTo(K,Q);const ee=Math.cos(M)*g+i,D=Math.sin(M)*g+o;t.lineTo(ee,D)}t.closePath()}function rw(t,e,r,a,n){const{fullCircles:l,startAngle:i,circumference:o}=e;let c=e.endAngle;if(l){Fi(t,e,r,a,c,n);for(let d=0;d<l;++d)t.fill();isNaN(o)||(c=i+(o%Ce||Ce))}return Fi(t,e,r,a,c,n),t.fill(),c}function aw(t,e,r,a,n){const{fullCircles:l,startAngle:i,circumference:o,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:g,borderDashOffset:m}=c,f=c.borderAlign==="inner";if(!d)return;t.setLineDash(g||[]),t.lineDashOffset=m,f?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let y=e.endAngle;if(l){Fi(t,e,r,a,y,n);for(let x=0;x<l;++x)t.stroke();isNaN(o)||(y=i+(o%Ce||Ce))}f&&ZE(t,e,y),l||(Fi(t,e,r,a,y,n),t.stroke())}class os extends ir{constructor(r){super();j(this,"circumference");j(this,"endAngle");j(this,"fullCircles");j(this,"innerRadius");j(this,"outerRadius");j(this,"pixelMargin");j(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,a,n){const l=this.getProps(["x","y"],n),{angle:i,distance:o}=Xh(l,{x:r,y:a}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:g,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,x=q(m,d-c)>=Ce||Gs(i,c,d),k=Kr(o,u+f,g+f);return x&&k}getCenterPoint(r){const{x:a,y:n,startAngle:l,endAngle:i,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:u}=this.options,g=(l+i)/2,m=(o+c+u+d)/2;return{x:a+Math.cos(g)*m,y:n+Math.sin(g)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:a,circumference:n}=this,l=(a.offset||0)/4,i=(a.spacing||0)/2,o=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=n>Ce?Math.floor(n/Ce):0,n===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*l,Math.sin(c)*l);const d=1-Math.sin(Math.min(Re,n||0)),u=l*d;r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,rw(r,this,u,i,o),aw(r,this,u,i,o),r.restore()}}j(os,"id","arc"),j(os,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),j(os,"defaultRoutes",{backgroundColor:"backgroundColor"}),j(os,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function _p(t,e,r=e){t.lineCap=q(r.borderCapStyle,e.borderCapStyle),t.setLineDash(q(r.borderDash,e.borderDash)),t.lineDashOffset=q(r.borderDashOffset,e.borderDashOffset),t.lineJoin=q(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=q(r.borderWidth,e.borderWidth),t.strokeStyle=q(r.borderColor,e.borderColor)}function nw(t,e,r){t.lineTo(r.x,r.y)}function sw(t){return t.stepped?C1:t.tension||t.cubicInterpolationMode==="monotone"?P1:nw}function Cp(t,e,r={}){const a=t.length,{start:n=0,end:l=a-1}=r,{start:i,end:o}=e,c=Math.max(n,i),d=Math.min(l,o),u=n<i&&l<i||n>o&&l>o;return{count:a,start:c,loop:e.loop,ilen:d<c&&!u?a+d-c:d-c}}function lw(t,e,r,a){const{points:n,options:l}=e,{count:i,start:o,loop:c,ilen:d}=Cp(n,r,a),u=sw(l);let{move:g=!0,reverse:m}=a||{},f,y,x;for(f=0;f<=d;++f)y=n[(o+(m?d-f:f))%i],!y.skip&&(g?(t.moveTo(y.x,y.y),g=!1):u(t,x,y,m,l.stepped),x=y);return c&&(y=n[(o+(m?d:0))%i],u(t,x,y,m,l.stepped)),!!c}function iw(t,e,r,a){const n=e.points,{count:l,start:i,ilen:o}=Cp(n,r,a),{move:c=!0,reverse:d}=a||{};let u=0,g=0,m,f,y,x,k,p;const h=E=>(i+(d?o-E:E))%l,v=()=>{x!==k&&(t.lineTo(u,k),t.lineTo(u,x),t.lineTo(u,p))};for(c&&(f=n[h(0)],t.moveTo(f.x,f.y)),m=0;m<=o;++m){if(f=n[h(m)],f.skip)continue;const E=f.x,w=f.y,S=E|0;S===y?(w<x?x=w:w>k&&(k=w),u=(g*u+E)/++g):(v(),t.lineTo(E,w),y=S,g=0,x=k=w),p=w}v()}function sd(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?iw:lw}function ow(t){return t.stepped?lk:t.tension||t.cubicInterpolationMode==="monotone"?ik:Ea}function cw(t,e,r,a){let n=e._path;n||(n=e._path=new Path2D,e.path(n,r,a)&&n.closePath()),_p(t,e.options),t.stroke(n)}function dw(t,e,r,a){const{segments:n,options:l}=e,i=sd(e);for(const o of n)_p(t,l,o.style),t.beginPath(),i(t,e,o,{start:r,end:r+a-1})&&t.closePath(),t.stroke()}const uw=typeof Path2D=="function";function mw(t,e,r,a){uw&&!e.options.segment?cw(t,e,r,a):dw(t,e,r,a)}class cs extends ir{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const n=a.spanGaps?this._loop:this._fullLoop;q1(this._points,a,e,n,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=hk(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,a=e.length;return a&&r[e[a-1].end]}interpolate(e,r){const a=this.options,n=e[r],l=this.points,i=mk(this,{property:r,start:n,end:n});if(!i.length)return;const o=[],c=ow(a);let d,u;for(d=0,u=i.length;d<u;++d){const{start:g,end:m}=i[d],f=l[g],y=l[m];if(f===y){o.push(f);continue}const x=Math.abs((n-f[r])/(y[r]-f[r])),k=c(f,y,x,a.stepped);k[r]=e[r],o.push(k)}return o.length===1?o[0]:o}pathSegment(e,r,a){return sd(this)(e,this,r,a)}path(e,r,a){const n=this.segments,l=sd(this);let i=this._loop;r=r||0,a=a||this.points.length-r;for(const o of n)i&=l(e,this,o,{start:r,end:r+a-1});return!!i}draw(e,r,a,n){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),mw(e,this,a,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}j(cs,"id","line"),j(cs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),j(cs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),j(cs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function J0(t,e,r,a){const n=t.options,{[r]:l}=t.getProps([r],a);return Math.abs(e-l)<n.radius+n.hitRadius}class ai extends ir{constructor(r){super();j(this,"parsed");j(this,"skip");j(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,a,n){const l=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(r-i,2)+Math.pow(a-o,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(r,a){return J0(this,r,"x",a)}inYRange(r,a){return J0(this,r,"y",a)}getCenterPoint(r){const{x:a,y:n}=this.getProps(["x","y"],r);return{x:a,y:n}}size(r){r=r||this.options||{};let a=r.radius||0;a=Math.max(a,a&&r.hoverRadius||0);const n=a&&r.borderWidth||0;return(a+n)*2}draw(r,a){const n=this.options;this.skip||n.radius<.1||!Qs(this,a,this.size(n)/2)||(r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.fillStyle=n.backgroundColor,rd(r,n,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}j(ai,"id","point"),j(ai,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),j(ai,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Pp(t,e){const{x:r,y:a,base:n,width:l,height:i}=t.getProps(["x","y","base","width","height"],e);let o,c,d,u,g;return t.horizontal?(g=i/2,o=Math.min(r,n),c=Math.max(r,n),d=a-g,u=a+g):(g=l/2,o=r-g,c=r+g,d=Math.min(a,n),u=Math.max(a,n)),{left:o,top:d,right:c,bottom:u}}function Qr(t,e,r,a){return t?0:Je(e,r,a)}function gw(t,e,r){const a=t.options.borderWidth,n=t.borderSkipped,l=sp(a);return{t:Qr(n.top,l.top,0,r),r:Qr(n.right,l.right,0,e),b:Qr(n.bottom,l.bottom,0,r),l:Qr(n.left,l.left,0,e)}}function fw(t,e,r){const{enableBorderRadius:a}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,l=pn(n),i=Math.min(e,r),o=t.borderSkipped,c=a||re(n);return{topLeft:Qr(!c||o.top||o.left,l.topLeft,0,i),topRight:Qr(!c||o.top||o.right,l.topRight,0,i),bottomLeft:Qr(!c||o.bottom||o.left,l.bottomLeft,0,i),bottomRight:Qr(!c||o.bottom||o.right,l.bottomRight,0,i)}}function hw(t){const e=Pp(t),r=e.right-e.left,a=e.bottom-e.top,n=gw(t,r/2,a/2),l=fw(t,r/2,a/2);return{outer:{x:e.left,y:e.top,w:r,h:a,radius:l},inner:{x:e.left+n.l,y:e.top+n.t,w:r-n.l-n.r,h:a-n.t-n.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,l.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(n.b,n.r))}}}}function rc(t,e,r,a){const n=e===null,l=r===null,o=t&&!(n&&l)&&Pp(t,a);return o&&(n||Kr(e,o.left,o.right))&&(l||Kr(r,o.top,o.bottom))}function pw(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function yw(t,e){t.rect(e.x,e.y,e.w,e.h)}function ac(t,e,r={}){const a=t.x!==r.x?-e:0,n=t.y!==r.y?-e:0,l=(t.x+t.w!==r.x+r.w?e:0)-a,i=(t.y+t.h!==r.y+r.h?e:0)-n;return{x:t.x+a,y:t.y+n,w:t.w+l,h:t.h+i,radius:t.radius}}class Ns extends ir{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:a,backgroundColor:n}}=this,{inner:l,outer:i}=hw(this),o=pw(i.radius)?Li:yw;e.save(),(i.w!==l.w||i.h!==l.h)&&(e.beginPath(),o(e,ac(i,r,l)),e.clip(),o(e,ac(l,-r,i)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),o(e,ac(l,r)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,r,a){return rc(this,e,r,a)}inXRange(e,r){return rc(this,e,null,r)}inYRange(e,r){return rc(this,null,e,r)}getCenterPoint(e){const{x:r,y:a,base:n,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(r+n)/2:r,y:l?a:(a+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}j(Ns,"id","bar"),j(Ns,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),j(Ns,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const X0=(t,e)=>{let{boxHeight:r=e,boxWidth:a=e}=t;return t.usePointStyle&&(r=Math.min(r,e),a=t.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:r,itemHeight:Math.max(e,r)}},xw=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class q0 extends ir{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,a){this.maxWidth=e,this.maxHeight=r,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=fe(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(a=>e.filter(a,this.chart.data))),e.sort&&(r=r.sort((a,n)=>e.sort(a,n,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,n=lt(a.font),l=n.size,i=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=X0(a,l);let d,u;r.font=n.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(i,l,o,c)+10):(u=this.maxHeight,d=this._fitCols(i,n,o,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,a,n){const{ctx:l,maxWidth:i,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=n+o;let g=e;l.textAlign="left",l.textBaseline="middle";let m=-1,f=-u;return this.legendItems.forEach((y,x)=>{const k=a+r/2+l.measureText(y.text).width;(x===0||d[d.length-1]+k+2*o>i)&&(g+=u,d[d.length-(x>0?0:1)]=0,f+=u,m++),c[x]={left:0,top:f,row:m,width:k,height:n},d[d.length-1]+=k+o}),g}_fitCols(e,r,a,n){const{ctx:l,maxHeight:i,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=i-e;let g=o,m=0,f=0,y=0,x=0;return this.legendItems.forEach((k,p)=>{const{itemWidth:h,itemHeight:v}=bw(a,r,l,k,n);p>0&&f+v+2*o>u&&(g+=m+o,d.push({width:m,height:f}),y+=m+o,x++,m=f=0),c[p]={left:y,top:f,col:x,width:h,height:v},m=Math.max(m,h),f+=v+o}),g+=m,d.push({width:m,height:f}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:a,labels:{padding:n},rtl:l}}=this,i=yn(l,this.left,this.width);if(this.isHorizontal()){let o=0,c=ft(a,this.left+n,this.right-this.lineWidths[o]);for(const d of r)o!==d.row&&(o=d.row,c=ft(a,this.left+n,this.right-this.lineWidths[o])),d.top+=this.top+e+n,d.left=i.leftForLtr(i.x(c),d.width),c+=d.width+n}else{let o=0,c=ft(a,this.top+e+n,this.bottom-this.columnSizes[o].height);for(const d of r)d.col!==o&&(o=d.col,c=ft(a,this.top+e+n,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+n,d.left=i.leftForLtr(i.x(d.left),d.width),c+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gu(e,this),this._draw(),fu(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:a,ctx:n}=this,{align:l,labels:i}=e,o=De.color,c=yn(e.rtl,this.left,this.width),d=lt(i.font),{padding:u}=i,g=d.size,m=g/2;let f;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:y,boxHeight:x,itemHeight:k}=X0(i,g),p=function(S,_,C){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;n.save();const A=q(C.lineWidth,1);if(n.fillStyle=q(C.fillStyle,o),n.lineCap=q(C.lineCap,"butt"),n.lineDashOffset=q(C.lineDashOffset,0),n.lineJoin=q(C.lineJoin,"miter"),n.lineWidth=A,n.strokeStyle=q(C.strokeStyle,o),n.setLineDash(q(C.lineDash,[])),i.usePointStyle){const M={radius:x*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:A},B=c.xPlus(S,y/2),H=_+m;np(n,M,B,H,i.pointStyleWidth&&y)}else{const M=_+Math.max((g-x)/2,0),B=c.leftForLtr(S,y),H=pn(C.borderRadius);n.beginPath(),Object.values(H).some(X=>X!==0)?Li(n,{x:B,y:M,w:y,h:x,radius:H}):n.rect(B,M,y,x),n.fill(),A!==0&&n.stroke()}n.restore()},h=function(S,_,C){Ri(n,C.text,S,_+k/2,d,{strikethrough:C.hidden,textAlign:c.textAlign(C.textAlign)})},v=this.isHorizontal(),E=this._computeTitleHeight();v?f={x:ft(l,this.left+u,this.right-a[0]),y:this.top+u+E,line:0}:f={x:this.left+u,y:ft(l,this.top+E+u,this.bottom-r[0].height),line:0},up(this.ctx,e.textDirection);const w=k+u;this.legendItems.forEach((S,_)=>{n.strokeStyle=S.fontColor,n.fillStyle=S.fontColor;const C=n.measureText(S.text).width,A=c.textAlign(S.textAlign||(S.textAlign=i.textAlign)),M=y+m+C;let B=f.x,H=f.y;c.setWidth(this.width),v?_>0&&B+M+u>this.right&&(H=f.y+=w,f.line++,B=f.x=ft(l,this.left+u,this.right-a[f.line])):_>0&&H+w>this.bottom&&(B=f.x=B+r[f.line].width+u,f.line++,H=f.y=ft(l,this.top+E+u,this.bottom-r[f.line].height));const X=c.x(B);if(p(X,H,S),B=f1(A,B+y+m,v?B+M:this.right,e.rtl),h(c.x(B),H,S),v)f.x+=M+u;else if(typeof S.text!="string"){const ie=d.lineHeight;f.y+=Mp(S,ie)+u}else f.y+=w}),mp(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,a=lt(r.font),n=Yt(r.padding);if(!r.display)return;const l=yn(e.rtl,this.left,this.width),i=this.ctx,o=r.position,c=a.size/2,d=n.top+c;let u,g=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,g=ft(e.align,g,this.right-m);else{const y=this.columnSizes.reduce((x,k)=>Math.max(x,k.height),0);u=d+ft(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const f=ft(o,g,g+m);i.textAlign=l.textAlign(rp(o)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=a.string,Ri(i,r.text,f,u,a)}_computeTitleHeight(){const e=this.options.title,r=lt(e.font),a=Yt(e.padding);return e.display?r.lineHeight+a.height:0}_getLegendItemAt(e,r){let a,n,l;if(Kr(e,this.left,this.right)&&Kr(r,this.top,this.bottom)){for(l=this.legendHitBoxes,a=0;a<l.length;++a)if(n=l[a],Kr(e,n.left,n.left+n.width)&&Kr(r,n.top,n.top+n.height))return this.legendItems[a]}return null}handleEvent(e){const r=this.options;if(!Ew(e.type,r))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,l=xw(n,a);n&&!l&&fe(r.onLeave,[e,n,this],this),this._hoveredItem=a,a&&!l&&fe(r.onHover,[e,a,this],this)}else a&&fe(r.onClick,[e,a,this],this)}}function bw(t,e,r,a,n){const l=vw(a,t,e,r),i=kw(n,a,e.lineHeight);return{itemWidth:l,itemHeight:i}}function vw(t,e,r,a){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((l,i)=>l.length>i.length?l:i)),e+r.size/2+a.measureText(n).width}function kw(t,e,r){let a=t;return typeof e.text!="string"&&(a=Mp(e,r)),a}function Mp(t,e){const r=t.text?t.text.length:0;return e*r}function Ew(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Dp={id:"legend",_element:q0,start(t,e,r){const a=t.legend=new q0({ctx:t.ctx,options:r,chart:t});Gr.configure(t,a,r),Gr.addBox(t,a)},stop(t){Gr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const a=t.legend;Gr.configure(t,a,r),a.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const a=e.datasetIndex,n=r.chart;n.isDatasetVisible(a)?(n.hide(a),e.hidden=!0):(n.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:a,textAlign:n,color:l,useBorderRadius:i,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=Yt(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:l,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:a||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:i&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const ds={average(t){if(!t.length)return!1;let e,r,a=new Set,n=0,l=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();a.add(c.x),n+=c.y,++l}}return{x:[...a].reduce((o,c)=>o+c)/a.size,y:n/l}},nearest(t,e){if(!t.length)return!1;let r=e.x,a=e.y,n=Number.POSITIVE_INFINITY,l,i,o;for(l=0,i=t.length;l<i;++l){const c=t[l].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=ed(e,d);u<n&&(n=u,o=c)}}if(o){const c=o.tooltipPosition();r=c.x,a=c.y}return{x:r,y:a}}};function Zt(t,e){return e&&($e(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function mr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ww(t,e){const{element:r,datasetIndex:a,index:n}=e,l=t.getDatasetMeta(a).controller,{label:i,value:o}=l.getLabelAndValue(n);return{chart:t,label:i,parsed:l.getParsed(n),raw:t.data.datasets[a].data[n],formattedValue:o,dataset:l.getDataset(),dataIndex:n,datasetIndex:a,element:r}}function Z0(t,e){const r=t.chart.ctx,{body:a,footer:n,title:l}=t,{boxWidth:i,boxHeight:o}=e,c=lt(e.bodyFont),d=lt(e.titleFont),u=lt(e.footerFont),g=l.length,m=n.length,f=a.length,y=Yt(e.padding);let x=y.height,k=0,p=a.reduce((E,w)=>E+w.before.length+w.lines.length+w.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,g&&(x+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),p){const E=e.displayColors?Math.max(o,c.lineHeight):c.lineHeight;x+=f*E+(p-f)*c.lineHeight+(p-1)*e.bodySpacing}m&&(x+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let h=0;const v=function(E){k=Math.max(k,r.measureText(E).width+h)};return r.save(),r.font=d.string,se(t.title,v),r.font=c.string,se(t.beforeBody.concat(t.afterBody),v),h=e.displayColors?i+2+e.boxPadding:0,se(a,E=>{se(E.before,v),se(E.lines,v),se(E.after,v)}),h=0,r.font=u.string,se(t.footer,v),r.restore(),k+=y.width,{width:k,height:x}}function Nw(t,e){const{y:r,height:a}=e;return r<a/2?"top":r>t.height-a/2?"bottom":"center"}function Sw(t,e,r,a){const{x:n,width:l}=a,i=r.caretSize+r.caretPadding;if(t==="left"&&n+l+i>e.width||t==="right"&&n-l-i<0)return!0}function _w(t,e,r,a){const{x:n,width:l}=r,{width:i,chartArea:{left:o,right:c}}=t;let d="center";return a==="center"?d=n<=(o+c)/2?"left":"right":n<=l/2?d="left":n>=i-l/2&&(d="right"),Sw(d,t,e,r)&&(d="center"),d}function eg(t,e,r){const a=r.yAlign||e.yAlign||Nw(t,r);return{xAlign:r.xAlign||e.xAlign||_w(t,e,r,a),yAlign:a}}function Cw(t,e){let{x:r,width:a}=t;return e==="right"?r-=a:e==="center"&&(r-=a/2),r}function Pw(t,e,r){let{y:a,height:n}=t;return e==="top"?a+=r:e==="bottom"?a-=n+r:a-=n/2,a}function tg(t,e,r,a){const{caretSize:n,caretPadding:l,cornerRadius:i}=t,{xAlign:o,yAlign:c}=r,d=n+l,{topLeft:u,topRight:g,bottomLeft:m,bottomRight:f}=pn(i);let y=Cw(e,o);const x=Pw(e,c,d);return c==="center"?o==="left"?y+=d:o==="right"&&(y-=d):o==="left"?y-=Math.max(u,m)+n:o==="right"&&(y+=Math.max(g,f)+n),{x:Je(y,0,a.width-e.width),y:Je(x,0,a.height-e.height)}}function Il(t,e,r){const a=Yt(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-a.right:t.x+a.left}function rg(t){return Zt([],mr(t))}function Mw(t,e,r){return ja(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function ag(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Op={beforeTitle:cr,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,a=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return r[e.dataIndex]}return""},afterTitle:cr,beforeBody:cr,beforeLabel:cr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return de(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:cr,afterBody:cr,beforeFooter:cr,footer:cr,afterFooter:cr};function rt(t,e,r,a){const n=t[e].call(r,a);return typeof n>"u"?Op[e].call(r,a):n}class ld extends ir{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,a=this.options.setContext(this.getContext()),n=a.enabled&&r.options.animation&&a.animations,l=new fp(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=Mw(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:a}=r,n=rt(a,"beforeTitle",this,e),l=rt(a,"title",this,e),i=rt(a,"afterTitle",this,e);let o=[];return o=Zt(o,mr(n)),o=Zt(o,mr(l)),o=Zt(o,mr(i)),o}getBeforeBody(e,r){return rg(rt(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:a}=r,n=[];return se(e,l=>{const i={before:[],lines:[],after:[]},o=ag(a,l);Zt(i.before,mr(rt(o,"beforeLabel",this,l))),Zt(i.lines,rt(o,"label",this,l)),Zt(i.after,mr(rt(o,"afterLabel",this,l))),n.push(i)}),n}getAfterBody(e,r){return rg(rt(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:a}=r,n=rt(a,"beforeFooter",this,e),l=rt(a,"footer",this,e),i=rt(a,"afterFooter",this,e);let o=[];return o=Zt(o,mr(n)),o=Zt(o,mr(l)),o=Zt(o,mr(i)),o}_createItems(e){const r=this._active,a=this.chart.data,n=[],l=[],i=[];let o=[],c,d;for(c=0,d=r.length;c<d;++c)o.push(ww(this.chart,r[c]));return e.filter&&(o=o.filter((u,g,m)=>e.filter(u,g,m,a))),e.itemSort&&(o=o.sort((u,g)=>e.itemSort(u,g,a))),se(o,u=>{const g=ag(e.callbacks,u);n.push(rt(g,"labelColor",this,u)),l.push(rt(g,"labelPointStyle",this,u)),i.push(rt(g,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=l,this.labelTextColors=i,this.dataPoints=o,o}update(e,r){const a=this.options.setContext(this.getContext()),n=this._active;let l,i=[];if(!n.length)this.opacity!==0&&(l={opacity:0});else{const o=ds[a.position].call(this,n,this._eventPosition);i=this._createItems(a),this.title=this.getTitle(i,a),this.beforeBody=this.getBeforeBody(i,a),this.body=this.getBody(i,a),this.afterBody=this.getAfterBody(i,a),this.footer=this.getFooter(i,a);const c=this._size=Z0(this,a),d=Object.assign({},o,c),u=eg(this.chart,a,d),g=tg(a,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,l={opacity:1,x:g.x,y:g.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=i,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,a,n){const l=this.getCaretPosition(e,a,n);r.lineTo(l.x1,l.y1),r.lineTo(l.x2,l.y2),r.lineTo(l.x3,l.y3)}getCaretPosition(e,r,a){const{xAlign:n,yAlign:l}=this,{caretSize:i,cornerRadius:o}=a,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:g}=pn(o),{x:m,y:f}=e,{width:y,height:x}=r;let k,p,h,v,E,w;return l==="center"?(E=f+x/2,n==="left"?(k=m,p=k-i,v=E+i,w=E-i):(k=m+y,p=k+i,v=E-i,w=E+i),h=k):(n==="left"?p=m+Math.max(c,u)+i:n==="right"?p=m+y-Math.max(d,g)-i:p=this.caretX,l==="top"?(v=f,E=v-i,k=p-i,h=p+i):(v=f+x,E=v+i,k=p+i,h=p-i),w=v),{x1:k,x2:p,x3:h,y1:v,y2:E,y3:w}}drawTitle(e,r,a){const n=this.title,l=n.length;let i,o,c;if(l){const d=yn(a.rtl,this.x,this.width);for(e.x=Il(this,a.titleAlign,a),r.textAlign=d.textAlign(a.titleAlign),r.textBaseline="middle",i=lt(a.titleFont),o=a.titleSpacing,r.fillStyle=a.titleColor,r.font=i.string,c=0;c<l;++c)r.fillText(n[c],d.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+o,c+1===l&&(e.y+=a.titleMarginBottom-o)}}_drawColorBox(e,r,a,n,l){const i=this.labelColors[a],o=this.labelPointStyles[a],{boxHeight:c,boxWidth:d}=l,u=lt(l.bodyFont),g=Il(this,"left",l),m=n.x(g),f=c<u.lineHeight?(u.lineHeight-c)/2:0,y=r.y+f;if(l.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},k=n.leftForLtr(m,d)+d/2,p=y+c/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,rd(e,x,k,p),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,rd(e,x,k,p)}else{e.lineWidth=re(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const x=n.leftForLtr(m,d),k=n.leftForLtr(n.xPlus(m,1),d-2),p=pn(i.borderRadius);Object.values(p).some(h=>h!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Li(e,{x,y,w:d,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Li(e,{x:k,y:y+1,w:d-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(x,y,d,c),e.strokeRect(x,y,d,c),e.fillStyle=i.backgroundColor,e.fillRect(k,y+1,d-2,c-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,r,a){const{body:n}=this,{bodySpacing:l,bodyAlign:i,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=a,g=lt(a.bodyFont);let m=g.lineHeight,f=0;const y=yn(a.rtl,this.x,this.width),x=function(C){r.fillText(C,y.x(e.x+f),e.y+m/2),e.y+=m+l},k=y.textAlign(i);let p,h,v,E,w,S,_;for(r.textAlign=i,r.textBaseline="middle",r.font=g.string,e.x=Il(this,k,a),r.fillStyle=a.bodyColor,se(this.beforeBody,x),f=o&&k!=="right"?i==="center"?d/2+u:d+2+u:0,E=0,S=n.length;E<S;++E){for(p=n[E],h=this.labelTextColors[E],r.fillStyle=h,se(p.before,x),v=p.lines,o&&v.length&&(this._drawColorBox(r,e,E,y,a),m=Math.max(g.lineHeight,c)),w=0,_=v.length;w<_;++w)x(v[w]),m=g.lineHeight;se(p.after,x)}f=0,m=g.lineHeight,se(this.afterBody,x),e.y-=l}drawFooter(e,r,a){const n=this.footer,l=n.length;let i,o;if(l){const c=yn(a.rtl,this.x,this.width);for(e.x=Il(this,a.footerAlign,a),e.y+=a.footerMarginTop,r.textAlign=c.textAlign(a.footerAlign),r.textBaseline="middle",i=lt(a.footerFont),r.fillStyle=a.footerColor,r.font=i.string,o=0;o<l;++o)r.fillText(n[o],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+a.footerSpacing}}drawBackground(e,r,a,n){const{xAlign:l,yAlign:i}=this,{x:o,y:c}=e,{width:d,height:u}=a,{topLeft:g,topRight:m,bottomLeft:f,bottomRight:y}=pn(n.cornerRadius);r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.beginPath(),r.moveTo(o+g,c),i==="top"&&this.drawCaret(e,r,a,n),r.lineTo(o+d-m,c),r.quadraticCurveTo(o+d,c,o+d,c+m),i==="center"&&l==="right"&&this.drawCaret(e,r,a,n),r.lineTo(o+d,c+u-y),r.quadraticCurveTo(o+d,c+u,o+d-y,c+u),i==="bottom"&&this.drawCaret(e,r,a,n),r.lineTo(o+f,c+u),r.quadraticCurveTo(o,c+u,o,c+u-f),i==="center"&&l==="left"&&this.drawCaret(e,r,a,n),r.lineTo(o,c+g),r.quadraticCurveTo(o,c,o+g,c),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,a=this.$animations,n=a&&a.x,l=a&&a.y;if(n||l){const i=ds[e.position].call(this,this._active,this._eventPosition);if(!i)return;const o=this._size=Z0(this,e),c=Object.assign({},i,this._size),d=eg(r,e,c),u=tg(e,c,d,r);(n._to!==u.x||l._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(r);const n={width:this.width,height:this.height},l={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const i=Yt(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=a,this.drawBackground(l,e,n,r),up(e,r.textDirection),l.y+=i.top,this.drawTitle(l,e,r),this.drawBody(l,e,r),this.drawFooter(l,e,r),mp(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const a=this._active,n=e.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),l=!Di(a,n),i=this._positionChanged(n,r);(l||i)&&(this._active=n,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,a=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,l=this._active||[],i=this._getActiveElements(e,l,r,a),o=this._positionChanged(i,e),c=r||!Di(i,l)||o;return c&&(this._active=i,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,a,n){const l=this.options;if(e.type==="mouseout")return[];if(!n)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,l.mode,l,a);return l.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:a,caretY:n,options:l}=this,i=ds[l.position].call(this,e,r);return i!==!1&&(a!==i.x||n!==i.y)}}j(ld,"positioners",ds);var Tp={id:"tooltip",_element:ld,positioners:ds,afterInit(t,e,r){r&&(t.tooltip=new ld({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Op},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Dw=(t,e,r,a)=>(typeof e=="string"?(r=t.push(e)-1,a.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Ow(t,e,r,a){const n=t.indexOf(e);if(n===-1)return Dw(t,e,r,a);const l=t.lastIndexOf(e);return n!==l?r:n}const Tw=(t,e)=>t===null?null:Je(Math.round(t),0,e);function ng(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ii extends An{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const a=this.getLabels();for(const{index:n,label:l}of r)a[n]===l&&a.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(de(e))return null;const a=this.getLabels();return r=isFinite(r)&&a[r]===e?r:Ow(a,e,q(r,e),this._addedLabels),Tw(r,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:a,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),r||(n=this.getLabels().length-1)),this.min=a,this.max=n}buildTicks(){const e=this.min,r=this.max,a=this.options.offset,n=[];let l=this.getLabels();l=e===0&&r===l.length-1?l:l.slice(e,r+1),this._valueRange=Math.max(l.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let i=e;i<=r;i++)n.push({value:i});return n}getLabelForValue(e){return ng.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}j(Ii,"id","category"),j(Ii,"defaults",{ticks:{callback:ng}});function Rw(t,e){const r=[],{bounds:n,step:l,min:i,max:o,precision:c,count:d,maxTicks:u,maxDigits:g,includeBounds:m}=t,f=l||1,y=u-1,{min:x,max:k}=e,p=!de(i),h=!de(o),v=!de(d),E=(k-x)/(g+1);let w=s0((k-x)/y/f)*f,S,_,C,A;if(w<1e-14&&!p&&!h)return[{value:x},{value:k}];A=Math.ceil(k/w)-Math.floor(x/w),A>y&&(w=s0(A*w/y/f)*f),de(c)||(S=Math.pow(10,c),w=Math.ceil(w*S)/S),n==="ticks"?(_=Math.floor(x/w)*w,C=Math.ceil(k/w)*w):(_=x,C=k),p&&h&&l&&s1((o-i)/l,w/1e3)?(A=Math.round(Math.min((o-i)/w,u)),w=(o-i)/A,_=i,C=o):v?(_=p?i:_,C=h?o:C,A=d-1,w=(C-_)/A):(A=(C-_)/w,ks(A,Math.round(A),w/1e3)?A=Math.round(A):A=Math.ceil(A));const M=Math.max(l0(w),l0(_));S=Math.pow(10,de(c)?M:c),_=Math.round(_*S)/S,C=Math.round(C*S)/S;let B=0;for(p&&(m&&_!==i?(r.push({value:i}),_<i&&B++,ks(Math.round((_+B*w)*S)/S,i,sg(i,E,t))&&B++):_<i&&B++);B<A;++B){const H=Math.round((_+B*w)*S)/S;if(h&&H>o)break;r.push({value:H})}return h&&m&&C!==o?r.length&&ks(r[r.length-1].value,o,sg(o,E,t))?r[r.length-1].value=o:r.push({value:o}):(!h||C===o)&&r.push({value:C}),r}function sg(t,e,{horizontal:r,minRotation:a}){const n=xr(a),l=(r?Math.sin(n):Math.cos(n))||.001,i=.75*e*(""+t).length;return Math.min(e/l,i)}class Lw extends An{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:a}=this.getUserBounds();let{min:n,max:l}=this;const i=c=>n=r?n:c,o=c=>l=a?l:c;if(e){const c=lr(n),d=lr(l);c<0&&d<0?o(0):c>0&&d>0&&i(0)}if(n===l){let c=l===0?1:Math.abs(l*.05);o(l+c),e||i(n-c)}this.min=n,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:a}=e,n;return a?(n=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const n={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},l=this._range||this,i=Rw(n,l);return e.bounds==="ticks"&&l1(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const n=(a-r)/Math.max(e.length-1,1)/2;r-=n,a+=n}this._startValue=r,this._endValue=a,this._valueRange=a-r}getLabelForValue(e){return mu(e,this.chart.options.locale,this.options.ticks.format)}}class Bi extends Lw{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Dt(e)?e:0,this.max=Dt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,a=xr(this.options.ticks.minRotation),n=(e?Math.sin(a):Math.cos(a))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,l.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}j(Bi,"id","linear"),j(Bi,"defaults",{ticks:{callback:ap.formatters.numeric}});const oo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nt=Object.keys(oo);function lg(t,e){return t-e}function ig(t,e){if(de(e))return null;const r=t._adapter,{parser:a,round:n,isoWeekday:l}=t._parseOpts;let i=e;return typeof a=="function"&&(i=a(i)),Dt(i)||(i=typeof a=="string"?r.parse(i,a):r.parse(i)),i===null?null:(n&&(i=n==="week"&&(Ks(l)||l===!0)?r.startOf(i,"isoWeek",l):r.startOf(i,n)),+i)}function og(t,e,r,a){const n=nt.length;for(let l=nt.indexOf(t);l<n-1;++l){const i=oo[nt[l]],o=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(o*i.size))<=a)return nt[l]}return nt[n-1]}function Aw(t,e,r,a,n){for(let l=nt.length-1;l>=nt.indexOf(r);l--){const i=nt[l];if(oo[i].common&&t._adapter.diff(n,a,i)>=e-1)return i}return nt[r?nt.indexOf(r):0]}function zw(t){for(let e=nt.indexOf(t)+1,r=nt.length;e<r;++e)if(oo[nt[e]].common)return nt[e]}function cg(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:a,hi:n}=du(r,e),l=r[a]>=e?r[a]:r[n];t[l]=!0}}function Fw(t,e,r,a){const n=t._adapter,l=+n.startOf(e[0].value,a),i=e[e.length-1].value;let o,c;for(o=l;o<=i;o=+n.add(o,1,a))c=r[o],c>=0&&(e[c].major=!0);return e}function dg(t,e,r){const a=[],n={},l=e.length;let i,o;for(i=0;i<l;++i)o=e[i],n[o]=i,a.push({value:o,major:!1});return l===0||!r?a:Fw(t,a,n,r)}class ji extends An{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const a=e.time||(e.time={}),n=this._adapter=new Wk._date(e.adapters.date);n.init(r),vs(a.displayFormats,n.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:ig(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,a=e.time.unit||"day";let{min:n,max:l,minDefined:i,maxDefined:o}=this.getUserBounds();function c(d){!i&&!isNaN(d.min)&&(n=Math.min(n,d.min)),!o&&!isNaN(d.max)&&(l=Math.max(l,d.max))}(!i||!o)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=Dt(n)&&!isNaN(n)?n:+r.startOf(Date.now(),a),l=Dt(l)&&!isNaN(l)?l:+r.endOf(Date.now(),a)+1,this.min=Math.min(n,l-1),this.max=Math.max(n+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],a=e[e.length-1]),{min:r,max:a}}buildTicks(){const e=this.options,r=e.time,a=e.ticks,n=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const l=this.min,i=this.max,o=u1(n,l,i);return this._unit=r.unit||(a.autoSkip?og(r.minUnit,this.min,this.max,this._getLabelCapacity(l)):Aw(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:zw(this._unit),this.initOffsets(n),e.reverse&&o.reverse(),dg(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,a=0,n,l;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?r=1-n:r=(this.getDecimalForValue(e[1])-n)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?a=l:a=(l-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=Je(r,0,i),a=Je(a,0,i),this._offsets={start:r,end:a,factor:1/(r+1+a)}}_generate(){const e=this._adapter,r=this.min,a=this.max,n=this.options,l=n.time,i=l.unit||og(l.minUnit,r,a,this._getLabelCapacity(r)),o=q(n.ticks.stepSize,1),c=i==="week"?l.isoWeekday:!1,d=Ks(c)||c===!0,u={};let g=r,m,f;if(d&&(g=+e.startOf(g,"isoWeek",c)),g=+e.startOf(g,d?"day":i),e.diff(a,r,i)>1e5*o)throw new Error(r+" and "+a+" are too far apart with stepSize of "+o+" "+i);const y=n.ticks.source==="data"&&this.getDataTimestamps();for(m=g,f=0;m<a;m=+e.add(m,o,i),f++)cg(u,m,y);return(m===a||n.bounds==="ticks"||f===1)&&cg(u,m,y),Object.keys(u).sort(lg).map(x=>+x)}getLabelForValue(e){const r=this._adapter,a=this.options.time;return a.tooltipFormat?r.format(e,a.tooltipFormat):r.format(e,a.displayFormats.datetime)}format(e,r){const n=this.options.time.displayFormats,l=this._unit,i=r||n[l];return this._adapter.format(e,i)}_tickFormatFunction(e,r,a,n){const l=this.options,i=l.ticks.callback;if(i)return fe(i,[e,r,a],this);const o=l.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],g=d&&o[d],m=a[r],f=d&&g&&m&&m.major;return this._adapter.format(e,n||(f?g:u))}generateTickLabels(e){let r,a,n;for(r=0,a=e.length;r<a;++r)n=e[r],n.label=this._tickFormatFunction(n.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+a)*r.factor)}getValueForPixel(e){const r=this._offsets,a=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,a=this.ctx.measureText(e).width,n=xr(this.isHorizontal()?r.maxRotation:r.minRotation),l=Math.cos(n),i=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:a*l+o*i,h:a*i+o*l}}_getLabelCapacity(e){const r=this.options.time,a=r.displayFormats,n=a[r.unit]||a.millisecond,l=this._tickFormatFunction(e,0,dg(this,[e],this._majorUnit),n),i=this._getLabelSize(l),o=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,a;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(r=0,a=n.length;r<a;++r)e=e.concat(n[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,a;if(e.length)return e;const n=this.getLabels();for(r=0,a=n.length;r<a;++r)e.push(ig(this,n[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Zh(e.sort(lg))}}j(ji,"id","time"),j(ji,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Bl(t,e,r){let a=0,n=t.length-1,l,i,o,c;r?(e>=t[a].pos&&e<=t[n].pos&&({lo:a,hi:n}=_a(t,"pos",e)),{pos:l,time:o}=t[a],{pos:i,time:c}=t[n]):(e>=t[a].time&&e<=t[n].time&&({lo:a,hi:n}=_a(t,"time",e)),{time:l,pos:o}=t[a],{time:i,pos:c}=t[n]);const d=i-l;return d?o+(c-o)*(e-l)/d:o}class ug extends ji{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Bl(r,this.min),this._tableRange=Bl(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:a}=this,n=[],l=[];let i,o,c,d,u;for(i=0,o=e.length;i<o;++i)d=e[i],d>=r&&d<=a&&n.push(d);if(n.length<2)return[{time:r,pos:0},{time:a,pos:1}];for(i=0,o=n.length;i<o;++i)u=n[i+1],c=n[i-1],d=n[i],Math.round((u+c)/2)!==d&&l.push({time:d,pos:i/(o-1)});return l}_generate(){const e=this.min,r=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(r)||a.length===1)&&a.push(r),a.sort((n,l)=>n-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),a=this.getLabelTimestamps();return r.length&&a.length?e=this.normalize(r.concat(a)):e=r.length?r:a,e=this._cache.all=e,e}getDecimalForValue(e){return(Bl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,a=this.getDecimalForPixel(e)/r.factor-r.end;return Bl(this._table,a*this._tableRange+this._minPos,!0)}}j(ug,"id","timeseries"),j(ug,"defaults",ji.defaults);const Rp="label";function mg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Iw(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function Lp(t,e){t.labels=e}function Ap(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rp;const a=[];t.datasets=e.map(n=>{const l=t.datasets.find(i=>i[r]===n[r]);return!l||!n.data||a.includes(l)?{...n}:(a.push(l),Object.assign(l,n),l)})}function Bw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rp;const r={labels:[],datasets:[]};return Lp(r,t.labels),Ap(r,t.datasets,e),r}function jw(t,e){const{height:r=150,width:a=300,redraw:n=!1,datasetIdKey:l,type:i,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:g,...m}=t,f=b.useRef(null),y=b.useRef(),x=()=>{f.current&&(y.current=new sl(f.current,{type:i,data:Bw(o,l),options:c&&{...c},plugins:d}),mg(e,y.current))},k=()=>{mg(e,null),y.current&&(y.current.destroy(),y.current=null)};return b.useEffect(()=>{!n&&y.current&&c&&Iw(y.current,c)},[n,c]),b.useEffect(()=>{!n&&y.current&&Lp(y.current.config.data,o.labels)},[n,o.labels]),b.useEffect(()=>{!n&&y.current&&o.datasets&&Ap(y.current.config.data,o.datasets,l)},[n,o.datasets]),b.useEffect(()=>{y.current&&(n?(k(),setTimeout(x)):y.current.update(g))},[n,c,o.labels,o.datasets,g]),b.useEffect(()=>{y.current&&(k(),setTimeout(x))},[i]),b.useEffect(()=>(x(),()=>k()),[]),s.createElement("canvas",Object.assign({ref:f,role:"img",height:r,width:a},m),u)}const $w=b.forwardRef(jw);function Eu(t,e){return sl.register(e),b.forwardRef((r,a)=>s.createElement($w,Object.assign({},r,{ref:a,type:t})))}const Vw=Eu("line",ei),id=Eu("bar",Zl),Ww=Eu("doughnut",ls);function wu({currentPage:t,totalItems:e,itemsPerPage:r,onPageChange:a,className:n=""}){const l=Math.ceil(e/r);if(l<=1)return null;const o=(()=>{const u=[];if(l<=5)for(let m=1;m<=l;m++)u.push(m);else{u.push(1);let m=Math.max(2,t-1),f=Math.min(l-1,t+1);m>2&&u.push("...");for(let y=m;y<=f;y++)u.push(y);f<l-1&&u.push("..."),l>1&&u.push(l)}return u})(),c=(t-1)*r+1,d=Math.min(t*r,e);return s.createElement("div",{className:`flex items-center justify-between ${n}`},s.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-300"},"Showing ",s.createElement("span",{className:"font-medium"},c)," to"," ",s.createElement("span",{className:"font-medium"},d)," of"," ",s.createElement("span",{className:"font-medium"},e)," results"),s.createElement("div",{className:"flex items-center gap-1"},s.createElement("button",{onClick:()=>a(t-1),disabled:t===1,className:"px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-300"},"Previous"),o.map((u,g)=>s.createElement(s.Fragment,{key:g},u==="..."?s.createElement("span",{className:"px-3 py-1.5 text-sm text-gray-500 dark:text-gray-400"},"..."):s.createElement("button",{onClick:()=>a(u),className:`px-3 py-1.5 text-sm border rounded ${t===u?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300"}`},u))),s.createElement("button",{onClick:()=>a(t+1),disabled:t===l,className:"px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-300"},"Next")))}function Cn({className:t="w-4 h-4",...e}){return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:t,fill:"white",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-label":"Static DataFrame",title:"Static DataFrame - Never expires, manually deleted only",...e},s.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),s.createElement("path",{d:"M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5"}),s.createElement("path",{d:"M3 12c0 1.66 4.03 3 9 3s9-1.34 9-3"}))}function Xs({className:t="w-4 h-4",...e}){return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:t,fill:"#22C55E",stroke:"#16a34a",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-label":"Ephemeral DataFrame",title:"Ephemeral DataFrame - Auto-deletes after specified hours",...e},s.createElement("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"}),s.createElement("circle",{cx:"8",cy:"8",r:"1"}),s.createElement("circle",{cx:"12",cy:"8",r:"1"}),s.createElement("path",{d:"M7 13c1 1 2.5 1 4 0s3-1 4 0"}))}function qs({className:t="w-4 h-4",...e}){return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:t,fill:"#EF4444",stroke:"#dc2626",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-label":"Temporary DataFrame",title:"Temporary DataFrame - Auto-deletes after 1 hour",...e},s.createElement("path",{d:"M5 2h14"}),s.createElement("path",{d:"M5 22h14"}),s.createElement("path",{d:"M5 2v4a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V2"}),s.createElement("path",{d:"M5 22v-4a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v4"}),s.createElement("path",{d:"M12 9v6"}),s.createElement("circle",{cx:"12",cy:"12",r:"1"}))}function $i({className:t="w-4 h-4",...e}){return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:t,fill:"#3B82F6",stroke:"#2563eb",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-label":"Alien DataFrame",title:"Alien DataFrame - Auto-syncs from ODK Central",...e},s.createElement("circle",{cx:"12",cy:"12",r:"3"}),s.createElement("circle",{cx:"12",cy:"12",r:"8"}),s.createElement("path",{d:"M12 1v6"}),s.createElement("path",{d:"M12 17v6"}),s.createElement("path",{d:"m1 12 6 0"}),s.createElement("path",{d:"m17 12 6 0"}),s.createElement("path",{d:"m4.2 4.2 4.2 4.2"}),s.createElement("path",{d:"m15.6 15.6 4.2 4.2"}),s.createElement("path",{d:"m4.2 19.8 4.2-4.2"}),s.createElement("path",{d:"m15.6 8.4 4.2-4.2"}))}function zp(t,e={}){switch(t){case"static":return s.createElement(Cn,{...e});case"ephemeral":return s.createElement(Xs,{...e});case"temporary":return s.createElement(qs,{...e});case"alien":return s.createElement($i,{...e});default:return s.createElement(Cn,{...e})}}function Hw({open:t,dataframe:e,onConvert:r,onCancel:a,converting:n=!1}){const[l,i]=b.useState((e==null?void 0:e.type)||"static"),[o,c]=b.useState((e==null?void 0:e.auto_delete_hours)||10),[d,u]=b.useState(!1);if(!t||!e)return null;const g=h=>{if(!h)return null;const v=new Date,w=new Date(h).getTime()-v.getTime();if(w<=0)return"Expired";const S=Math.floor(w/(1e3*60*60)),_=Math.floor(w%(1e3*60*60)/(1e3*60));return S>0?`${S}h ${_}m`:`${_}m`},m=(h,v)=>{const E=new Date;switch(h){case"static":return null;case"temporary":return new Date(E.getTime()+36e5);case"ephemeral":return new Date(E.getTime()+v*36e5);default:return null}},f=()=>{const h=e.type||"static";if(h==="static")return!1;if(h==="ephemeral"&&l==="temporary"&&e.expires_at){const v=new Date(e.expires_at),E=new Date(Date.now()+36e5);return v>E}if(h==="ephemeral"&&l==="ephemeral"){const v=e.auto_delete_hours||10;return o<v}return!1},y=()=>{if(f()&&!d){u(!0);return}const h={type:l};l==="ephemeral"&&(h.auto_delete_hours=o),r(e.name,h)},x=()=>{u(!1),a()},k=e.expires_at?new Date(e.expires_at):null,p=m(l,o);return s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:x},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg",onClick:h=>h.stopPropagation()},s.createElement("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600"},s.createElement("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Convert DataFrame Type"),s.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1"},'Change the lifecycle policy for "',e.name,'"')),s.createElement("div",{className:"px-6 py-4 space-y-4"},s.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},s.createElement("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Current Type"),s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-lg"},e.type==="static"&&s.createElement(Cn,null),e.type==="ephemeral"&&s.createElement(Xs,null),e.type==="temporary"&&s.createElement(qs,null)),s.createElement("div",null,s.createElement("span",{className:"font-medium capitalize"},e.type||"static"),k&&s.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400"},"Expires in ",g(e.expires_at)," (",k.toLocaleString(),")"),!k&&e.type==="static"&&s.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400"},"Never expires")))),s.createElement("div",null,s.createElement("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Convert To"),s.createElement("div",{className:"space-y-3"},["static","ephemeral","temporary"].map(h=>s.createElement("label",{key:h,className:"flex items-start gap-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700"},s.createElement("input",{type:"radio",name:"type",value:h,checked:l===h,onChange:v=>i(v.target.value),className:"mt-1"}),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-lg"},h==="static"&&s.createElement(Cn,null),h==="ephemeral"&&s.createElement(Xs,null),h==="temporary"&&s.createElement(qs,null)),s.createElement("div",null,s.createElement("div",{className:"font-medium capitalize"},h),s.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400"},h==="static"&&"Never expires, manually deleted only",h==="temporary"&&"Auto-deletes after 1 hour",h==="ephemeral"&&"Auto-deletes after specified hours"))))))),l==="ephemeral"&&s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Auto-delete after (hours)"),s.createElement("input",{type:"number",min:"1",max:"168",value:o,onChange:h=>c(Math.max(1,parseInt(h.target.value)||1)),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:focus:border-indigo-400 dark:focus:ring-indigo-400 text-sm px-3 py-2"})),l!==e.type&&s.createElement("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},s.createElement("h5",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1"},"After Conversion"),s.createElement("div",{className:"text-sm text-blue-700 dark:text-blue-300"},p?s.createElement(s.Fragment,null,"Expires: ",p.toLocaleString()):s.createElement(s.Fragment,null,"Never expires"))),f()&&!d&&s.createElement("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800"},s.createElement("div",{className:"flex"},s.createElement("svg",{className:"h-5 w-5 text-orange-400 dark:text-orange-300 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},s.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})),s.createElement("div",null,s.createElement("h6",{className:"text-sm font-medium text-orange-800 dark:text-orange-200"},"Shorter expiration time"),s.createElement("p",{className:"text-xs text-orange-700 dark:text-orange-300 mt-1"},"This conversion will reduce the time before the DataFrame expires and is automatically deleted.")))),d&&s.createElement("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800"},s.createElement("div",{className:"flex"},s.createElement("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})),s.createElement("div",null,s.createElement("h6",{className:"text-sm font-medium text-red-800 dark:text-red-200"},"Confirm type conversion"),s.createElement("p",{className:"text-xs text-red-700 dark:text-red-300 mt-1"},"Are you sure you want to shorten the expiration time? This action cannot be undone."))))),s.createElement("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-600 flex items-center justify-end gap-3"},s.createElement("button",{onClick:x,disabled:n,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"},"Cancel"),s.createElement("button",{onClick:y,disabled:n||l===e.type,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"},n?"Converting...":d?"Confirm Convert":"Convert Type"))))}function Uw({isOpen:t,onClose:e,onSubmit:r}){const[a,n]=b.useState({name:"",description:"",serverUrl:"",projectId:"",formId:"",username:"",password:"",syncFrequency:60}),[l,i]=b.useState(!1),[o,c]=b.useState(""),d=g=>{const{name:m,value:f}=g.target;n(y=>({...y,[m]:f}))},u=async g=>{g.preventDefault(),i(!0),c("");try{const m={server_url:a.serverUrl,project_id:a.projectId,form_id:a.formId,username:a.username,password:a.password};await r({name:a.name,description:a.description,odk_config:m,sync_frequency:parseInt(a.syncFrequency)}),n({name:"",description:"",serverUrl:"",projectId:"",formId:"",username:"",password:"",syncFrequency:60}),e()}catch(m){c(m.message||"Failed to create alien DataFrame")}finally{i(!1)}};return t?s.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-5 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto"},s.createElement("div",{className:"flex items-center gap-3 mb-3"},s.createElement($i,{className:"w-6 h-6"}),s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white"},"Create Alien DataFrame")),o&&s.createElement("div",{className:"mb-3 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md"},s.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},o)),s.createElement("form",{onSubmit:u,className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"DataFrame Name *"),s.createElement("input",{type:"text",name:"name",value:a.name,onChange:d,required:!0,className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"my_alien_dataframe"})),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Description"),s.createElement("textarea",{name:"description",value:a.description,onChange:d,rows:1,className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"Data from ODK Central survey..."})),s.createElement("div",{className:"border-t dark:border-gray-600 pt-3"},s.createElement("h3",{className:"font-medium text-gray-900 dark:text-white mb-2"},"ODK Central Configuration"),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Server URL *"),s.createElement("input",{type:"url",name:"serverUrl",value:a.serverUrl,onChange:d,required:!0,className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"https://central.example.com"})),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Project ID *"),s.createElement("input",{type:"text",name:"projectId",value:a.projectId,onChange:d,required:!0,className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"1"})),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Form ID *"),s.createElement("input",{type:"text",name:"formId",value:a.formId,onChange:d,required:!0,className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"survey_form"})),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Username *"),s.createElement("input",{type:"text",name:"username",value:a.username,onChange:d,required:!0,className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"ODK Central username"})),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Password *"),s.createElement("input",{type:"password",name:"password",value:a.password,onChange:d,required:!0,className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"ODK Central password"}))),s.createElement("div",{className:"border-t dark:border-gray-600 pt-3"},s.createElement("h3",{className:"font-medium text-gray-900 dark:text-white mb-2"},"Sync Settings"),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Sync Frequency (minutes)"),s.createElement("select",{name:"syncFrequency",value:a.syncFrequency,onChange:d,className:"w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"},s.createElement("option",{value:15},"Every 15 minutes"),s.createElement("option",{value:60},"Every hour"),s.createElement("option",{value:360},"Every 6 hours"),s.createElement("option",{value:1440},"Every 24 hours")))),s.createElement("div",{className:"flex gap-3 pt-3"},s.createElement("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:l},"Cancel"),s.createElement("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-md hover:bg-blue-700 dark:hover:bg-blue-600 disabled:opacity-50 transition-colors"},l?"Creating...":"Create DataFrame"))))):null}const Yw=()=>typeof window<"u"&&window.APP_CONFIG&&window.APP_CONFIG.API_BASE_URL?window.APP_CONFIG.API_BASE_URL:"http://localhost:4999",ae=()=>Yw(),Kw="dataframe-api-internal-key",ne=(t={})=>({"X-API-Key":Kw,...t}),Gw=async()=>{const t=await fetch(`${ae()}/api/stats`,{headers:ne()});if(!t.ok)throw new Error(`Failed stats: ${t.status}`);return t.json()},co=async()=>{const t=await fetch(`${ae()}/api/dataframes`,{headers:ne()});if(!t.ok)throw new Error(`Failed list: ${t.status}`);return t.json()},Nu=async(t,{page:e=1,page_size:r=100,preview:a=!1}={})=>{const n=new URLSearchParams;n.set("page",String(e)),n.set("page_size",String(r)),n.set("preview",String(a));const l=await fetch(`${ae()}/api/dataframes/${encodeURIComponent(t)}?${n.toString()}`,{headers:ne()});if(!l.ok)throw new Error(`Failed get df: ${l.status}`);return l.json()},Qw=async t=>{const e=await fetch(`${ae()}/api/dataframes/${encodeURIComponent(t)}`,{method:"DELETE",headers:ne()});if(!e.ok)throw new Error(`Failed delete: ${e.status}`);return e.json()},Jw=async()=>{const t=await fetch(`${ae()}/api/cache/clear`,{method:"DELETE",headers:ne()});if(!t.ok)throw new Error(`Failed clear: ${t.status}`);return t.json()},Xw=async({file:t,name:e,description:r,type:a="ephemeral",auto_delete_hours:n=10})=>{const l=new FormData;e&&l.set("name",e),r&&l.set("description",r),l.set("type",a),a==="ephemeral"&&l.set("auto_delete_hours",n.toString()),l.set("file",t);const i=await fetch(`${ae()}/api/dataframes/upload`,{method:"POST",body:l,headers:ne()});if(!i.ok){const o=await i.text();throw new Error(`Upload failed: ${i.status} ${o}`)}return i.json()},qw=async(t,{new_name:e,description:r}={})=>{const a={};e&&e.trim()&&(a.new_name=e.trim()),typeof r=="string"&&(a.description=r);const n=await fetch(`${ae()}/api/dataframes/${encodeURIComponent(t)}/rename`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify(a)});if(!n.ok){let l=`Rename failed: ${n.status}`;try{const i=await n.text();i&&(l+=` ${i}`)}catch{}throw new Error(l)}return n.json()},Zw=async(t,{type:e,auto_delete_hours:r}={})=>{const a={type:e};e==="ephemeral"&&r!==void 0&&(a.auto_delete_hours=r);const n=await fetch(`${ae()}/api/dataframes/${encodeURIComponent(t)}/type`,{method:"PATCH",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify(a)});if(!n.ok){let l=`Type conversion failed: ${n.status}`;try{const i=await n.text();i&&(l+=` ${i}`)}catch{}throw new Error(l)}return n.json()},Fp=t=>`${ae()}/api/dataframes/${encodeURIComponent(t)}/download.csv`,e2=t=>`${ae()}/api/dataframes/${encodeURIComponent(t)}/download.json`,t2=async t=>{const e=await fetch(`${ae()}/api/dataframes/${encodeURIComponent(t)}/profile`,{headers:ne()});if(!e.ok)throw new Error(`Failed profile: ${e.status}`);return e.json()},r2=async({name1:t,name2:e,engine:r="pandas"})=>{const a=await fetch(`${ae()}/api/ops/compare`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({name1:t,name2:e,engine:r})});if(!a.ok)throw new Error(`Compare failed: ${a.status}`);return a.json()},a2=async({names:t,keys:e,how:r,engine:a="pandas",left_on:n,right_on:l})=>{const i=await fetch(`${ae()}/api/ops/merge`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({names:t,keys:e,how:r,engine:a,left_on:n,right_on:l})});if(!i.ok)throw new Error(`Merge failed: ${i.status}`);return i.json()},gg=async t=>{const e={engine:"pandas",...t},r=await fetch(`${ae()}/api/ops/pivot`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!r.ok)throw new Error(`Pivot failed: ${r.status}`);return r.json()},n2=async t=>{const e={engine:"pandas",...t},r=await fetch(`${ae()}/api/ops/filter`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!r.ok)throw new Error(`Filter failed: ${r.status}`);return r.json()},s2=async t=>{const e={engine:"pandas",...t},r=await fetch(`${ae()}/api/ops/groupby`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!r.ok)throw new Error(`GroupBy failed: ${r.status}`);return r.json()},l2=async({name:t,columns:e,exclude:r,engine:a="pandas"})=>{const n=await fetch(`${ae()}/api/ops/select`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({name:t,columns:e,engine:a,...r?{exclude:!0}:{}})});if(!n.ok)throw new Error(`Select failed: ${n.status}`);return n.json()},i2=async({name:t,map:e,engine:r="pandas"})=>{const a=await fetch(`${ae()}/api/ops/rename`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({name:t,map:e,engine:r})});if(!a.ok)throw new Error(`Rename failed: ${a.status}`);return a.json()},o2=async t=>{const e={engine:"pandas",...t},r=await fetch(`${ae()}/api/ops/datetime`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!r.ok){const a=await r.text();throw new Error(`Datetime op failed: ${r.status} ${a}`)}return r.json()},c2=async t=>{const e={engine:"pandas",...t},r=await fetch(`${ae()}/api/ops/mutate`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!r.ok){const a=await r.text();throw new Error(`Mutate failed: ${r.status} ${a}`)}return r.json()},Ip=async({start:t,steps:e,preview_rows:r=20,engine:a="pandas"})=>{const n=await fetch(`${ae()}/api/pipeline/preview`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({start:t,steps:e,preview_rows:r,engine:a})});if(!n.ok)throw new Error(`Pipeline preview failed: ${n.status}`);return n.json()},Bp=async({start:t,steps:e,materialize:r=!0,name:a,engine:n="pandas"})=>{const l=await fetch(`${ae()}/api/pipeline/run`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({start:t,steps:e,materialize:r,name:a,engine:n})});if(!l.ok)throw new Error(`Pipeline run failed: ${l.status}`);return l.json()},jp=async()=>{const t=await fetch(`${ae()}/api/pipelines`,{headers:ne()});if(!t.ok)throw new Error(`Pipelines list failed: ${t.status}`);return t.json()},ni=async t=>{const e=await fetch(`${ae()}/api/pipelines/${encodeURIComponent(t)}`,{headers:ne()});if(!e.ok)throw new Error(`Pipeline get failed: ${e.status}`);return e.json()},$p=async({name:t,description:e,start:r=null,steps:a,tags:n},{overwrite:l=!1}={})=>{const i={name:t,description:e,start:r,steps:a,tags:n,overwrite:l},o=await fetch(`${ae()}/api/pipelines`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify(i)});if(!o.ok){const c=await o.text();throw new Error(`Pipeline save failed: ${o.status} ${c}`)}return o.json()},Vp=async t=>{const e=await fetch(`${ae()}/api/pipelines/${encodeURIComponent(t)}`,{method:"DELETE",headers:ne()});if(!e.ok)throw new Error(`Pipeline delete failed: ${e.status}`);return e.json()},Wp=async(t,{materialize:e=!0,outName:r,engine:a="pandas"}={})=>{const n=await fetch(`${ae()}/api/pipelines/${encodeURIComponent(t)}/run`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({materialize:e,name:r,engine:a})});if(!n.ok)throw new Error(`Pipeline run failed: ${n.status}`);return n.json()},Hp=t=>`${ae()}/api/pipelines/${encodeURIComponent(t)}/export.yml`,d2=async({yaml:t,overwrite:e=!1})=>{const r=await fetch(`${ae()}/api/pipelines/import`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({yaml:t,overwrite:e})});if(!r.ok){const a=await r.text();throw new Error(`Pipeline import failed: ${r.status} ${a}`)}return r.json()},fg=async({steps:t,start:e=null})=>{const r=await fetch(`${ae()}/api/pipeline/export/r`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({steps:t,start:e})});if(!r.ok){const a=await r.text();throw new Error(`R export failed: ${r.status} ${a}`)}return r.text()},hg=async({steps:t,start:e=null})=>{const r=await fetch(`${ae()}/api/pipeline/export/python`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify({steps:t,start:e})});if(!r.ok){const a=await r.text();throw new Error(`Python export failed: ${r.status} ${a}`)}return r.text()},u2=async({name:t,description:e,odk_config:r,sync_frequency:a=60})=>{const n={name:t,description:e,odk_config:r,sync_frequency:a},l=await fetch(`${ae()}/api/dataframes/alien/create`,{method:"POST",headers:ne({"Content-Type":"application/json"}),body:JSON.stringify(n)});if(!l.ok){const i=await l.text();throw new Error(`Alien DataFrame creation failed: ${l.status} ${i}`)}return l.json()},m2=async t=>{const e=await fetch(`${ae()}/api/dataframes/alien/${encodeURIComponent(t)}/sync`,{method:"POST",headers:ne({"Content-Type":"application/json"})});if(!e.ok){const r=await e.text();throw new Error(`Alien DataFrame sync failed: ${e.status} ${r}`)}return e.json()};sl.register(Ns,Ii,Bi,os,cs,ai,Tp,Dp);function g2(){const[t,e]=b.useState(0),[r,a]=b.useState(!0),n=[{icon:"📊",title:"Interactive Data Analysis",description:"Explore your DataFrames with powerful visualization tools and real-time charts"},{icon:"🔗",title:"Pipeline Operations",description:"Chain multiple operations together to create complex data transformation workflows"},{icon:"⚡",title:"Lightning Fast Processing",description:"Built on Apache Spark for blazing fast distributed data processing"},{icon:"🎨",title:"Beautiful Interface",description:"Modern, intuitive UI with dark/light modes and responsive design"},{icon:"🔄",title:"Real-time Previews",description:"See your data transformations instantly with live preview capabilities"},{icon:"💾",title:"Multiple Formats",description:"Import and export CSV, Excel, JSON files with automatic schema detection"}];b.useEffect(()=>{const i=setInterval(()=>{a(!1),setTimeout(()=>{e(o=>(o+1)%n.length),a(!0)},300)},4e3);return()=>clearInterval(i)},[n.length]);const l=n[t];return s.createElement("div",{className:"bg-gradient-to-r from-indigo-50 via-white to-cyan-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-xl p-8 shadow-lg border border-indigo-100 dark:border-gray-600 min-h-[150px]"},s.createElement("div",{className:"flex items-center gap-6 h-full"},s.createElement("div",{className:`text-5xl transition-all duration-300 ${r?"scale-100 rotate-0":"scale-75 rotate-12"}`},l.icon),s.createElement("div",{className:"flex-1 space-y-3"},s.createElement("h3",{className:`text-xl font-semibold text-gray-900 dark:text-gray-100 transition-all duration-300 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`},l.title),s.createElement("p",{className:`text-gray-600 dark:text-gray-300 text-lg leading-relaxed transition-all duration-300 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`},l.description)),s.createElement("div",{className:"flex flex-col gap-2"},n.map((i,o)=>s.createElement("div",{key:o,className:`w-3 h-3 rounded-full transition-all duration-300 ${o===t?"bg-indigo-500 scale-125":"bg-gray-300 dark:bg-gray-500"}`})))))}function f2(){const[t,e]=b.useState(""),[r,a]=b.useState(!1),n=b.useRef(null);return{msg:t,visible:r,show:(i,o=2500)=>{e(i),a(!0),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>a(!1),o)}}}function pg({open:t,title:e,onClose:r,blockClose:a=!1,children:n}){if(!t)return null;const l=o=>{a||r()},i=()=>{a||r()};return s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:l},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-6xl max-h-[85vh] flex flex-col",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"px-5 py-3 border-b border-gray-200 dark:border-gray-600 flex items-center justify-between"},s.createElement("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100"},e),s.createElement("button",{onClick:i,disabled:a,className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Close"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),s.createElement("div",{className:"overflow-auto px-5 py-4"},n)))}function h2({open:t,title:e="Confirm action",message:r="Are you sure?",confirmText:a="Confirm",cancelText:n="Cancel",confirming:l=!1,onConfirm:i,onCancel:o}){if(!t)return null;const c=u=>{l||o()},d=()=>{l||o()};return s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:c},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",onClick:u=>u.stopPropagation()},s.createElement("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-600"},s.createElement("h4",{className:"text-base font-semibold text-gray-900 dark:text-gray-100"},e)),s.createElement("div",{className:"px-5 py-4 text-sm text-gray-700 dark:text-gray-300"},r),s.createElement("div",{className:"px-5 py-3 border-t border-gray-200 dark:border-gray-600 flex items-center justify-end gap-2"},s.createElement("button",{onClick:d,disabled:l,className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed"},n),s.createElement("button",{disabled:l,onClick:i,className:"px-3 py-1.5 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-50"},l?"Working…":a))))}function p2(){const[t,e]=b.useState({dataframe_count:0,total_size_mb:0}),[r,a]=b.useState([]),[n,l]=b.useState(!1),[i,o]=b.useState(1),c=parseInt("15",10),[d,u]=b.useState(""),[g,m]=b.useState("timestamp"),[f,y]=b.useState("desc"),[x,k]=b.useState(""),[p,h]=b.useState(""),[v,E]=b.useState(null),[w,S]=b.useState(!1),[_,C]=b.useState("ephemeral"),[A,M]=b.useState(10),[B,H]=b.useState(30),[X,ie]=b.useState(!1),[K,Q]=b.useState(null),[ee,D]=b.useState(!1),[L,W]=b.useState("DataFrame Viewer"),[V,J]=b.useState(null),[Le,pe]=b.useState([]),[Ae,ue]=b.useState([]),[dt,Kt]=b.useState(!1),[$a,Va]=b.useState("Confirm action"),[ut,Cr]=b.useState("Are you sure?"),[Pr,or]=b.useState(!1),Mr=b.useRef(null),[Wa,kt]=b.useState(!1),[Gt,Ha]=b.useState(""),[Dr,Ot]=b.useState(""),[Qt,Tt]=b.useState(""),[mt,R]=b.useState(!1),[Y,ye]=b.useState(!1),[gt,O]=b.useState(null),[F,U]=b.useState(!1),[ve,oe]=b.useState(!1),[Be,fa]=b.useState({}),ke=f2(),uo=_r(),Rt=P=>zp(P),zn=()=>r.some(P=>P.type==="ephemeral"||P.type==="temporary"),Or=async()=>{const P=await Gw();P.success&&e(P.stats)},Lt=async()=>{l(!0);try{const P=await co();P.success&&(a(P.dataframes||[]),o(1),Q(new Date))}finally{l(!1)}};b.useEffect(()=>{let P;return X&&zn()&&(P=setInterval(()=>{Lt()},B*1e3)),()=>{P&&clearInterval(P)}},[X,B,r]),b.useEffect(()=>{zn()&&!X&&ie(!0)},[r]);const Tr=s.useMemo(()=>{let P=r;return d.trim()&&(P=P.filter(Pe=>Pe.name.toLowerCase().includes(d.toLowerCase()))),[...P].sort((Pe,zt)=>{let xe,Ee;if(g==="name")xe=(Pe.name||"").toLowerCase(),Ee=(zt.name||"").toLowerCase();else if(g==="timestamp"){const jn=Pe.timestamp&&!isNaN(new Date(Pe.timestamp).getTime())?new Date(Pe.timestamp):new Date(0),ol=zt.timestamp&&!isNaN(new Date(zt.timestamp).getTime())?new Date(zt.timestamp):new Date(0);xe=jn.getTime(),Ee=ol.getTime()}else g==="size_mb"&&(xe=Pe.size_mb||0,Ee=zt.size_mb||0);return f==="asc"?xe<Ee?-1:xe>Ee?1:0:xe>Ee?-1:xe<Ee?1:0})},[r,d,g,f]),Rr=Tr.length,Ua=(i-1)*c,mo=Ua+c,go=Tr.slice(Ua,mo),At=P=>{o(P)},Fn=P=>{g===P?y(f==="asc"?"desc":"asc"):(m(P),y("desc")),o(1)},Et=s.useMemo(()=>{if(r.length===0)return null;const P={"Small (<1MB)":0,"Medium (1-10MB)":0,"Large (10-100MB)":0,"XLarge (>100MB)":0};r.forEach(xe=>{const Ee=xe.size_mb||0;Ee<1?P["Small (<1MB)"]++:Ee<10?P["Medium (1-10MB)"]++:Ee<100?P["Large (10-100MB)"]++:P["XLarge (>100MB)"]++});const G={"Tiny (<1K)":0,"Small (1K-10K)":0,"Medium (10K-100K)":0,"Large (>100K)":0};r.forEach(xe=>{const Ee=xe.rows||0;Ee<1e3?G["Tiny (<1K)"]++:Ee<1e4?G["Small (1K-10K)"]++:Ee<1e5?G["Medium (10K-100K)"]++:G["Large (>100K)"]++});const Pe=new Date,zt=[];for(let xe=6;xe>=0;xe--){const Ee=new Date(Pe);Ee.setDate(Ee.getDate()-xe),zt.push({date:Ee.toISOString().split("T")[0],label:Ee.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),count:0})}return r.forEach(xe=>{if(xe.timestamp&&!isNaN(new Date(xe.timestamp).getTime())){const Ee=new Date(xe.timestamp).toISOString().split("T")[0],jn=zt.find(ol=>ol.date===Ee);jn&&jn.count++}}),{sizeDistribution:{labels:Object.keys(P),datasets:[{data:Object.values(P),backgroundColor:["#10b981","#3b82f6","#f59e0b","#ef4444"],borderColor:["#059669","#2563eb","#d97706","#dc2626"],borderWidth:2}]},rowsDistribution:{labels:Object.keys(G),datasets:[{label:"DataFrames",data:Object.values(G),backgroundColor:"rgba(99, 102, 241, 0.8)",borderColor:"rgb(99, 102, 241)",borderWidth:1}]},recentActivity:{labels:zt.map(xe=>xe.label),datasets:[{label:"DataFrames Created",data:zt.map(xe=>xe.count),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.4,fill:!0}]}}},[r]);b.useEffect(()=>{Or(),Lt()},[]);const Ya=P=>{var G,Pe;P.preventDefault(),(Pe=(G=P.dataTransfer)==null?void 0:G.files)!=null&&Pe.length&&E(P.dataTransfer.files[0])},In=async P=>{if(P.preventDefault(),!v)return ke.show("Please choose a file to upload");S(!0);try{await Xw({file:v,name:x.trim(),description:p.trim(),type:_,auto_delete_hours:A}),k(""),h(""),E(null),ke.show("Upload successful"),await Or(),await Lt()}catch(G){ke.show(G.message||"Upload failed")}finally{S(!1)}},fo=async P=>{try{await u2(P),ke.show("Alien DataFrame created successfully"),await Or(),await Lt()}catch(G){throw G}},Lr=async P=>{fa(G=>({...G,[P]:!0}));try{await m2(P),ke.show(`Alien DataFrame "${P}" synced successfully`),await Lt()}catch(G){ke.show(G.message||"Sync failed")}finally{fa(G=>({...G,[P]:!1}))}},ll=({title:P,message:G,action:Pe})=>{Va(P),Cr(G),Mr.current=Pe,Kt(!0)},ho=async()=>{if(Mr.current){or(!0);try{await Mr.current(),Kt(!1)}finally{or(!1)}}},ha=()=>ll({title:"Clear all cached DataFrames",message:"This will permanently delete all cached DataFrames. Do you want to continue?",action:async()=>{try{await Jw(),ke.show("Cache cleared"),await Or(),await Lt()}catch(P){ke.show(P.message||"Failed to clear cache")}}}),po=P=>ll({title:`Delete DataFrame “${P}”`,message:"This action cannot be undone. Do you want to delete this DataFrame?",action:async()=>{try{await Qw(P),ke.show("Deleted"),await Or(),await Lt()}catch(G){ke.show(G.message||"Delete failed")}}}),Bn=async P=>{D(!0),W(`DataFrame: ${P}`),J(null),pe([]),ue([]);try{const G=await Nu(P,{preview:!0});G.success&&(J(G.metadata),pe(G.columns||[]),ue(G.preview||[]))}catch(G){ke.show(G.message||"Failed to load dataframe")}},yo=async P=>{try{await navigator.clipboard.writeText(P),ke.show("Link copied")}catch{ke.show("Copy failed")}},xo=P=>{O(P),ye(!0)},il=async(P,G)=>{U(!0);try{(await Zw(P,G)).success&&(ke.show(`DataFrame type converted to ${G.type}`),await Lt(),ye(!1),O(null))}catch(Pe){ke.show(Pe.message||"Type conversion failed")}finally{U(!1)}},Su=()=>{ye(!1),O(null)},_u=P=>{Ha(P.name),Ot(P.name),Tt(P.description||""),kt(!0)},Cu=async()=>{if(Gt){R(!0);try{await qw(Gt,{new_name:Dr,description:Qt}),kt(!1),ke.show("Updated successfully"),await Lt(),await Or()}catch(P){ke.show(P.message||"Update failed")}finally{R(!1)}}};return s.createElement("div",{className:"bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 min-h-screen text-gray-900 dark:text-gray-100 transition-colors flex flex-col"},s.createElement(ga,{title:"Spark test visualizer"}),s.createElement("main",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6 flex-grow"},s.createElement(g2,null),s.createElement("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},s.createElement("div",{className:"rounded-xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 text-white p-6 shadow-lg"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("div",{className:"text-3xl font-bold"},t.dataframe_count),s.createElement("div",{className:"text-white/80 font-medium"},"DataFrames"),s.createElement("div",{className:"text-white/60 text-sm"},"Cached in memory")),s.createElement("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"}))))),s.createElement("div",{className:"rounded-xl bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-500 text-white p-6 shadow-lg"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("div",{className:"text-3xl font-bold"},t.total_size_mb),s.createElement("div",{className:"text-white/80 font-medium"},"MB Total"),s.createElement("div",{className:"text-white/60 text-sm"},"Memory usage")),s.createElement("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M3 4a1 1 0 000 2h11.586l-2.293 2.293a1 1 0 101.414 1.414l4-4a1 1 0 000-1.414l-4-4a1 1 0 10-1.414 1.414L14.586 4H3zM3 11a1 1 0 100 2h3.586l-2.293 2.293a1 1 0 101.414 1.414l4-4a1 1 0 000-1.414l-4-4a1 1 0 10-1.414 1.414L7.586 11H3z"}))))),s.createElement("div",{className:"rounded-xl bg-gradient-to-br from-orange-400 via-red-400 to-pink-400 text-white p-6 shadow-lg"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("div",{className:"text-3xl font-bold"},r.reduce((P,G)=>P+(G.rows||0),0).toLocaleString()),s.createElement("div",{className:"text-white/80 font-medium"},"Total Rows"),s.createElement("div",{className:"text-white/60 text-sm"},"Across all DataFrames")),s.createElement("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))))),s.createElement("div",{className:"rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-indigo-500 text-white p-6 shadow-lg"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("div",{className:"text-3xl font-bold"},r.reduce((P,G)=>Math.max(P,G.cols||0),0)),s.createElement("div",{className:"text-white/80 font-medium"},"Max Columns"),s.createElement("div",{className:"text-white/60 text-sm"},"Widest DataFrame")),s.createElement("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})))))),Et&&s.createElement("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Size Distribution"),s.createElement("div",{className:"h-64"},s.createElement(Ww,{data:Et.sizeDistribution,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}}}))),s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Row Count Distribution"),s.createElement("div",{className:"h-64"},s.createElement(id,{data:Et.rowsDistribution,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}}))),s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Recent Activity"),s.createElement("div",{className:"h-64"},s.createElement(Vw,{data:Et.recentActivity,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})))),s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Upload DataFrame")),s.createElement("form",{onSubmit:In,className:"space-y-4"},s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"DataFrame Name"),s.createElement("input",{value:x,onChange:P=>k(P.target.value),type:"text",placeholder:"Optional",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Description"),s.createElement("input",{value:p,onChange:P=>h(P.target.value),type:"text",placeholder:"Optional",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"}))),s.createElement("div",{className:"space-y-3"},s.createElement("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"DataFrame Type"),s.createElement("div",{className:"space-y-2"},s.createElement("label",{className:"flex items-center"},s.createElement("input",{type:"radio",name:"dataframeType",value:"static",checked:_==="static",onChange:P=>C(P.target.value),className:"form-radio h-4 w-4 text-indigo-600 dark:text-indigo-400"}),s.createElement("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2"},s.createElement(Cn,null),s.createElement("span",{className:"font-medium"},"Static")," - Never expires, manually deleted only")),s.createElement("label",{className:"flex items-center"},s.createElement("input",{type:"radio",name:"dataframeType",value:"ephemeral",checked:_==="ephemeral",onChange:P=>C(P.target.value),className:"form-radio h-4 w-4 text-indigo-600 dark:text-indigo-400"}),s.createElement("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2"},s.createElement(Xs,null),s.createElement("span",{className:"font-medium"},"Ephemeral")," - Auto-deletes after specified hours")),s.createElement("label",{className:"flex items-center"},s.createElement("input",{type:"radio",name:"dataframeType",value:"temporary",checked:_==="temporary",onChange:P=>C(P.target.value),className:"form-radio h-4 w-4 text-indigo-600 dark:text-indigo-400"}),s.createElement("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2"},s.createElement(qs,null),s.createElement("span",{className:"font-medium"},"Temporary")," - Auto-deletes after 1 hour")),s.createElement("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-200 dark:border-blue-800"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement($i,null),s.createElement("div",null,s.createElement("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200"},"Alien"),s.createElement("span",{className:"text-xs text-blue-600 dark:text-blue-300 block"},"Auto-syncs from ODK Central"))),s.createElement("button",{type:"button",onClick:()=>oe(!0),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},"Create Alien"))),_==="ephemeral"&&s.createElement("div",{className:"ml-6"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Auto-delete after (hours)"),s.createElement("input",{type:"number",min:"1",max:"168",value:A,onChange:P=>M(parseInt(P.target.value)||10),className:"mt-1 block w-32 rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"})))),s.createElement("div",{onDragOver:P=>P.preventDefault(),onDrop:Ya,onClick:()=>document.getElementById("file-input").click(),className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-indigo-400 dark:hover:border-indigo-500 transition cursor-pointer bg-gray-50 dark:bg-gray-700"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-10 w-10 text-gray-400 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M3 3a2 2 0 00-2 2v3h2V5h12v3h2V5a2 2 0 00-2-2H3z"}),s.createElement("path",{d:"M3 9h14v6a2 2 0 01-2 2H5a2 2 0 01-2-2V9zm7 1a1 1 0 00-1 1v2H8l3 3 3-3h-1v-2a1 1 0 00-1-1h-2z"})),s.createElement("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300"},"Drop files here or click to browse"),s.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},"CSV, Excel (.xlsx, .xls), JSON"),v&&s.createElement("div",{className:"mt-2 text-xs text-gray-700 dark:text-gray-300"},"Selected: ",s.createElement("span",{className:"font-medium"},v.name))),s.createElement("input",{id:"file-input",className:"hidden",type:"file",accept:".csv,.xlsx,.xls,.json",onChange:P=>{var G;return E(((G=P.target.files)==null?void 0:G[0])||null)}}),s.createElement("button",{disabled:w,className:"inline-flex items-center px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M3 3a2 2 0 00-2 2v3h2V5h12v3h2V5a2 2 0 00-2-2H3z"}),s.createElement("path",{d:"M3 9h14v6a2 2 0 01-2 2H5a2 2 0 01-2-2V9zm7 1a1 1 0 00-1 1v2H8l3 3 3-3h-1v-2a1 1 0 00-1-1h-2z"})),w?"Uploading…":"Upload DataFrame"))),s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg"},s.createElement("div",{className:"p-6 border-b border-gray-200 dark:border-gray-600 flex items-center justify-between"},s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Cached DataFrames"),s.createElement("div",{className:"flex items-center gap-2"},zn()&&s.createElement("div",{className:"flex items-center gap-2 mr-4 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"},s.createElement("label",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300"},s.createElement("input",{type:"checkbox",checked:X,onChange:P=>ie(P.target.checked),className:"mr-2 rounded border-gray-300 dark:border-gray-600"}),"Auto-refresh"),X&&s.createElement("select",{value:B,onChange:P=>H(parseInt(P.target.value)),className:"text-sm border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},s.createElement("option",{value:15},"15s"),s.createElement("option",{value:30},"30s"),s.createElement("option",{value:60},"1m"),s.createElement("option",{value:300},"5m")),K&&s.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2"},"Last: ",K.toLocaleTimeString())),s.createElement("button",{onClick:()=>{Or(),Lt()},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Refresh list"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}))),s.createElement("button",{onClick:ha,className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 transition-colors",title:"Clear all cache"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M6 8a1 1 0 011 1v7a1 1 0 11-2 0V9a1 1 0 011-1zm4 0a1 1 0 011 1v7a1 1 0 11-2 0V9a1 1 0 011-1zm5-3h-3.5l-1-1h-3l-1 1H3v2h14V5z"}),s.createElement("path",{d:"M5 7h10l-1 10a2 2 0 01-2 2H8a2 2 0 01-2-2L5 7z"}))))),s.createElement("div",{className:"p-6 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50"},s.createElement("div",{className:"flex items-end gap-4"},s.createElement("div",{className:"flex-1"},s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Filter by name"),s.createElement("input",{type:"text",value:d,onChange:P=>{u(P.target.value),o(1)},placeholder:"Search dataframes...",className:"block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:focus:border-indigo-400 dark:focus:ring-indigo-400 text-sm px-3 py-2"})),s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400 pb-2"},Rr===1?"1 dataframe":`${Rr} dataframes`,d&&` (filtered from ${r.length})`))),s.createElement("div",{className:"p-6 overflow-x-auto"},s.createElement("table",{className:"min-w-full text-sm table-fixed"},s.createElement("thead",{className:"text-left text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-gray-600"},s.createElement("tr",null,s.createElement("th",{className:"py-2 pr-4 w-[30ch]"},s.createElement("button",{onClick:()=>Fn("name"),className:"flex items-center gap-1 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",title:"Sort by name"},"Name",g==="name"&&s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},f==="asc"?s.createElement("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"}):s.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})))),s.createElement("th",{className:"py-2 pr-4 w-[40ch]"},"Description"),s.createElement("th",{className:"py-2 pr-4"},"Dimensions"),s.createElement("th",{className:"py-2 pr-4"},s.createElement("button",{onClick:()=>Fn("size_mb"),className:"flex items-center gap-1 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",title:"Sort by size"},"Size",g==="size_mb"&&s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},f==="asc"?s.createElement("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"}):s.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})))),s.createElement("th",{className:"py-2 pr-4"},s.createElement("button",{onClick:()=>Fn("timestamp"),className:"flex items-center gap-1 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",title:"Sort by creation date"},"Created",g==="timestamp"&&s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},f==="asc"?s.createElement("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"}):s.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})))),s.createElement("th",{className:"py-2"},"Actions"))),s.createElement("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600"},n&&s.createElement("tr",null,s.createElement("td",{className:"py-3 text-gray-500 dark:text-gray-400",colSpan:6},"Loading…")),!n&&r.length===0&&s.createElement("tr",null,s.createElement("td",{className:"py-3 text-gray-500 dark:text-gray-400",colSpan:6},"No cached DataFrames")),go.map(P=>s.createElement("tr",{key:P.name},s.createElement("td",{className:"py-3 pr-4 font-medium align-top"},s.createElement("div",{className:"max-w-[30ch] flex items-center gap-2"},s.createElement("button",{className:"text-lg flex-shrink-0 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",onClick:()=>xo(P),title:"Click to convert DataFrame type"},Rt(P.type||"static")),s.createElement("button",{className:"block max-w-full overflow-hidden text-ellipsis whitespace-nowrap text-indigo-600 dark:text-indigo-400 hover:underline",onClick:()=>uo(`/analysis/${encodeURIComponent(P.name)}`),title:P.name,"aria-label":"Open analysis"},P.name))),s.createElement("td",{className:"py-3 pr-4 text-gray-700 dark:text-gray-300"},s.createElement("div",{className:"max-w-[40ch]"},s.createElement("span",{className:"block max-w-full overflow-hidden text-ellipsis whitespace-nowrap",title:P.description?P.description:""},P.description||"-"),P.type==="alien"&&s.createElement("div",{className:"mt-1 text-xs text-blue-600 dark:text-blue-400"},P.sync_status==="success"&&P.last_sync&&s.createElement("span",{title:`Last synced: ${new Date(P.last_sync).toLocaleString()}`},"✓ Synced ",new Date(P.last_sync).toLocaleDateString()),P.sync_status==="pending"&&s.createElement("span",null,"⏳ Pending sync"),P.sync_status==="syncing"&&s.createElement("span",null,"🔄 Syncing..."),P.sync_status==="error"&&s.createElement("span",{className:"text-red-600 dark:text-red-400",title:P.sync_error},"❌ Sync error")))),s.createElement("td",{className:"py-3 pr-4 text-gray-900 dark:text-gray-100"},P.rows," x ",P.cols),s.createElement("td",{className:"py-3 pr-4 text-gray-900 dark:text-gray-100"},P.size_mb," MB"),s.createElement("td",{className:"py-3 pr-4 text-gray-900 dark:text-gray-100"},P.timestamp&&!isNaN(new Date(P.timestamp).getTime())?new Date(P.timestamp).toLocaleString():"-"),s.createElement("td",{className:"py-3"},s.createElement("div",{className:"flex items-center gap-0.5"},s.createElement("button",{onClick:()=>Bn(P.name),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300",title:"Preview"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},s.createElement("path",{d:"M12 5c-7.633 0-11 7-11 7s3.367 7 11 7 11-7 11-7-3.367-7-11-7zm0 12a5 5 0 110-10 5 5 0 010 10zm0-2.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}))),P.type==="alien"&&s.createElement("button",{onClick:()=>Lr(P.name),disabled:Be[P.name],className:"p-1.5 rounded hover:bg-blue-50 dark:hover:bg-blue-900/20 text-blue-600 dark:text-blue-400 disabled:opacity-50",title:"Sync alien DataFrame from ODK Central"},Be[P.name]?s.createElement("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"currentColor"},s.createElement("path",{d:"M12 4V2A10 10 0 002 12h2a8 8 0 018-8z"})):s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},s.createElement("path",{d:"M12 4V2l3 3-3 3V6c-3.31 0-6 2.69-6 6 0 1.01.25 1.97.7 2.8L5.24 16.26C4.46 15.03 4 13.57 4 12c0-4.42 3.58-8 8-8z"}),s.createElement("path",{d:"M19.76 7.74C20.54 8.97 21 10.43 21 12c0 4.42-3.58 8-8 8v2l-3-3 3-3v2c3.31 0 6-2.69 6-6 0-1.01-.25-1.97-.7-2.8l1.46-1.46z"}))),s.createElement("a",{href:Fp(P.name),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300",title:"Download CSV"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},s.createElement("path",{d:"M12 3a1 1 0 011 1v9.586l2.293-2.293a1 1 0 111.414 1.414l-4.007 4.007a1.25 1.25 0 01-1.772 0L6.92 12.707a1 1 0 011.414-1.414L10.5 13.46V4a1 1 0 011-1z"}),s.createElement("path",{d:"M5 19a2 2 0 002 2h10a2 2 0 002-2v-2a1 1 0 112 0v2a4 4 0 01-4 4H7a4 4 0 01-4-4v-2a1 1 0 112 0v2z"}))),s.createElement("button",{onClick:()=>yo(e2(P.name)),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300",title:"Copy JSON link"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},s.createElement("path",{d:"M8 7a3 3 0 013-3h7a3 3 0 013 3v7a3 3 0 01-3 3h-2v-2h2a1 1 0 001-1V7a1 1 0 00-1-1h-7a1 1 0 00-1 1v2H8V7z"}),s.createElement("path",{d:"M3 10a3 3 0 013-3h7a3 3 0 013 3v7a3 3 0 01-3 3H6a3 3 0 01-3-3v-7zm3-1a1 1 0 00-1 1v7a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1H6z"}))),s.createElement("button",{onClick:()=>_u(P),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300",title:"Edit name/description","aria-label":"Edit"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},s.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"}),s.createElement("path",{d:"M20.71 7.04a1.003 1.003 0 000-1.42l-2.34-2.34a1.003 1.003 0 00-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.82z"}))),s.createElement("button",{onClick:()=>po(P.name),className:"p-1.5 rounded hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400",title:"Delete"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},s.createElement("path",{d:"M9 3a1 1 0 00-1 1v1H5.5a1 1 0 100 2H6v12a3 3 0 003 3h6a3 3 0 003-3V7h.5a1 1 0 100-2H16V4a1 1 0 00-1-1H9zm2 4a1 1 0 012 0v10a1 1 0 11-2 0V7zm5 0a1 1 0 10-2 0v10a1 1 0 102 0V7zM10 4h4v1h-4V4z"})))))))))),!n&&r.length>0&&s.createElement("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-600"},s.createElement(wu,{currentPage:i,totalItems:Rr,itemsPerPage:c,onPageChange:At})),s.createElement("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50"},s.createElement("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"DataFrame Types:"),s.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement(Cn,null),s.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},"Static"),s.createElement("span",null,"Never expires, manually deleted only")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement(Xs,null),s.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},"Ephemeral"),s.createElement("span",null,"Auto-deletes after user-specified hours (default 10)")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement(qs,null),s.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},"Temporary"),s.createElement("span",null,"Auto-deletes after 1 hour")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement($i,null),s.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},"Alien"),s.createElement("span",null,"Auto-syncs from ODK Central, never expires")))))),s.createElement(Ln,null),s.createElement(pg,{open:ee,title:L,onClose:()=>D(!1)},V&&s.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3"},s.createElement("div",{className:"flex flex-wrap gap-3"},s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Rows:")," ",V.rows),s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Cols:")," ",V.cols),s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Size:")," ",V.size_mb," MB"),s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Created:")," ",V.timestamp&&!isNaN(new Date(V.timestamp).getTime())?new Date(V.timestamp).toLocaleString():"-")),V.description&&s.createElement("div",{className:"text-gray-600 dark:text-gray-400 mt-1"},V.description)),s.createElement("div",{className:"overflow-auto border border-gray-200 dark:border-gray-600 rounded"},s.createElement("table",{className:"min-w-full text-xs"},s.createElement("thead",{className:"sticky top-0 bg-white dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600"},s.createElement("tr",null,Le.map(P=>s.createElement("th",{key:P,className:"px-2 py-1 text-left text-gray-900 dark:text-gray-100"},P)))),s.createElement("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600"},Ae.map((P,G)=>s.createElement("tr",{key:G},Le.map(Pe=>s.createElement("td",{key:Pe,className:"px-2 py-1 whitespace-nowrap text-gray-700 dark:text-gray-300"},String((P==null?void 0:P[Pe])??""))))))))),s.createElement(h2,{open:dt,title:$a,message:ut,confirming:Pr,onConfirm:ho,onCancel:()=>Kt(!1)}),s.createElement(pg,{open:Wa,title:"Edit DataFrame",onClose:()=>!mt&&kt(!1),blockClose:mt},s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Name"),s.createElement("input",{value:Dr,onChange:P=>Ot(P.target.value),type:"text",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"}),s.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Renaming will update the DataFrame key; update any references in pipelines if needed.")),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Description"),s.createElement("textarea",{value:Qt,onChange:P=>Tt(P.target.value),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"})),s.createElement("div",{className:"flex items-center justify-end gap-2 pt-2"},s.createElement("button",{disabled:mt,onClick:()=>kt(!1),className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"},"Cancel"),s.createElement("button",{disabled:mt,onClick:Cu,className:"px-3 py-1.5 rounded bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50"},mt?"Saving…":"Save Changes")))),s.createElement(Hw,{open:Y,dataframe:gt,converting:F,onConvert:il,onCancel:Su}),s.createElement(Uw,{isOpen:ve,onClose:()=>oe(!1),onSubmit:fo}),s.createElement("div",{className:`fixed bottom-4 right-4 ${ke.visible?"":"hidden"}`},s.createElement("div",{className:"bg-slate-900 text-white px-4 py-2 rounded shadow"},ke.msg)))}sl.register(Ns,Ii,Bi,Tp,Dp);const y2=t=>zp(t),x2=t=>{switch(t){case"static":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"ephemeral":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"temporary":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}},b2=t=>{if(!t)return null;const e=new Date,a=new Date(t).getTime()-e.getTime();if(a<=0)return"Expired";const n=Math.floor(a/(1e3*60*60)),l=Math.floor(a%(1e3*60*60)/(1e3*60));return n>0?`${n}h ${l}m`:`${l}m`};function v2(){var v;const{name:t}=Yb();_r();const[e,r]=b.useState(!0),[a,n]=b.useState(""),[l,i]=b.useState(null),[o,c]=b.useState(!1),[d,u]=b.useState(""),[g,m]=b.useState(null),[f,y]=b.useState([]),[x,k]=b.useState([]);b.useEffect(()=>{let E=!0;return r(!0),n(""),t2(t).then(w=>{E&&(w.success?i(w):n(w.error||"Failed to load profile"))}).catch(w=>n(w.message||"Failed")).finally(()=>E&&r(!1)),()=>{E=!1}},[t]),b.useEffect(()=>{let E=!0;return c(!0),u(""),m(null),y([]),k([]),Nu(t,{preview:!0}).then(w=>{E&&(w.success?(m(w.metadata),y(w.columns||[]),k(w.preview||[])):u(w.error||"Failed to load DataFrame preview"))}).catch(w=>u(w.message||"Failed to load DataFrame")).finally(()=>{E&&c(!1)}),()=>{E=!1}},[t]);const p=b.useMemo(()=>l?(l.numeric_distributions||[]).slice(0,4):[],[l]),h=b.useMemo(()=>l?(l.categorical_distributions||[]).slice(0,4):[],[l]);return s.createElement("div",{className:"bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 min-h-screen text-gray-900 dark:text-gray-100 transition-colors"},s.createElement(ga,{title:"Analysis"},s.createElement(xv,{to:"/",className:"inline-flex items-center px-3 py-1.5 rounded-md bg-slate-800 hover:bg-slate-700 text-sm font-medium text-white transition-colors",title:"Back to home"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-4 w-4 mr-2",fill:"currentColor"},s.createElement("path",{d:"M10.828 11H20a1 1 0 110 2h-9.172l3.536 3.536a1 1 0 01-1.415 1.415l-5.243-5.243a1.25 1.25 0 010-1.768l5.243-5.243a1 1 0 111.415 1.414L10.828 11z"})),"Back to Home")),s.createElement("main",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6"},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 break-all"},"📊 ",t),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 mt-1"},"Dataframe Analysis Dashboard")),e&&s.createElement("div",null,"Loading analysis…"),a&&s.createElement("div",{className:"text-red-600"},a),l&&s.createElement(s.Fragment,null,s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"},"Overview"),s.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-300 flex flex-wrap gap-x-6 gap-y-2"},s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Rows:")," ",l.row_count),s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Cols:")," ",l.col_count),((v=l.metadata)==null?void 0:v.description)&&s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Description:")," ",l.metadata.description))),s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"},"DataFrame preview"),o&&s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400"},"Loading preview…"),d&&s.createElement("div",{className:"text-sm text-red-600 dark:text-red-400"},d),g&&s.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3"},s.createElement("div",{className:"flex flex-wrap gap-3"},s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Rows:")," ",g.rows),s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Cols:")," ",g.cols),s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Size:")," ",g.size_mb," MB"),s.createElement("span",null,s.createElement("span",{className:"font-medium"},"Created:")," ",g.timestamp&&!isNaN(new Date(g.timestamp).getTime())?new Date(g.timestamp).toLocaleString():"-")),s.createElement("div",{className:"flex flex-wrap gap-3 mt-2"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"font-medium"},"Type:"),s.createElement("span",{className:"text-lg"},y2(g.type||"static")),s.createElement("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${x2(g.type||"static")}`},(g.type||"static").charAt(0).toUpperCase()+(g.type||"static").slice(1))),(g.type==="ephemeral"||g.type==="temporary")&&g.expires_at&&s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"font-medium"},"Expires:"),s.createElement("span",{className:"text-orange-600 dark:text-orange-400 font-medium"},b2(g.expires_at)),s.createElement("span",{className:"text-gray-500 dark:text-gray-400 text-xs"},"(",new Date(g.expires_at).toLocaleString(),")"))),g.description&&s.createElement("div",{className:"text-gray-600 dark:text-gray-400 mt-2"},g.description)),s.createElement("div",{className:"overflow-auto border dark:border-gray-600 rounded"},s.createElement("table",{className:"min-w-full text-xs"},s.createElement("thead",{className:"sticky top-0 bg-white dark:bg-gray-700 border-b dark:border-gray-600"},s.createElement("tr",null,f.map(E=>s.createElement("th",{key:E,className:"px-2 py-1 text-left text-gray-900 dark:text-gray-100"},E)))),s.createElement("tbody",{className:"divide-y"},x.map((E,w)=>s.createElement("tr",{key:w},f.map(S=>s.createElement("td",{key:S,className:"px-2 py-1 whitespace-nowrap text-gray-700 dark:text-gray-300"},String((E==null?void 0:E[S])??""))))),!o&&x.length===0&&s.createElement("tr",null,s.createElement("td",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",colSpan:Math.max(1,f.length)},"No preview rows")))))),s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"},"Columns"),s.createElement("div",{className:"overflow-auto"},s.createElement("table",{className:"min-w-full text-xs"},s.createElement("thead",{className:"text-left text-gray-600 dark:text-gray-400 border-b dark:border-gray-600"},s.createElement("tr",null,s.createElement("th",{className:"py-2 pr-4"},"Name"),s.createElement("th",{className:"py-2 pr-4"},"Type"),s.createElement("th",{className:"py-2 pr-4"},"Non-null"),s.createElement("th",{className:"py-2 pr-4"},"Nulls"),s.createElement("th",{className:"py-2 pr-4"},"Unique"),s.createElement("th",{className:"py-2 pr-4"},"Min"),s.createElement("th",{className:"py-2 pr-4"},"P25"),s.createElement("th",{className:"py-2 pr-4"},"Median"),s.createElement("th",{className:"py-2 pr-4"},"P75"),s.createElement("th",{className:"py-2 pr-4"},"Max"),s.createElement("th",{className:"py-2 pr-4"},"Mean"),s.createElement("th",{className:"py-2 pr-4"},"Std"))),s.createElement("tbody",{className:"divide-y dark:divide-gray-600"},l.summary.map(E=>s.createElement("tr",{key:E.name},s.createElement("td",{className:"py-2 pr-4 font-medium"},E.name),s.createElement("td",{className:"py-2 pr-4"},E.dtype),s.createElement("td",{className:"py-2 pr-4"},E.nonnull),s.createElement("td",{className:"py-2 pr-4"},E.nulls),s.createElement("td",{className:"py-2 pr-4"},E.unique),s.createElement("td",{className:"py-2 pr-4"},E.min??"-"),s.createElement("td",{className:"py-2 pr-4"},E.p25??"-"),s.createElement("td",{className:"py-2 pr-4"},E.p50??"-"),s.createElement("td",{className:"py-2 pr-4"},E.p75??"-"),s.createElement("td",{className:"py-2 pr-4"},E.max??"-"),s.createElement("td",{className:"py-2 pr-4"},E.mean??"-"),s.createElement("td",{className:"py-2 pr-4"},E.std??"-"))))))),p.length>0&&s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"},"Numeric distributions"),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},p.map(E=>s.createElement("div",{key:E.name,className:"p-3 border dark:border-gray-600 rounded"},s.createElement("div",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},E.name),s.createElement(id,{data:{labels:E.labels,datasets:[{label:"Count",data:E.counts,backgroundColor:"rgba(99, 102, 241, 0.7)"}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{ticks:{maxRotation:45,minRotation:0}}}}}))))),h.length>0&&s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"},s.createElement("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"},"Top categorical values"),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},h.map(E=>s.createElement("div",{key:E.name,className:"p-3 border dark:border-gray-600 rounded"},s.createElement("div",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},E.name),s.createElement(id,{data:{labels:E.labels,datasets:[{label:"Count",data:E.counts,backgroundColor:"rgba(16, 185, 129, 0.7)"}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{ticks:{maxRotation:45,minRotation:0}}}}}))))))))}function dr({title:t,children:e}){return s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-5"},s.createElement("h3",{className:"text-base font-semibold mb-4 text-gray-900 dark:text-gray-100"},t),e)}function k2(){const[t,e]=b.useState(""),[r,a]=b.useState(!1);return b.useEffect(()=>{if(!t)return;a(!0);const n=setTimeout(()=>a(!1),2500);return()=>clearTimeout(n)},[t]),{show:n=>e(n),visible:r,msg:t}}function rr({name:t,columnsFilter:e,excludeSelected:r}){const[a,n]=b.useState({loading:!1,error:"",columns:[],rows:[],total:null});return b.useEffect(()=>{let l=!0;if(!t){n({loading:!1,error:"",columns:[],rows:[],total:null});return}return n(i=>({...i,loading:!0,error:""})),Nu(t,{preview:!0}).then(i=>{if(!l)return;const o=i.columns||[],c=i.preview||[],d=i.total_rows||(i.pagination?i.pagination.total_rows:null)||null;let u=o;Array.isArray(e)&&e.length>0&&(u=r?o.filter(f=>!e.includes(f)):o.filter(f=>e.includes(f)));const m=c.map(f=>{if(!Array.isArray(e)||e.length===0)return f;const y={};return u.forEach(x=>{y[x]=f[x]}),y}).slice(0,10);n({loading:!1,error:"",columns:u,rows:m,total:d})}).catch(i=>{l&&n({loading:!1,error:i.message||"Failed to load preview",columns:[],rows:[],total:null})}),()=>{l=!1}},[t,JSON.stringify(e),!!r]),t?s.createElement("div",{className:"mt-3 border rounded bg-slate-50 dark:bg-gray-800 border-gray-200 dark:border-gray-600"},s.createElement("div",{className:"px-3 py-2 text-xs text-slate-600 dark:text-gray-300 flex items-center gap-2"},s.createElement("span",{className:"font-medium"},"Preview:"),s.createElement("span",{className:""},t),a.total!=null&&s.createElement("span",{className:"ml-auto"},"showing ",a.rows.length," of ",a.total)),a.loading?s.createElement("div",{className:"px-3 py-3 text-sm text-slate-600 dark:text-gray-300 flex items-center gap-2"},s.createElement("img",{src:"/loader.svg",className:"w-5 h-5",alt:""})," Loading…"):a.error?s.createElement("div",{className:"px-3 py-3 text-sm text-red-600 dark:text-red-400"},a.error):s.createElement("div",{className:"overflow-auto"},s.createElement("table",{className:"min-w-full text-xs"},s.createElement("thead",{className:"bg-slate-100 dark:bg-gray-700"},s.createElement("tr",null,a.columns.map(l=>s.createElement("th",{key:l,className:"text-left px-3 py-2 whitespace-nowrap border-b border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100"},l)))),s.createElement("tbody",null,a.rows.map((l,i)=>s.createElement("tr",{key:i,className:i%2?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700"},a.columns.map(o=>s.createElement("td",{key:o,className:"px-3 py-1 align-top border-b border-gray-200 dark:border-gray-600 max-w-[300px] truncate text-gray-900 dark:text-gray-100",title:l[o]!==null&&l[o]!==void 0?String(l[o]):""},l[o]!==null&&l[o]!==void 0?String(l[o]):"")))),a.rows.length===0&&s.createElement("tr",null,s.createElement("td",{className:"px-3 py-2 text-slate-500 dark:text-gray-400",colSpan:a.columns.length||1},"No rows")))))):null}function E2(){var Pu,Mu,Du,Ou,Tu,Ru;const[t,e]=b.useState([]),[r,a]=b.useState(!1),n=k2();_r();const{withEngine:l}=Nv(),i=async()=>{a(!0);try{const N=await co();N.success&&e((N.dataframes||[]).sort((z,$)=>z.name.localeCompare($.name)))}finally{a(!1)}};b.useEffect(()=>{i()},[]);const o=t.map(N=>({value:N.name,label:N.name,columns:N.columns||[]})),[c,d]=b.useState(""),[u,g]=b.useState(""),[m,f]=b.useState(null),[y,x]=b.useState(!1),[k,p]=b.useState(""),h=()=>c?u?c===u?"Please select two different dataframes":"":"Please select the second dataframe":"Please select the first dataframe",v=async()=>{const N=h();if(N)return p(N),n.show(N);p(""),x(!0),f(null);try{const z=await r2(l({name1:c,name2:u}));f(z);const $=z.engine?` (${z.engine} engine)`:"";n.show(z.identical?`DataFrames are identical${$}`:`Compared: ${z.result_type}${$}`),z.created&&z.created.length&&await i()}catch(z){const $=z.message||"Comparison failed. Please try again.";p($),n.show($)}finally{x(!1)}},[E,w]=b.useState([]),[S,_]=b.useState(""),[C,A]=b.useState([]),[M,B]=b.useState("inner"),[H,X]=b.useState(!1),[ie,K]=b.useState(""),Q=()=>{if(E.length<2)return[];const N=E.map($=>o.find(me=>me.value===$)).filter(Boolean);if(N.length<2)return[];let z=N[0].columns||[];for(let $=1;$<N.length;$++){const me=N[$].columns||[];z=z.filter(Jt=>me.includes(Jt))}return z},ee=()=>E.length<2?"Please select at least 2 dataframes to merge":C.length<1?"Please select at least one join key":"",D=async()=>{const N=ee();if(N)return K(N),n.show(N);K(""),X(!0);const z=E,$=C;try{const me=await a2(l({names:z,keys:$,how:M})),Jt=me.engine?` (${me.engine} engine)`:"";n.show(`Successfully created merged dataframe: ${me.name}${Jt}`),await i()}catch(me){const Jt=me.message||"Merge operation failed. Please check your join keys and try again.";K(Jt),n.show(Jt)}finally{X(!1)}},[L,W]=b.useState("wider"),[V,J]=b.useState(""),[Le,pe]=b.useState(""),[Ae,ue]=b.useState(""),[dt,Kt]=b.useState(""),[$a,Va]=b.useState(""),[ut,Cr]=b.useState(""),[Pr,or]=b.useState("first"),[Mr,Wa]=b.useState(""),[kt,Gt]=b.useState(""),[Ha,Dr]=b.useState(""),[Ot,Qt]=b.useState(""),[Tt,mt]=b.useState("variable"),[R,Y]=b.useState("value"),ye=async()=>{var N,z;if(!V)return n.show("Pick a dataframe");try{if(L==="wider"){const me=await gg(l({mode:"wider",name:V,index:Ae?[Ae]:[],names_from:dt,values_from:ut?[ut]:[],aggfunc:Pr})),Jt=(N=me.metadata)!=null&&N.engine?` (${me.metadata.engine} engine)`:"";n.show(`Created ${me.name}${Jt}`)}else{const me=await gg(l({mode:"longer",name:V,id_vars:kt?[kt]:[],value_vars:Ot?[Ot]:[],var_name:Tt,value_name:R})),Jt=(z=me.metadata)!=null&&z.engine?` (${me.metadata.engine} engine)`:"";n.show(`Created ${me.name}${Jt}`)}await i()}catch($){n.show($.message||"Pivot failed")}},[gt,O]=b.useState(""),[F,U]=b.useState([{col:"",op:"eq",value:""}]),[ve,oe]=b.useState("and"),Be=()=>U([...F,{col:"",op:"eq",value:""}]),fa=N=>U(F.filter((z,$)=>$!==N)),ke=(N,z)=>U(F.map(($,me)=>me===N?{...$,...z}:$)),uo=async()=>{var N;if(!gt)return n.show("Pick a dataframe");try{const z=await n2(l({name:gt,filters:F,combine:ve})),$=(N=z.metadata)!=null&&N.engine?` (${z.metadata.engine} engine)`:"";n.show(`Created ${z.name}${$}`),await i()}catch(z){n.show(z.message||"Filter failed")}},[Rt,zn]=b.useState(""),[Or,Lt]=b.useState(""),[Tr,Rr]=b.useState([]),[Ua,mo]=b.useState(""),go=async()=>{var z;if(!Rt)return n.show("Pick a dataframe");let N;if(Ua.trim())try{N=JSON.parse(Ua)}catch{return n.show("Aggs must be JSON")}try{const $=await s2(l({name:Rt,by:Tr,aggs:N})),me=(z=$.metadata)!=null&&z.engine?` (${$.metadata.engine} engine)`:"";n.show(`Created ${$.name}${me}`),await i()}catch($){n.show($.message||"GroupBy failed")}},[At,Fn]=b.useState(""),[Et,Ya]=b.useState([]),[In,fo]=b.useState(!1),Lr=o.find(N=>N.value===At);b.useEffect(()=>{Ya([])},[At]);const ll=N=>Ya(z=>z.includes(N)?z.filter($=>$!==N):[...z,N]),ho=async()=>{var N;if(!At)return n.show("Pick a dataframe");if(Et.length===0)return n.show("Pick at least one column");try{const z=await l2(l({name:At,columns:Et,exclude:In})),$=(N=z.metadata)!=null&&N.engine?` (${z.metadata.engine} engine)`:"";n.show(`Created ${z.name}${$}`),await i()}catch(z){n.show(z.message||"Select failed")}},[ha,po]=b.useState(""),[Bn,yo]=b.useState(""),xo=async()=>{var N;if(!ha)return n.show("Pick a dataframe");if(!Bn.trim())return n.show("Provide a mapping JSON");try{const z=JSON.parse(Bn);if(!z||typeof z!="object"||Array.isArray(z))return n.show("Mapping must be a JSON object");const $=await i2(l({name:ha,map:z})),me=(N=$.metadata)!=null&&N.engine?` (${$.metadata.engine} engine)`:"";n.show(`Created ${$.name}${me}`),await i()}catch(z){if(z instanceof SyntaxError)return n.show("Invalid JSON mapping");n.show(z.message||"Rename failed")}},[il,Su]=b.useState(""),[_u,Cu]=b.useState("parse"),[P,G]=b.useState(""),[Pe,zt]=b.useState(""),[xe,Ee]=b.useState(""),[jn,ol]=b.useState(!1),[V2,W2]=b.useState("short"),[H2,U2]=b.useState(!0),[Y2,K2]=b.useState(!0),[G2,Q2]=b.useState(!0),[J2,X2]=b.useState(!0);return o.find(N=>N.value===il),b.useEffect(()=>{G("")},[il]),s.createElement("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen text-gray-900 dark:text-gray-100 transition-colors flex flex-col"},s.createElement(ga,{title:"Operations"},s.createElement("div",{className:"text-sm text-slate-300"},r?"Loading…":`${t.length} dataframes`)),s.createElement("main",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6 flex-grow"},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},s.createElement("div",{className:"flex items-start gap-4"},s.createElement("div",{className:"flex-shrink-0"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}))),s.createElement("div",null,s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"DataFrame Operations"),s.createElement("p",{className:"text-gray-600 dark:text-gray-300 mb-4"},"Perform operations on your DataFrames with enhanced validation, accessibility, and user feedback. Each operation creates a new DataFrame, preserving your original data."),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Data Analysis & Comparison")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Data Transformation & Reshaping")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Data Filtering & Grouping")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Column Operations & Expressions")))))),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"flex items-center gap-3 py-2"},s.createElement("div",{className:"w-1 h-6 bg-blue-500 rounded-full"}),s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Data Analysis & Comparison"),s.createElement("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})),s.createElement(dr,{title:"Compare two DataFrames"},s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Left DataFrame"),s.createElement("select",{className:`mt-1 border rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${k&&!c?"border-red-300 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,value:c,onChange:N=>{d(N.target.value),p("")},"aria-label":"Select left dataframe for comparison","aria-describedby":k&&!c?"cmp-error":void 0},s.createElement("option",{value:""},"Select dataframe…"),o.map(N=>s.createElement("option",{key:N.value,value:N.value},N.label)))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Right DataFrame"),s.createElement("select",{className:`mt-1 border rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${k&&!u?"border-red-300 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,value:u,onChange:N=>{g(N.target.value),p("")},"aria-label":"Select right dataframe for comparison","aria-describedby":k&&!u?"cmp-error":void 0},s.createElement("option",{value:""},"Select dataframe…"),o.map(N=>s.createElement("option",{key:N.value,value:N.value},N.label)))),s.createElement("button",{disabled:y||!c||!u,onClick:v,className:`px-6 py-2 text-white rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${y||!c||!u?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,"aria-label":"Compare selected dataframes"},y?s.createElement("span",{className:"flex items-center gap-2"},s.createElement("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},s.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Comparing…"):"Compare")),k&&s.createElement("div",{id:"cmp-error",className:"mt-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("svg",{className:"h-4 w-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),s.createElement("span",{className:"text-sm text-red-800 dark:text-red-200"},k)))),y&&s.createElement("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("img",{src:"/loader.svg",alt:"",className:"w-6 h-6",role:"presentation"}),s.createElement("span",{className:"text-sm text-blue-800 dark:text-blue-200"},"Running comparison analysis…"))),(c||u)&&s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},c&&s.createElement(rr,{name:c}),u&&s.createElement(rr,{name:u})),m&&!y&&s.createElement("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md"},s.createElement("div",{className:"text-sm space-y-2"},s.createElement("div",{className:"font-medium text-green-800 dark:text-green-200"},"Result: ",s.createElement("span",{className:"font-semibold"},m.identical?"Identical":m.result_type)),m.left_unique>0&&s.createElement("div",{className:"text-green-700 dark:text-green-300"},"Left unique rows: ",m.left_unique),m.right_unique>0&&s.createElement("div",{className:"text-green-700 dark:text-green-300"},"Right unique rows: ",m.right_unique),(m.created||[]).length>0&&s.createElement("div",{className:"mt-3 flex flex-wrap gap-2"},s.createElement("span",{className:"text-green-700 dark:text-green-300 text-sm"},"Download results:"),(m.created||[]).map(N=>s.createElement("a",{key:N,href:Fp(N),className:"text-indigo-600 hover:text-indigo-800 underline text-sm"},N,".csv"))))))),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"flex items-center gap-3 py-2"},s.createElement("div",{className:"w-1 h-6 bg-green-500 rounded-full"}),s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Data Transformation & Reshaping"),s.createElement("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})),s.createElement(dr,{title:"Merge multiple DataFrames"},s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("div",{className:"text-sm font-medium mb-3 text-gray-900 dark:text-gray-100"},"Select DataFrames to merge",s.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2"},"(minimum 2 required)")),s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2"},o.map(N=>s.createElement("label",{key:N.value,className:`px-3 py-2 rounded-md border cursor-pointer flex items-center gap-2 transition-all duration-200 ${E.includes(N.value)?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-400 dark:border-indigo-500 ring-2 ring-indigo-200 dark:ring-indigo-800":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-650 hover:border-gray-400 dark:hover:border-gray-500"}`},s.createElement("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500 focus:ring-offset-2",checked:E.includes(N.value),onChange:z=>{w(z.target.checked?[...E,N.value]:E.filter($=>$!==N.value)),K(""),A([])},"aria-label":`Select ${N.label} for merging`}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100 truncate"},N.label))))),ie&&s.createElement("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("svg",{className:"h-4 w-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),s.createElement("span",{className:"text-sm text-red-800 dark:text-red-200"},ie))),E.length>0&&s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Selected DataFrames (",E.length,")"),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},E.map(N=>s.createElement(rr,{key:N,name:N})))),s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Join keys"),Q().length>0?s.createElement("div",{className:"space-y-2"},s.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400"},"Select common columns (",Q().length," available)"),s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800"},Q().map(N=>s.createElement("label",{key:N,className:`px-2 py-1 rounded-md border cursor-pointer text-sm transition-all flex items-center ${C.includes(N)?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-400 dark:border-indigo-500 text-indigo-900 dark:text-indigo-100":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-650"}`},s.createElement("input",{type:"checkbox",className:"mr-2 rounded text-indigo-600 focus:ring-indigo-500",checked:C.includes(N),onChange:()=>{A(z=>z.includes(N)?z.filter($=>$!==N):[...z,N]),K("")},"aria-label":`Select ${N} as join key`}),s.createElement("span",{className:"truncate"},N)))),C.length>0&&s.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400"},"Selected: ",C.join(", "))):s.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400 p-3 border border-gray-300 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-800"},E.length<2?"Select at least 2 dataframes to see common columns":"No common columns found between selected dataframes")),s.createElement("div",{className:"max-w-xs"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Join type"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:M,onChange:N=>B(N.target.value),"aria-label":"Select join type"},s.createElement("option",{value:"inner"},"Inner join"),s.createElement("option",{value:"left"},"Left join"),s.createElement("option",{value:"right"},"Right join"),s.createElement("option",{value:"outer"},"Outer join")))),s.createElement("div",{className:"flex justify-end"},s.createElement("button",{disabled:H||E.length<2||C.length===0,onClick:D,className:`px-6 py-2 text-white rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${H||E.length<2||C.length===0?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,"aria-label":"Merge selected dataframes"},H?s.createElement("span",{className:"flex items-center gap-2"},s.createElement("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},s.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Merging…"):"Merge DataFrames"))),H&&s.createElement("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("img",{src:"/loader.svg",alt:"",className:"w-6 h-6",role:"presentation"}),s.createElement("span",{className:"text-sm text-blue-800 dark:text-blue-200"},"Merging ",E.length," dataframes using ",M," join..."))))),s.createElement(dr,{title:"Pivot"},s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:V,onChange:N=>{J(N.target.value),ue(""),Cr(""),Gt(""),Qt("")},"aria-label":"Select dataframe for pivoting"},s.createElement("option",{value:""},"Select…"),o.map(N=>s.createElement("option",{key:N.value,value:N.value},N.label)))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Mode"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:L,onChange:N=>W(N.target.value),"aria-label":"Select pivot mode"},s.createElement("option",{value:"wider"},"Wider (pivot table)"),s.createElement("option",{value:"longer"},"Longer (melt)")))),V&&s.createElement("div",{className:"space-y-4"},L==="wider"?s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Index column"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Ae,onChange:N=>ue(N.target.value),"aria-label":"Select index column"},s.createElement("option",{value:""},"Select column…"),(((Pu=o.find(N=>N.value===V))==null?void 0:Pu.columns)||[]).map(N=>s.createElement("option",{key:N,value:N},N))))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Names from column"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:dt,onChange:N=>Kt(N.target.value),"aria-label":"Select column for pivot names"},s.createElement("option",{value:""},"Select column…"),(((Mu=o.find(N=>N.value===V))==null?void 0:Mu.columns)||[]).map(N=>s.createElement("option",{key:N,value:N},N)))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Aggregation function"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Pr,onChange:N=>or(N.target.value),"aria-label":"Select aggregation function"},s.createElement("option",{value:"first"},"first"),s.createElement("option",{value:"mean"},"mean"),s.createElement("option",{value:"sum"},"sum"),s.createElement("option",{value:"count"},"count"),s.createElement("option",{value:"min"},"min"),s.createElement("option",{value:"max"},"max"),s.createElement("option",{value:"std"},"std"),s.createElement("option",{value:"var"},"var")))),s.createElement("div",null,s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Values from column"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:ut,onChange:N=>Cr(N.target.value),"aria-label":"Select values from column"},s.createElement("option",{value:""},"Select column…"),(((Du=o.find(N=>N.value===V))==null?void 0:Du.columns)||[]).map(N=>s.createElement("option",{key:N,value:N},N)))))):s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"ID variable"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:kt,onChange:N=>Gt(N.target.value),"aria-label":"Select ID variable column"},s.createElement("option",{value:""},"Select column…"),(((Ou=o.find(N=>N.value===V))==null?void 0:Ou.columns)||[]).map(N=>s.createElement("option",{key:N,value:N},N))))),s.createElement("div",null,s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Value variable"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Ot,onChange:N=>Qt(N.target.value),"aria-label":"Select value variable column"},s.createElement("option",{value:""},"Select column…"),(((Tu=o.find(N=>N.value===V))==null?void 0:Tu.columns)||[]).map(N=>s.createElement("option",{key:N,value:N},N))))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Variable name"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Tt,onChange:N=>mt(N.target.value),placeholder:"variable","aria-label":"Enter variable column name"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Value name"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:R,onChange:N=>Y(N.target.value),placeholder:"value","aria-label":"Enter value column name"})))),s.createElement("div",{className:"flex justify-end"},s.createElement("button",{onClick:ye,className:"px-6 py-2 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:!V,"aria-label":"Run pivot operation"},"Run Pivot")))),V&&s.createElement(rr,{name:V}))),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"flex items-center gap-3 py-2"},s.createElement("div",{className:"w-1 h-6 bg-orange-500 rounded-full"}),s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Data Filtering & Grouping"),s.createElement("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})),s.createElement(dr,{title:"Filter"},s.createElement("div",{className:"space-y-3"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 max-w-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:gt,onChange:N=>O(N.target.value)},s.createElement("option",{value:""},"Select…"),o.map(N=>s.createElement("option",{key:N.value,value:N.value},N.label)))),gt&&s.createElement(rr,{name:gt}),s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Combine"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:ve,onChange:N=>oe(N.target.value)},s.createElement("option",null,"and"),s.createElement("option",null,"or"))),F.map((N,z)=>s.createElement("div",{key:z,className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Column"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:N.col,onChange:$=>ke(z,{col:$.target.value}),placeholder:"column name"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Op"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:N.op,onChange:$=>ke(z,{op:$.target.value})},s.createElement("option",null,"eq"),s.createElement("option",null,"ne"),s.createElement("option",null,"lt"),s.createElement("option",null,"lte"),s.createElement("option",null,"gt"),s.createElement("option",null,"gte"),s.createElement("option",null,"in"),s.createElement("option",null,"nin"),s.createElement("option",null,"contains"),s.createElement("option",null,"startswith"),s.createElement("option",null,"endswith"),s.createElement("option",null,"isnull"),s.createElement("option",null,"notnull"))),s.createElement("label",{className:"block md:col-span-3"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Value"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:N.value,onChange:$=>ke(z,{value:$.target.value}),placeholder:"value or [v1,v2] for in"})),s.createElement("button",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:()=>fa(z)},"Remove"))),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("button",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:Be},"Add filter"),s.createElement("button",{className:"px-6 py-2 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",onClick:uo,disabled:!gt},"Run Filter")))),s.createElement(dr,{title:"Group by"},s.createElement("div",{className:"space-y-4"},s.createElement("label",{className:"block max-w-sm"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Rt,onChange:N=>{zn(N.target.value),Rr([])},"aria-label":"Select dataframe for grouping"},s.createElement("option",{value:""},"Select…"),o.map(N=>s.createElement("option",{key:N.value,value:N.value},N.label)))),Rt&&s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Group by columns (",Tr.length," selected)"),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>{var N;return Rr(((N=o.find(z=>z.value===Rt))==null?void 0:N.columns)||[])},className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600"},"Select All"),s.createElement("button",{onClick:()=>Rr([]),className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600"},"Clear All"))),s.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-40 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800"},(((Ru=o.find(N=>N.value===Rt))==null?void 0:Ru.columns)||[]).map(N=>s.createElement("label",{key:N,className:`px-2 py-1 rounded-md border cursor-pointer text-sm transition-all ${Tr.includes(N)?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-400 dark:border-indigo-500 text-indigo-900 dark:text-indigo-100":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-650"}`},s.createElement("input",{type:"checkbox",className:"mr-2",checked:Tr.includes(N),onChange:()=>Rr(z=>z.includes(N)?z.filter($=>$!==N):[...z,N]),"aria-label":`Toggle column ${N} for grouping`}),s.createElement("span",{className:"truncate"},N))))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Aggregations JSON (optional)"),s.createElement("textarea",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono text-xs h-20 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:Ua,onChange:N=>mo(N.target.value),placeholder:'{"column_name": "sum", "other_col": ["mean", "max"]}',"aria-label":"Enter aggregation functions as JSON"}),s.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Example: ","{",'"col":"sum","col2":["mean","max"]',"}")),s.createElement("div",null,s.createElement("button",{onClick:go,disabled:!Rt||Tr.length===0,className:"px-6 py-2 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed","aria-label":"Create grouped dataframe"},"Run GroupBy"))),Rt&&s.createElement(rr,{name:Rt}))),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"flex items-center gap-3 py-2"},s.createElement("div",{className:"w-1 h-6 bg-purple-500 rounded-full"}),s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Column Operations"),s.createElement("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})),s.createElement(dr,{title:"Select columns"},s.createElement("div",{className:"space-y-4"},s.createElement("label",{className:"block max-w-sm"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:At,onChange:N=>Fn(N.target.value),"aria-label":"Select dataframe for column selection"},s.createElement("option",{value:""},"Select dataframe…"),o.map(N=>s.createElement("option",{key:N.value,value:N.value},N.label)))),At&&s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Select columns (",Et.length," selected)"),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>Ya((Lr==null?void 0:Lr.columns)||[]),className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600"},"Select All"),s.createElement("button",{onClick:()=>Ya([]),className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600"},"Clear All"))),s.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-40 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800"},((Lr==null?void 0:Lr.columns)||[]).map(N=>s.createElement("label",{key:N,className:`px-2 py-1 rounded-md border cursor-pointer text-sm transition-all ${Et.includes(N)?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-400 dark:border-indigo-500 text-indigo-900 dark:text-indigo-100":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-650"}`},s.createElement("input",{type:"checkbox",className:"mr-2",checked:Et.includes(N),onChange:()=>ll(N),"aria-label":`Toggle column ${N}`}),s.createElement("span",{className:"truncate"},N)))),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:In,onChange:N=>fo(N.target.checked),className:"rounded text-indigo-600 focus:ring-indigo-500"}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Exclude selected columns (keep the rest)"))),At&&s.createElement(rr,{name:At,columnsFilter:Et,excludeSelected:In}),s.createElement("div",null,s.createElement("button",{onClick:ho,disabled:!At||Et.length===0,className:"px-6 py-2 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed","aria-label":"Create new dataframe with selected columns"},"Create Selection")))),s.createElement(dr,{title:"Rename columns"},s.createElement("div",{className:"space-y-3"},s.createElement("label",{className:"block max-w-sm"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:ha,onChange:N=>po(N.target.value)},s.createElement("option",{value:""},"Select…"),o.map(N=>s.createElement("option",{key:N.value,value:N.value},N.label)))),ha&&s.createElement(rr,{name:ha}),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Mapping JSON (old→new)"),s.createElement("textarea",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono text-xs h-24 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",placeholder:'{"old_col":"new_col", "age":"age_years"}',value:Bn,onChange:N=>yo(N.target.value)})),s.createElement("div",null,s.createElement("button",{onClick:xo,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"},"Run Rename")))),s.createElement(dr,{title:"Date / Time"},s.createElement(w2,{dfOptions:o,onRun:async N=>{var z;try{const $=await o2(l(N));if(!$.success)throw new Error($.error||"");const me=(z=$.metadata)!=null&&z.engine?` (${$.metadata.engine} engine)`:"";n.show(`Created ${$.name}${me}`),await i()}catch($){n.show($.message||"Datetime op failed")}}})),s.createElement(dr,{title:"Mutate (create/overwrite column via expression)"},s.createElement(N2,{dfOptions:o,onRun:async N=>{try{const z=await c2(N);if(!z.success)throw new Error(z.error||"");n.show(`Created ${z.name}`),await i()}catch(z){n.show(z.message||"Mutate failed")}}})))),s.createElement(Ln,null),s.createElement("div",{className:`fixed bottom-4 right-4 ${n.visible?"":"hidden"}`},s.createElement("div",{className:"bg-slate-900 text-white px-4 py-2 rounded shadow"},n.msg)))}function w2({dfOptions:t,onRun:e}){const[r,a]=b.useState(""),[n,l]=b.useState("parse"),[i,o]=b.useState(""),[c,d]=b.useState(""),[u,g]=b.useState(""),[m,f]=b.useState(!1),[y,x]=b.useState("short"),[k,p]=b.useState(!0),[h,v]=b.useState(!0),[E,w]=b.useState(!0),[S,_]=b.useState(!0),C=t.find(M=>M.value===r);b.useEffect(()=>{o("")},[r]);const A=()=>{if(r&&i)if(n==="parse"){const M={name:r,action:"parse",source:i};c.trim()&&(M.format=c.trim()),u.trim()&&(M.target=u.trim()),m&&(M.overwrite=!0),e(M)}else e({name:r,action:"derive",source:i,month_style:y,outputs:{year:k,month:h,day:E,year_month:S}})};return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:r,onChange:M=>a(M.target.value)},s.createElement("option",{value:""},"Select…"),t.map(M=>s.createElement("option",{key:M.value,value:M.value},M.label)))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Action"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:n,onChange:M=>l(M.target.value)},s.createElement("option",{value:"parse"},"parse (string → date)"),s.createElement("option",{value:"derive"},"derive parts"))),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Source column"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",list:"dt-cols",value:i,onChange:M=>o(M.target.value),placeholder:"date_col"}),s.createElement("datalist",{id:"dt-cols"},((C==null?void 0:C.columns)||[]).map(M=>s.createElement("option",{key:M,value:M},M))))),r&&s.createElement(rr,{name:r}),n==="parse"?s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Format (optional)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:c,onChange:M=>d(M.target.value),placeholder:"e.g. %Y-%m-%d"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Target column (optional)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:u,onChange:M=>g(M.target.value),placeholder:"new_date"})),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:m,onChange:M=>f(M.target.checked)}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Overwrite if exists")),s.createElement("div",{className:"md:col-span-6"},s.createElement("button",{onClick:A,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"},"Run Parse"))):s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Month style"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:y,onChange:M=>x(M.target.value)},s.createElement("option",{value:"short"},"Jan"),s.createElement("option",{value:"short_lower"},"jan"),s.createElement("option",{value:"long"},"January"),s.createElement("option",{value:"num"},"1..12"))),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:k,onChange:M=>p(M.target.checked)}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"year")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:h,onChange:M=>v(M.target.checked)}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"month")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:E,onChange:M=>w(M.target.checked)}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"day")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:S,onChange:M=>_(M.target.checked)}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"year_month")),s.createElement("div",{className:"md:col-span-6"},s.createElement("button",{onClick:A,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"},"Run Derive")))))}function N2({dfOptions:t,onRun:e}){const[r,a]=b.useState(""),[n,l]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState("vector"),[u,g]=b.useState(!1),[m,f]=b.useState(!1),[y,x]=b.useState(""),[k,p]=b.useState(""),h=t.find(S=>S.value===r),v=[{value:"uppercase",label:"Convert to uppercase",expr:"col('{source}').astype(str).str.upper()"},{value:"lowercase",label:"Convert to lowercase",expr:"col('{source}').astype(str).str.lower()"},{value:"string_length",label:"String length",expr:"col('{source}').astype(str).str.len()"},{value:"absolute",label:"Absolute value",expr:"col('{source}').abs()"},{value:"round_2",label:"Round to 2 decimals",expr:"col('{source}').round(2)"},{value:"is_null",label:"Check if null",expr:"col('{source}').isnull()"},{value:"fill_zero",label:"Fill null with 0",expr:"col('{source}').fillna(0)"},{value:"year_from_date",label:"Extract year from date",expr:"pd.to_datetime(col('{source}')).dt.year"},{value:"month_from_date",label:"Extract month from date",expr:"pd.to_datetime(col('{source}')).dt.month"},{value:"log",label:"Natural logarithm",expr:"np.log(col('{source}'))"},{value:"sqrt",label:"Square root",expr:"np.sqrt(col('{source}'))"},{value:"first_3_chars",label:"First 3 characters",expr:"col('{source}').astype(str).str[:3]"}],E=()=>{if(!y||!k)return"";const S=v.find(_=>_.value===y);return S?S.expr.replace("{source}",k):""};b.useEffect(()=>{m&&y&&k&&o(E())},[m,y,k]);const w=()=>{if(!r||!n||!i.trim())return;const S={name:r,target:n.trim(),expr:i.trim(),mode:c,overwrite:u};e(S)};return s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:r,onChange:S=>{a(S.target.value),p("")},"aria-label":"Select dataframe for mutation"},s.createElement("option",{value:""},"Select…"),t.map(S=>s.createElement("option",{key:S.value,value:S.value},S.label)))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Target column"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:n,onChange:S=>l(S.target.value),placeholder:"new_column_name","aria-label":"Enter target column name"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Mode"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:c,onChange:S=>d(S.target.value),"aria-label":"Select mutation mode"},s.createElement("option",{value:"vector"},"Vector (Series/scalar)"),s.createElement("option",{value:"row"},'Row (use r["col"])')))),r&&s.createElement(rr,{name:r}),s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center gap-4"},s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"radio",name:"expr-method",checked:!m,onChange:()=>f(!1),className:"text-indigo-600 focus:ring-indigo-500"}),s.createElement("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Custom expression")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"radio",name:"expr-method",checked:m,onChange:()=>f(!0),className:"text-indigo-600 focus:ring-indigo-500"}),s.createElement("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Predefined operations"))),m?s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Source column"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:k,onChange:S=>p(S.target.value),"aria-label":"Select source column for operation"},s.createElement("option",{value:""},"Select column…"),((h==null?void 0:h.columns)||[]).map(S=>s.createElement("option",{key:S,value:S},S)))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Operation"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:y,onChange:S=>x(S.target.value),"aria-label":"Select predefined operation"},s.createElement("option",{value:""},"Select operation…"),v.map(S=>s.createElement("option",{key:S.value,value:S.value},S.label))))),s.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Generated expression (read-only)"),s.createElement("textarea",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono text-xs h-20 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",value:E(),readOnly:!0,"aria-label":"Generated expression preview"})))):s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-4"},s.createElement("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2"},"Expression Syntax Guide"),s.createElement("div",{className:"text-xs text-blue-800 dark:text-blue-200 space-y-1"},s.createElement("div",null,s.createElement("strong",null,"Vector mode examples:")),s.createElement("ul",{className:"list-disc list-inside space-y-1 ml-2"},s.createElement("li",null,"Basic operations: ",s.createElement("code",null,"col('price') * col('quantity')")),s.createElement("li",null,"String operations: ",s.createElement("code",null,"col('name').astype(str).str.upper()")),s.createElement("li",null,"Conditional: ",s.createElement("code",null,"np.where(col('age') >= 18, 'Adult', 'Minor')")),s.createElement("li",null,"Date operations: ",s.createElement("code",null,"pd.to_datetime(col('date')).dt.year")),s.createElement("li",null,"Math functions: ",s.createElement("code",null,"np.sqrt(col('value'))"))),s.createElement("div",{className:"mt-2"},s.createElement("strong",null,"Row mode examples:")),s.createElement("ul",{className:"list-disc list-inside space-y-1 ml-2"},s.createElement("li",null,"Row operations: ",s.createElement("code",null,"r['price'] * r['quantity']")),s.createElement("li",null,"Complex logic: ",s.createElement("code",null,"'High' if r['score'] > 80 else 'Low'"))))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Expression"),s.createElement("textarea",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono text-sm h-24 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:i,onChange:S=>o(S.target.value),placeholder:"Enter your pandas expression...","aria-label":"Enter custom expression"})))),s.createElement("div",{className:"flex items-center justify-between"},s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:u,onChange:S=>g(S.target.checked),className:"rounded text-indigo-600 focus:ring-indigo-500"}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Overwrite if column exists")),s.createElement("button",{onClick:w,disabled:!r||!n||!i.trim(),className:"px-6 py-2 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed","aria-label":"Run mutation operation"},"Run Mutate")))}function Up({open:t,title:e="Confirm action",message:r="Are you sure?",confirmText:a="Confirm",cancelText:n="Cancel",confirming:l=!1,onConfirm:i,onCancel:o}){if(!t)return null;const c=u=>{l||o()},d=()=>{l||o()};return s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:c},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",onClick:u=>u.stopPropagation()},s.createElement("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-600"},s.createElement("h4",{className:"text-base font-semibold text-gray-900 dark:text-gray-100"},e)),s.createElement("div",{className:"px-5 py-4 text-sm text-gray-700 dark:text-gray-300"},r),s.createElement("div",{className:"px-5 py-3 border-t border-gray-200 dark:border-gray-600 flex items-center justify-end gap-2"},s.createElement("button",{onClick:d,disabled:l,className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed"},n),s.createElement("button",{disabled:l,onClick:i,className:"px-3 py-1.5 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-50"},l?"Working…":a))))}function jl({title:t,children:e}){return s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-5"},s.createElement("h2",{className:"text-base font-semibold mb-4 text-gray-900 dark:text-gray-100"},t),e)}function S2(){const[t,e]=b.useState(""),[r,a]=b.useState(!1);return b.useEffect(()=>{if(!t)return;a(!0);const n=setTimeout(()=>a(!1),2500);return()=>clearTimeout(n)},[t]),{show:n=>e(n),visible:r,msg:t}}function yg({columns:t=[],rows:e=[]}){return s.createElement("div",{className:"overflow-auto border border-gray-200 dark:border-gray-600 rounded"},s.createElement("table",{className:"min-w-full text-xs"},s.createElement("thead",{className:"bg-slate-100 dark:bg-gray-700"},s.createElement("tr",null,t.map(r=>s.createElement("th",{key:r,className:"text-left px-2 py-1 border-b border-gray-200 dark:border-gray-600 whitespace-nowrap text-gray-900 dark:text-gray-100"},r)))),s.createElement("tbody",null,e.map((r,a)=>s.createElement("tr",{key:a,className:a%2?"bg-white dark:bg-gray-800":"bg-slate-50 dark:bg-gray-700"},t.map(n=>s.createElement("td",{key:n,className:"px-2 py-1 border-b border-gray-200 dark:border-gray-600 max-w-[300px] truncate text-gray-900 dark:text-gray-100",title:r[n]!==null&&r[n]!==void 0?String(r[n]):""},r[n]!==null&&r[n]!==void 0?String(r[n]):"")))),e.length===0&&s.createElement("tr",null,s.createElement("td",{className:"px-2 py-2 text-slate-500 dark:text-gray-400",colSpan:t.length||1},"No rows")))))}function _2({op:t,dfOptions:e,onCreate:r,stepCount:a=0}){const[n,l]=b.useState({});b.useEffect(()=>{l({})},[t]);const i=d=>l(u=>({...u,...d})),o=(d,u,g)=>i({[d]:g?[...n[d]||[],u]:(n[d]||[]).filter(m=>m!==u)}),c=()=>{switch(t){case"load":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.name||"",onChange:m=>i({name:m.target.value})},s.createElement("option",{value:""},"Select…"),e.map(m=>s.createElement("option",{key:m.value,value:m.value},m.label)))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>n.name&&r({op:"load",params:{name:n.name}})},"Add step"));case"merge":const d=a>0,u=d?1:2;(n.names||[]).length;const g=n.advancedJoin||!1;return s.createElement("div",{className:"space-y-3"},d&&s.createElement("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded p-3 text-sm"},s.createElement("div",{className:"font-medium text-blue-800 dark:text-blue-200"},"Current dataframe from previous step will be automatically included"),s.createElement("div",{className:"text-blue-600 dark:text-blue-300 mt-1"},"Pick 1+ additional dataframes to merge with the current result")),s.createElement("div",null,s.createElement("div",{className:"text-sm mb-1 text-gray-900 dark:text-gray-100"},d?"Pick 1+ additional dataframes":"Pick 2+ dataframes"),s.createElement("div",{className:"flex flex-wrap gap-2"},e.map(m=>s.createElement("label",{key:m.value,className:`px-2 py-1 rounded border cursor-pointer ${(n.names||[]).includes(m.value)?"bg-indigo-50 dark:bg-indigo-900/50 border-indigo-400 dark:border-indigo-500":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600"} text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600`},s.createElement("input",{type:"checkbox",className:"mr-1",checked:(n.names||[]).includes(m.value),onChange:f=>o("names",m.value,f.target.checked)}),m.label)))),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("input",{type:"checkbox",id:"advancedJoin",checked:g,onChange:m=>i({advancedJoin:m.target.checked,keys:"",leftOn:"",rightOn:""})}),s.createElement("label",{htmlFor:"advancedJoin",className:"text-sm text-gray-900 dark:text-gray-100 cursor-pointer"},"Advanced Join (different column names)")),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end"},g?s.createElement(s.Fragment,null,s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Left columns (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.leftOn||"",onChange:m=>i({leftOn:m.target.value}),placeholder:"customer_id"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Right columns (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.rightOn||"",onChange:m=>i({rightOn:m.target.value}),placeholder:"cust_id"}))):s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Join keys (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.keys||"",onChange:m=>i({keys:m.target.value}),placeholder:"id"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Join type"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.how||"inner",onChange:m=>i({how:m.target.value})},s.createElement("option",null,"inner"),s.createElement("option",null,"left"),s.createElement("option",null,"right"),s.createElement("option",null,"outer"))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const m=n.names||[];if(!(m.length<u))if(g){const f=String(n.leftOn||"").split(",").map(x=>x.trim()).filter(Boolean),y=String(n.rightOn||"").split(",").map(x=>x.trim()).filter(Boolean);if(f.length===0||y.length===0||f.length!==y.length)return;r({op:"merge",params:{names:m,left_on:f,right_on:y,how:n.how||"inner"}})}else{const f=String(n.keys||"").split(",").map(y=>y.trim()).filter(Boolean);if(f.length===0)return;r({op:"merge",params:{names:m,keys:f,how:n.how||"inner"}})}}},"Add step")),g&&s.createElement("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded p-3 text-sm"},s.createElement("div",{className:"font-medium text-yellow-800 dark:text-yellow-200"},"Column Mapping Info"),s.createElement("div",{className:"text-yellow-700 dark:text-yellow-300 mt-1"},"Left columns are from the ",d?"current dataframe":"first selected dataframe",". Right columns are from the ",d?"selected dataframe(s)":"second dataframe",".")));case"filter":return s.createElement(C2,{onCreate:(m,f)=>r({op:"filter",params:{filters:m,combine:f}})});case"groupby":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Group by (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.by||"",onChange:m=>i({by:m.target.value}),placeholder:"country,year"})),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Aggregations (JSON)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.aggs||"",onChange:m=>i({aggs:m.target.value}),placeholder:'{"sales":"sum"}'})),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const m=String(n.by||"").split(",").map(y=>y.trim()).filter(Boolean);let f;if(String(n.aggs||"").trim())try{f=JSON.parse(n.aggs)}catch{return}m.length!==0&&r({op:"groupby",params:{by:m,aggs:f}})}},"Add step"));case"select":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Columns (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.columns||"",onChange:m=>i({columns:m.target.value}),placeholder:"id,name,value"})),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:!!n.exclude,onChange:m=>i({exclude:m.target.checked})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Exclude selected")),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const m=String(n.columns||"").split(",").map(y=>y.trim()).filter(Boolean);if(m.length===0)return;const f={columns:m};n.exclude&&(f.exclude=!0),r({op:"select",params:f})}},"Add step"));case"rename":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Mapping (JSON)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.map||"",onChange:m=>i({map:m.target.value}),placeholder:'{"old":"new"}'})),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{try{const m=JSON.parse(n.map||"{}");if(!m||Array.isArray(m))return;r({op:"rename",params:{map:m}})}catch{return}}},"Add step"));case"pivot":return s.createElement(P2,{dfOptions:e,onCreate:r});case"compare":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Other DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.other||"",onChange:m=>i({other:m.target.value})},s.createElement("option",{value:""},"Select…"),e.map(m=>s.createElement("option",{key:m.value,value:m.value},m.label)))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Action"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.action||"mismatch",onChange:m=>i({action:m.target.value})},s.createElement("option",{value:"mismatch"},"mismatch (rows)"),s.createElement("option",{value:"identical"},"identical (pass/flag)"))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>n.other&&r({op:"compare",params:{name:n.other,action:n.action||"mismatch"}})},"Add step"));case"datetime":return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Action"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.action||"parse",onChange:m=>i({action:m.target.value})},s.createElement("option",{value:"parse"},"parse (string → date)"),s.createElement("option",{value:"derive"},"derive parts"))),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Source column"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.source||"",onChange:m=>i({source:m.target.value}),placeholder:"date_col"}))),(n.action||"parse")==="parse"?s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Format (optional)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.format||"",onChange:m=>i({format:m.target.value}),placeholder:"%Y-%m-%d"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Target (optional)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.target||"",onChange:m=>i({target:m.target.value}),placeholder:"new_date"})),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:!!n.overwrite,onChange:m=>i({overwrite:m.target.checked})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Overwrite if exists")),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{if(!n.source)return;const m={action:"parse",source:n.source};String(n.format||"").trim()&&(m.format=n.format),String(n.target||"").trim()&&(m.target=n.target),n.overwrite&&(m.overwrite=!0),r({op:"datetime",params:m})}},"Add step")):s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Month style"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.month_style||"short",onChange:m=>i({month_style:m.target.value})},s.createElement("option",{value:"short"},"Jan"),s.createElement("option",{value:"short_lower"},"jan"),s.createElement("option",{value:"long"},"January"),s.createElement("option",{value:"num"},"1..12"))),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:"year"in(n.outputs||{})?!!n.outputs.year:!0,onChange:m=>i({outputs:{...n.outputs||{},year:m.target.checked}})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"year")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:"month"in(n.outputs||{})?!!n.outputs.month:!0,onChange:m=>i({outputs:{...n.outputs||{},month:m.target.checked}})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"month")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:"day"in(n.outputs||{})?!!n.outputs.day:!0,onChange:m=>i({outputs:{...n.outputs||{},day:m.target.checked}})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"day")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:"year_month"in(n.outputs||{})?!!n.outputs.year_month:!0,onChange:m=>i({outputs:{...n.outputs||{},year_month:m.target.checked}})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"year_month")),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{if(!n.source)return;const m={action:"derive",source:n.source,month_style:n.month_style||"short",outputs:n.outputs||{year:!0,month:!0,day:!0,year_month:!0}};r({op:"datetime",params:m})}},"Add step")));case"mutate":return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Target column"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.target||"",onChange:m=>i({target:m.target.value}),placeholder:"new_col"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Mode"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.mode||"vector",onChange:m=>i({mode:m.target.value})},s.createElement("option",{value:"vector"},"vector"),s.createElement("option",{value:"row"},"row"))),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:!!n.overwrite,onChange:m=>i({overwrite:m.target.checked})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Overwrite if exists")),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const m=String(n.target||"").trim(),f=String(n.expr||"").trim();!m||!f||r({op:"mutate",params:{target:m,expr:f,mode:n.mode||"vector",overwrite:!!n.overwrite}})}},"Add step")),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Expression"),s.createElement("textarea",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono text-xs h-28 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.expr||"",onChange:m=>i({expr:m.target.value}),placeholder:`Examples:
- vector: col('a') + col('b')
- vector: np.where(col('x') > 0, 'pos', 'neg')
- vector: col('name').astype(str).str[:3] + '_' + col('country')
- row: r['price'] * r['qty']
- vector date: pd.to_datetime(col('ts')).dt.year`})),s.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-300"},"Tip: use col('colname') for Series, or r['col'] in row mode. pd and np are available."));default:return s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"Pick an operation")}};return s.createElement("div",{className:"space-y-3"},c())}function C2({onCreate:t}){const[e,r]=b.useState([{col:"",op:"eq",value:""}]),[a,n]=b.useState("and"),l=()=>r([...e,{col:"",op:"eq",value:""}]),i=c=>r(e.filter((d,u)=>u!==c)),o=(c,d)=>r(e.map((u,g)=>g===c?{...u,...d}:u));return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Combine"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:a,onChange:c=>n(c.target.value)},s.createElement("option",{value:"and"},"and"),s.createElement("option",{value:"or"},"or"))),s.createElement("div",{className:"space-y-2"},e.map((c,d)=>s.createElement("div",{key:d,className:"grid grid-cols-1 md:grid-cols-6 gap-2 items-end"},s.createElement("input",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"column",value:c.col,onChange:u=>o(d,{col:u.target.value})}),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:c.op,onChange:u=>o(d,{op:u.target.value})},s.createElement("option",null,"eq"),s.createElement("option",null,"ne"),s.createElement("option",null,"lt"),s.createElement("option",null,"lte"),s.createElement("option",null,"gt"),s.createElement("option",null,"gte"),s.createElement("option",null,"in"),s.createElement("option",null,"nin"),s.createElement("option",null,"contains"),s.createElement("option",null,"startswith"),s.createElement("option",null,"endswith"),s.createElement("option",null,"isnull"),s.createElement("option",null,"notnull")),s.createElement("input",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 md:col-span-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"value (JSON list for in/nin)",value:c.value,onChange:u=>o(d,{value:u.target.value})}),s.createElement("button",{className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:()=>i(d)},"Remove")))),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("button",{className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:l},"Add condition"),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>t(e,a)},"Add step")))}function P2({dfOptions:t,onCreate:e}){const[r,a]=b.useState("wider"),[n,l]=b.useState({});b.useEffect(()=>{l({})},[r]);const i=o=>l(c=>({...c,...o}));return r==="wider"?s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Mode"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:r,onChange:o=>a(o.target.value)},s.createElement("option",{value:"wider"},"wider"),s.createElement("option",{value:"longer"},"longer"))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"index (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.index||"",onChange:o=>i({index:o.target.value}),placeholder:"id"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"names_from"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.names_from||"",onChange:o=>i({names_from:o.target.value}),placeholder:"category"})),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"values_from (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.values_from||"",onChange:o=>i({values_from:o.target.value}),placeholder:"value"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"aggfunc"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.aggfunc||"first",onChange:o=>i({aggfunc:o.target.value}),placeholder:"first"}))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const o=String(n.index||"").split(",").map(d=>d.trim()).filter(Boolean);if(!n.names_from||!String(n.values_from||"").trim())return;const c=String(n.values_from).split(",").map(d=>d.trim()).filter(Boolean);e({op:"pivot",params:{mode:"wider",index:o,names_from:n.names_from,values_from:c,aggfunc:n.aggfunc||"first"}})}},"Add step")):s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Mode"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:r,onChange:o=>a(o.target.value)},s.createElement("option",{value:"wider"},"wider"),s.createElement("option",{value:"longer"},"longer"))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"id_vars (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.id_vars||"",onChange:o=>i({id_vars:o.target.value}),placeholder:"id"})),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"value_vars (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.value_vars||"",onChange:o=>i({value_vars:o.target.value}),placeholder:"v1,v2"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"var_name"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.var_name||"variable",onChange:o=>i({var_name:o.target.value})})),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"value_name"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.value_name||"value",onChange:o=>i({value_name:o.target.value})}))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const o=String(n.id_vars||"").split(",").map(d=>d.trim()).filter(Boolean),c=String(n.value_vars||"").split(",").map(d=>d.trim()).filter(Boolean);c.length!==0&&e({op:"pivot",params:{mode:"longer",id_vars:o,value_vars:c,var_name:n.var_name||"variable",value_name:n.value_name||"value"}})}},"Add step"))}function M2(){var Dr,Ot,Qt,Tt,mt;const{engine:t}=b.useContext(so),[e,r]=b.useState([]),[a,n]=b.useState(!1),[l,i]=b.useState([]),[o,c]=b.useState(!0),[d,u]=b.useState({loading:!1,error:"",steps:[],final:null}),[g,m]=b.useState(null),[f,y]=b.useState([]),[x,k]=b.useState(!1),[p,h]=b.useState(""),[v,E]=b.useState(""),[w,S]=b.useState(!1),[_,C]=b.useState(""),[A,M]=b.useState(!1),[B,H]=b.useState(""),[X,ie]=b.useState(!1),[K,Q]=b.useState(1),ee=parseInt("15",10),D=_r(),L=S2(),W=b.useMemo(()=>(e||[]).map(R=>({value:R.name,label:R.name})),[e]),V=async()=>{n(!0);try{const R=await co();R.success&&r((R.dataframes||[]).sort((Y,ye)=>Y.name.localeCompare(ye.name)))}finally{n(!1)}},J=async()=>{k(!0);try{const R=await jp();R.success&&(y((R.pipelines||[]).sort((Y,ye)=>Y.name.localeCompare(ye.name))),Q(1))}catch{}finally{k(!1)}},Le=f.length,pe=(K-1)*ee,Ae=pe+ee,ue=f.slice(pe,Ae),dt=R=>{Q(R)};b.useEffect(()=>{V(),J()},[]);const Kt=async()=>{u(R=>({...R,loading:!0,error:""}));try{const R=await Ip({steps:l,preview_rows:10,engine:t});if(!R.success)throw new Error(R.error||"Preview failed");u({loading:!1,error:"",steps:R.steps||[],final:R.final||null})}catch(R){u({loading:!1,error:R.message||"Preview failed",steps:[],final:null})}};b.useEffect(()=>{o&&l.length>0&&Kt()},[o,JSON.stringify(l)]);const $a=R=>{i(Y=>[...Y,R]),m(null)},Va=R=>{i(Y=>Y.filter((ye,gt)=>gt!==R)),m(null)},ut=()=>{i([]),u({loading:!1,error:"",steps:[],final:null}),m(null)},Cr=async()=>{var R;if(l.length===0)return L.show("Add at least one step");try{const Y=await Bp({steps:l,materialize:!0,engine:t});if(!Y.success)throw new Error(Y.error||"Run failed");m(Y.created),L.show(`Created ${((R=Y.created)==null?void 0:R.name)||"result"} (${t} engine)`),await V()}catch(Y){L.show(Y.message||"Run failed")}},Pr=async()=>{var R;if(!p.trim())return L.show("Provide a pipeline name");if(l.length===0)return L.show("Nothing to save");try{const Y=await $p({name:p.trim(),description:v,start:null,steps:l},{overwrite:w});if(!Y.success)throw new Error(Y.error||"Save failed");L.show(`Saved pipeline ${((R=Y.pipeline)==null?void 0:R.name)||p}`),await J()}catch(Y){L.show(Y.message||"Save failed")}},or=async R=>{if(R)try{const Y=await ni(R);if(!Y.success)throw new Error(Y.error||"Load failed");const ye=Y.pipeline;i(ye.steps||[]),h(ye.name||""),E(ye.description||""),m(null),L.show(`Loaded ${ye.name}`)}catch(Y){L.show(Y.message||"Load failed")}},Mr=async R=>{H(R),M(!0)},Wa=async()=>{if(B){ie(!0);try{await Vp(B),L.show("Deleted"),await J()}catch(R){L.show(R.message||"Delete failed")}finally{ie(!1),M(!1),H("")}}},kt=()=>{M(!1),H("")},Gt=async R=>{var Y;try{const ye=await Wp(R,{materialize:!0,engine:t});if(!ye.success)throw new Error(ye.error||"Run failed");L.show(`Created ${((Y=ye.created)==null?void 0:Y.name)||"result"} (${t} engine)`),await V()}catch(ye){L.show(ye.message||"Run failed")}},Ha=async()=>{var R;if(!_.trim())return L.show("Paste YAML first");try{const Y=await d2({yaml:_,overwrite:w});if(!Y.success)throw new Error(Y.error||"Import failed");L.show(`Imported ${(R=Y.pipeline)==null?void 0:R.name}`),C(""),await J()}catch(Y){L.show(Y.message||"Import failed")}};return s.createElement("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen text-gray-900 dark:text-gray-100 transition-colors flex flex-col"},s.createElement(ga,{title:"Chained Operations"},s.createElement("div",{className:"text-sm text-gray-300 dark:text-gray-400"},a?"Loading…":`${e.length} dataframes`)),s.createElement("main",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6 flex-grow"},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},s.createElement("div",{className:"flex items-start gap-4"},s.createElement("div",{className:"flex-shrink-0"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-emerald-500",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}))),s.createElement("div",null,s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"Chained Operations Pipeline"),s.createElement("p",{className:"text-gray-600 dark:text-gray-300 mb-3"},"Build complex data transformation pipelines by chaining multiple operations together. Each step processes the output from the previous step, allowing you to create sophisticated workflows with live previews."),s.createElement("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Pipeline Engine:"),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-lg"},(Dr=Vt[t])==null?void 0:Dr.icon),s.createElement("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100"},(Ot=Vt[t])==null?void 0:Ot.name),s.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},(Qt=Vt[t])==null?void 0:Qt.description)))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Sequential step execution")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Live pipeline previews")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Save & reuse pipelines")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"YAML import/export")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Complex transformations")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Reproducible workflows")))))),s.createElement(jl,{title:"Save / Load pipeline"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Pipeline name"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:p,onChange:R=>h(R.target.value),placeholder:"my-pipeline"})),s.createElement("label",{className:"block md:col-span-3"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Description"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:v,onChange:R=>E(R.target.value),placeholder:"optional"})),s.createElement("label",{className:"flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:w,onChange:R=>S(R.target.checked)}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Overwrite"))),s.createElement("div",{className:"mt-3 flex flex-wrap gap-2"},s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:Pr},"Save pipeline"),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Load"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",onChange:R=>or(R.target.value),value:""},s.createElement("option",{value:""},"Select…"),f.map(R=>s.createElement("option",{key:R.name,value:R.name},R.name))),s.createElement("button",{className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:J},x?"…":"Refresh")))),s.createElement(jl,{title:"Pipelines library"},x&&s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"Loading pipelines…"),!x&&f.length===0&&s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"No saved pipelines"),f.length>0&&s.createElement(s.Fragment,null,s.createElement("div",{className:"overflow-auto border border-gray-200 dark:border-gray-600 rounded"},s.createElement("table",{className:"min-w-full text-sm"},s.createElement("thead",{className:"bg-slate-100 dark:bg-gray-700 text-left"},s.createElement("tr",null,s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Name"),s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Steps"),s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Description"),s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Actions"))),s.createElement("tbody",null,ue.map(R=>s.createElement("tr",{key:R.name,className:"border-t border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800"},s.createElement("td",{className:"px-3 py-2 font-medium text-gray-900 dark:text-gray-100"},R.name),s.createElement("td",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},R.steps),s.createElement("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-300"},R.description||"-"),s.createElement("td",{className:"px-3 py-2 flex flex-wrap gap-2"},s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:()=>or(R.name)},"Load"),s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:()=>Gt(R.name)},"Run"),s.createElement("a",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-indigo-700 dark:text-indigo-400 hover:bg-gray-50 dark:hover:bg-gray-600",href:Hp(R.name)},"Export YML"),s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:()=>Mr(R.name)},"Delete"))))))),s.createElement("div",{className:"mt-4"},s.createElement(wu,{currentPage:K,totalItems:Le,itemsPerPage:ee,onPageChange:dt}))),s.createElement("div",{className:"mt-4"},s.createElement("div",{className:"text-sm mb-1"},"Import from YML"),s.createElement("textarea",{className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 font-mono text-xs h-32 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:_,onChange:R=>C(R.target.value),placeholder:"# paste YAML here"}),s.createElement("div",{className:"mt-2 flex items-center gap-2"},s.createElement("button",{className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:Ha},"Import"),s.createElement("label",{className:"text-xs text-gray-600 dark:text-gray-300 flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:w,onChange:R=>S(R.target.checked)})," Overwrite existing")))),s.createElement(jl,{title:"Build pipeline"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Auto preview"),s.createElement("input",{type:"checkbox",checked:o,onChange:R=>c(R.target.checked)}),s.createElement("button",{className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:Kt},"Preview now"),s.createElement("button",{className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:ut},"Clear steps")),s.createElement("div",{className:"mt-4 space-y-4"},s.createElement("div",{className:"bg-slate-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded p-3"},s.createElement("div",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Add step"),s.createElement(D2,{dfOptions:W,onAdd:$a,stepCount:l.length})),l.length>0&&s.createElement("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded"},s.createElement("div",{className:"px-4 py-2 text-sm border-b border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100"},"Steps"),s.createElement("ol",{className:"list-decimal pl-6 py-2 space-y-2"},l.map((R,Y)=>s.createElement("li",{key:Y,className:"flex items-start gap-2"},s.createElement("code",{className:"text-xs bg-slate-100 dark:bg-gray-600 rounded px-1 py-0.5 flex-shrink-0 text-gray-900 dark:text-gray-100"},R.op),s.createElement("span",{className:"text-xs text-gray-700 dark:text-gray-300 break-words flex-1 min-w-0"},JSON.stringify(R.params)),s.createElement("button",{className:"text-red-600 dark:text-red-400 text-xs underline flex-shrink-0",onClick:()=>Va(Y)},"Remove"))))),s.createElement("div",{className:"flex items-center gap-3"},s.createElement("button",{className:"px-4 py-2 bg-emerald-600 text-white rounded",onClick:Cr},"Run pipeline"),(g==null?void 0:g.name)&&s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Created ",s.createElement("button",{className:"underline text-indigo-700",onClick:()=>D(`/analysis/${encodeURIComponent(g.name)}`)},g.name))))),s.createElement(jl,{title:"Previews"},d.loading&&s.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},s.createElement("img",{src:"/loader.svg",className:"w-5 h-5",alt:""})," Generating preview…"),d.error&&s.createElement("div",{className:"text-sm text-red-600"},d.error),!d.loading&&!d.error&&d.steps.length===0&&s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"No preview yet"),s.createElement("div",{className:"space-y-4"},d.steps.map((R,Y)=>s.createElement("div",{key:Y,className:"border border-gray-200 dark:border-gray-600 rounded"},s.createElement("div",{className:"px-3 py-2 text-xs text-gray-600 dark:text-gray-300 flex items-center gap-2"},s.createElement("span",{className:"font-medium"},"Step ",Y+1,":"),s.createElement("span",null,R.desc||R.op)),s.createElement(yg,{columns:R.columns||[],rows:R.preview||[]}))),d.final&&s.createElement("div",{className:"border border-gray-200 dark:border-gray-600 rounded"},s.createElement("div",{className:"px-3 py-2 text-xs text-gray-700 dark:text-gray-300 flex items-center justify-between"},s.createElement("span",null,"Final (",d.final.rows," rows)"),s.createElement("span",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400"},s.createElement("span",null,(Tt=Vt[t])==null?void 0:Tt.icon),s.createElement("span",null,(mt=Vt[t])==null?void 0:mt.name," engine"))),s.createElement(yg,{columns:d.final.columns||[],rows:d.final.preview||[]}))))),s.createElement(Ln,null),s.createElement("div",{className:`fixed bottom-4 right-4 ${L.visible?"":"hidden"}`},s.createElement("div",{className:"bg-slate-900 text-white px-4 py-2 rounded shadow"},L.msg)),s.createElement(Up,{open:A,title:"Delete Pipeline",message:`Are you sure you want to delete the pipeline "${B}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirming:X,onConfirm:Wa,onCancel:kt}))}function D2({dfOptions:t,onAdd:e,stepCount:r}){const[a,n]=b.useState("load");return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Operation"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:a,onChange:l=>n(l.target.value)},s.createElement("option",{value:"load"},"load"),s.createElement("option",{value:"merge"},"merge"),s.createElement("option",{value:"pivot"},"pivot"),s.createElement("option",{value:"filter"},"filter"),s.createElement("option",{value:"groupby"},"groupby"),s.createElement("option",{value:"select"},"select"),s.createElement("option",{value:"rename"},"rename"),s.createElement("option",{value:"compare"},"compare"),s.createElement("option",{value:"datetime"},"datetime"),s.createElement("option",{value:"mutate"},"mutate"))),s.createElement(_2,{op:a,dfOptions:t,onCreate:e,stepCount:r}))}function Ja({title:t,children:e}){return s.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-5"},s.createElement("h2",{className:"text-base font-semibold mb-4 text-gray-900 dark:text-gray-100"},t),e)}function O2(){const[t,e]=b.useState(""),[r,a]=b.useState(!1);return b.useEffect(()=>{if(!t)return;a(!0);const n=setTimeout(()=>a(!1),2500);return()=>clearTimeout(n)},[t]),{show:n=>e(n),visible:r,msg:t}}function xg({columns:t=[],rows:e=[]}){return s.createElement("div",{className:"overflow-auto border border-gray-200 dark:border-gray-600 rounded"},s.createElement("table",{className:"min-w-full text-xs"},s.createElement("thead",{className:"bg-slate-100 dark:bg-gray-700"},s.createElement("tr",null,t.map(r=>s.createElement("th",{key:r,className:"text-left px-2 py-1 border-b border-gray-200 dark:border-gray-600 whitespace-nowrap text-gray-900 dark:text-gray-100"},r)))),s.createElement("tbody",null,e.map((r,a)=>s.createElement("tr",{key:a,className:a%2?"bg-white dark:bg-gray-800":"bg-slate-50 dark:bg-gray-700"},t.map(n=>s.createElement("td",{key:n,className:"px-2 py-1 border-b border-gray-200 dark:border-gray-600 max-w-[300px] truncate text-gray-900 dark:text-gray-100",title:r[n]!==null&&r[n]!==void 0?String(r[n]):""},r[n]!==null&&r[n]!==void 0?String(r[n]):"")))),e.length===0&&s.createElement("tr",null,s.createElement("td",{className:"px-2 py-2 text-slate-500 dark:text-gray-400",colSpan:t.length||1},"No rows")))))}function T2({onCreate:t}){const[e,r]=b.useState([{col:"",op:"eq",value:""}]),[a,n]=b.useState("and"),l=()=>r([...e,{col:"",op:"eq",value:""}]),i=c=>r(e.filter((d,u)=>u!==c)),o=(c,d)=>r(e.map((u,g)=>g===c?{...u,...d}:u));return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Combine"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:a,onChange:c=>n(c.target.value)},s.createElement("option",{value:"and"},"and"),s.createElement("option",{value:"or"},"or"))),s.createElement("div",{className:"space-y-2"},e.map((c,d)=>s.createElement("div",{key:d,className:"grid grid-cols-1 md:grid-cols-6 gap-2 items-end"},s.createElement("input",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"column",value:c.col,onChange:u=>o(d,{col:u.target.value})}),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:c.op,onChange:u=>o(d,{op:u.target.value})},s.createElement("option",null,"eq"),s.createElement("option",null,"ne"),s.createElement("option",null,"lt"),s.createElement("option",null,"lte"),s.createElement("option",null,"gt"),s.createElement("option",null,"gte"),s.createElement("option",null,"in"),s.createElement("option",null,"nin"),s.createElement("option",null,"contains"),s.createElement("option",null,"startswith"),s.createElement("option",null,"endswith"),s.createElement("option",null,"isnull"),s.createElement("option",null,"notnull")),s.createElement("input",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 md:col-span-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"value (JSON list for in/nin)",value:c.value,onChange:u=>o(d,{value:u.target.value})}),s.createElement("button",{className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:()=>i(d)},"Remove")))),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("button",{className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:l},"Add condition"),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>t(e,a)},"Add step")))}function R2({dfOptions:t,onCreate:e}){const[r,a]=b.useState("wider"),[n,l]=b.useState({});b.useEffect(()=>{l({})},[r]);const i=o=>l(c=>({...c,...o}));return r==="wider"?s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Mode"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:r,onChange:o=>a(o.target.value)},s.createElement("option",{value:"wider"},"wider"),s.createElement("option",{value:"longer"},"longer"))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"index (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.index||"",onChange:o=>i({index:o.target.value}),placeholder:"id"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"names_from"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.names_from||"",onChange:o=>i({names_from:o.target.value}),placeholder:"category"})),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"values_from (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.values_from||"",onChange:o=>i({values_from:o.target.value}),placeholder:"value"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"aggfunc"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.aggfunc||"first",onChange:o=>i({aggfunc:o.target.value}),placeholder:"first"}))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const o=String(n.index||"").split(",").map(d=>d.trim()).filter(Boolean);if(!n.names_from||!String(n.values_from||"").trim())return;const c=String(n.values_from).split(",").map(d=>d.trim()).filter(Boolean);e({op:"pivot",params:{mode:"wider",index:o,names_from:n.names_from,values_from:c,aggfunc:n.aggfunc||"first"}})}},"Add step")):s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Mode"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:r,onChange:o=>a(o.target.value)},s.createElement("option",{value:"wider"},"wider"),s.createElement("option",{value:"longer"},"longer"))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"id_vars (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.id_vars||"",onChange:o=>i({id_vars:o.target.value}),placeholder:"id"})),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"value_vars (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.value_vars||"",onChange:o=>i({value_vars:o.target.value}),placeholder:"v1,v2"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"var_name"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.var_name||"variable",onChange:o=>i({var_name:o.target.value})})),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"value_name"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.value_name||"value",onChange:o=>i({value_name:o.target.value})}))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const o=String(n.id_vars||"").split(",").map(d=>d.trim()).filter(Boolean),c=String(n.value_vars||"").split(",").map(d=>d.trim()).filter(Boolean);c.length!==0&&e({op:"pivot",params:{mode:"longer",id_vars:o,value_vars:c,var_name:n.var_name||"variable",value_name:n.value_name||"value"}})}},"Add step"))}function L2({step:t,index:e,availablePipelines:r,onRemove:a,onChainPipeline:n,maxChainedPipelines:l=10}){const[i,o]=b.useState(!1),[c,d]=b.useState(""),u=()=>{if(c){if(t.chainedPipelines&&t.chainedPipelines.length>=l){alert(`Maximum of ${l} pipelines can be chained to a single step`);return}n(e,c),d(""),o(!1)}},g=t.chainedPipelines?t.chainedPipelines.length:0,m=g<l;return s.createElement("div",{className:"border border-gray-200 dark:border-gray-600 rounded p-3 bg-slate-50 dark:bg-gray-700"},s.createElement("div",{className:"flex items-start justify-between mb-2 gap-3"},s.createElement("div",{className:"flex items-center gap-2 flex-1 min-w-0"},s.createElement("span",{className:"font-medium text-sm flex-shrink-0 text-gray-900 dark:text-gray-100"},"Step ",e+1,":"),s.createElement("code",{className:"text-xs bg-slate-200 dark:bg-gray-600 rounded px-1 py-0.5 flex-shrink-0 text-gray-900 dark:text-gray-100"},t.op),s.createElement("span",{className:"text-xs text-gray-600 dark:text-gray-300 break-words min-w-0"},JSON.stringify(t.params))),s.createElement("div",{className:"flex items-center gap-2 flex-shrink-0"},s.createElement("button",{className:`text-xs px-2 py-1 rounded ${m?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800":"bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,onClick:()=>m&&o(!i),disabled:!m,title:m?"Chain another pipeline":`Maximum of ${l} pipelines per step`},"Chain Pipeline ",g>0&&`(${g}/${l})`),s.createElement("button",{className:"text-xs px-2 py-1 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 rounded",onClick:()=>a(e)},"Remove"))),t.chainedPipelines&&t.chainedPipelines.length>0&&s.createElement("div",{className:"mt-2 pl-4 border-l-2 border-blue-300 dark:border-blue-600"},s.createElement("div",{className:"text-xs text-blue-700 dark:text-blue-300 mb-1"},"Chained pipelines (",t.chainedPipelines.length,"/",l,"):"),t.chainedPipelines.map((f,y)=>s.createElement("div",{key:y,className:"text-xs bg-blue-50 dark:bg-blue-900 rounded px-2 py-1 mb-1 flex items-center justify-between"},s.createElement("span",{className:"text-gray-900 dark:text-gray-100"},f),s.createElement("button",{className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",onClick:()=>{const x=t.chainedPipelines.filter((k,p)=>p!==y);n(e,null,x)}},"×")))),i&&s.createElement("div",{className:"mt-2 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded"},s.createElement("div",{className:"text-xs mb-2 text-gray-900 dark:text-gray-100"},"Attach pipeline to run at this point:"),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("select",{className:"text-xs border border-gray-300 dark:border-gray-600 rounded p-1 flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:c,onChange:f=>d(f.target.value)},s.createElement("option",{value:""},"Select pipeline..."),r.map(f=>s.createElement("option",{key:f.name,value:f.name},f.name))),s.createElement("button",{className:"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:u,disabled:!c},"Attach"),s.createElement("button",{className:"text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100",onClick:()=>o(!1)},"Cancel"))))}function A2({op:t,dfOptions:e,onCreate:r,stepCount:a=0}){const[n,l]=b.useState({});b.useEffect(()=>{l({})},[t]);const i=d=>l(u=>({...u,...d})),o=(d,u,g)=>i({[d]:g?[...n[d]||[],u]:(n[d]||[]).filter(m=>m!==u)}),c=()=>{switch(t){case"load":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.name||"",onChange:f=>i({name:f.target.value})},s.createElement("option",{value:""},"Select…"),e.map(f=>s.createElement("option",{key:f.value,value:f.value},f.label)))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>n.name&&r({op:"load",params:{name:n.name}})},"Add step"));case"merge":const d=a>0,u=d?1:2,g=(n.names||[]).length,m=n.advancedJoin||!1;return s.createElement("div",{className:"space-y-3"},d&&s.createElement("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded p-3 text-sm"},s.createElement("div",{className:"font-medium text-blue-800 dark:text-blue-200"},"Current dataframe from previous step will be automatically included"),s.createElement("div",{className:"text-blue-600 dark:text-blue-300"},"Select additional dataframe(s) to merge with")),s.createElement("div",null,s.createElement("div",{className:"text-sm mb-1 text-gray-900 dark:text-gray-100"},d?`Pick ${u}+ additional dataframes`:`Pick ${u}+ dataframes`),s.createElement("div",{className:"flex flex-wrap gap-2"},e.map(f=>s.createElement("label",{key:f.value,className:`px-2 py-1 rounded border cursor-pointer ${(n.names||[]).includes(f.value)?"bg-indigo-50 dark:bg-indigo-900/50 border-indigo-400 dark:border-indigo-500":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600"} text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600`},s.createElement("input",{type:"checkbox",className:"mr-1",checked:(n.names||[]).includes(f.value),onChange:y=>o("names",f.value,y.target.checked)}),f.label)))),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("input",{type:"checkbox",id:"advancedJoin",checked:m,onChange:f=>i({advancedJoin:f.target.checked,keys:"",leftOn:"",rightOn:""})}),s.createElement("label",{htmlFor:"advancedJoin",className:"text-sm text-gray-900 dark:text-gray-100 cursor-pointer"},"Advanced Join (different column names)")),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end"},m?s.createElement(s.Fragment,null,s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Left columns (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.leftOn||"",onChange:f=>i({leftOn:f.target.value}),placeholder:"customer_id"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Right columns (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.rightOn||"",onChange:f=>i({rightOn:f.target.value}),placeholder:"cust_id"}))):s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Join keys (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.keys||"",onChange:f=>i({keys:f.target.value}),placeholder:"id"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Join type"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.how||"inner",onChange:f=>i({how:f.target.value})},s.createElement("option",null,"inner"),s.createElement("option",null,"left"),s.createElement("option",null,"right"),s.createElement("option",null,"outer"))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const f=n.names||[];if(!(g<u))if(m){const y=String(n.leftOn||"").split(",").map(k=>k.trim()).filter(Boolean),x=String(n.rightOn||"").split(",").map(k=>k.trim()).filter(Boolean);if(y.length===0||x.length===0||y.length!==x.length)return;r({op:"merge",params:{names:f,left_on:y,right_on:x,how:n.how||"inner"}})}else{const y=String(n.keys||"").split(",").map(x=>x.trim()).filter(Boolean);if(y.length===0)return;r({op:"merge",params:{names:f,keys:y,how:n.how||"inner"}})}}},"Add step")),m&&s.createElement("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded p-3 text-sm"},s.createElement("div",{className:"font-medium text-yellow-800 dark:text-yellow-200"},"Column Mapping Info"),s.createElement("div",{className:"text-yellow-700 dark:text-yellow-300 mt-1"},"Left columns are from the ",d?"current pipeline result":"first selected dataframe",". Right columns are from the ",d?"selected dataframe(s)":"second dataframe",".")));case"filter":return s.createElement(T2,{onCreate:(f,y)=>r({op:"filter",params:{filters:f,combine:y}})});case"groupby":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Group by (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.by||"",onChange:f=>i({by:f.target.value}),placeholder:"country,year"})),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Aggregations (JSON)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.aggs||"",onChange:f=>i({aggs:f.target.value}),placeholder:'{"sales":"sum"}'})),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const f=String(n.by||"").split(",").map(x=>x.trim()).filter(Boolean);let y;if(String(n.aggs||"").trim())try{y=JSON.parse(n.aggs)}catch{return}f.length!==0&&r({op:"groupby",params:{by:f,aggs:y}})}},"Add step"));case"select":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Columns (comma)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.columns||"",onChange:f=>i({columns:f.target.value}),placeholder:"id,name,value"})),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:!!n.exclude,onChange:f=>i({exclude:f.target.checked})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Exclude selected")),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const f=String(n.columns||"").split(",").map(x=>x.trim()).filter(Boolean);if(f.length===0)return;const y={columns:f};n.exclude&&(y.exclude=!0),r({op:"select",params:y})}},"Add step"));case"rename":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Mapping (JSON)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.map||"",onChange:f=>i({map:f.target.value}),placeholder:'{"old":"new"}'})),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{try{const f=JSON.parse(n.map||"{}");if(!f||Array.isArray(f))return;r({op:"rename",params:{map:f}})}catch{return}}},"Add step"));case"pivot":return s.createElement(R2,{dfOptions:e,onCreate:r});case"compare":return s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Other DataFrame"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.other||"",onChange:f=>i({other:f.target.value})},s.createElement("option",{value:""},"Select…"),e.map(f=>s.createElement("option",{key:f.value,value:f.value},f.label)))),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Action"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.action||"mismatch",onChange:f=>i({action:f.target.value})},s.createElement("option",{value:"mismatch"},"mismatch (rows)"),s.createElement("option",{value:"identical"},"identical (pass/flag)"))),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>n.other&&r({op:"compare",params:{name:n.other,action:n.action||"mismatch"}})},"Add step"));case"datetime":return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Action"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.action||"parse",onChange:f=>i({action:f.target.value})},s.createElement("option",{value:"parse"},"parse (string → date)"),s.createElement("option",{value:"derive"},"derive parts"))),s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Source column"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.source||"",onChange:f=>i({source:f.target.value}),placeholder:"date_col"}))),(n.action||"parse")==="parse"?s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Format (optional)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.format||"",onChange:f=>i({format:f.target.value}),placeholder:"%Y-%m-%d"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Target (optional)"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.target||"",onChange:f=>i({target:f.target.value}),placeholder:"new_date"})),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:!!n.overwrite,onChange:f=>i({overwrite:f.target.checked})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Overwrite if exists")),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{if(!n.source)return;const f={action:"parse",source:n.source};String(n.format||"").trim()&&(f.format=n.format),String(n.target||"").trim()&&(f.target=n.target),n.overwrite&&(f.overwrite=!0),r({op:"datetime",params:f})}},"Add step")):s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Month style"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.month_style||"short",onChange:f=>i({month_style:f.target.value})},s.createElement("option",{value:"short"},"Jan"),s.createElement("option",{value:"short_lower"},"jan"),s.createElement("option",{value:"long"},"January"),s.createElement("option",{value:"num"},"1..12"))),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:"year"in(n.outputs||{})?!!n.outputs.year:!0,onChange:f=>i({outputs:{...n.outputs||{},year:f.target.checked}})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"year")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:"month"in(n.outputs||{})?!!n.outputs.month:!0,onChange:f=>i({outputs:{...n.outputs||{},month:f.target.checked}})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"month")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:"day"in(n.outputs||{})?!!n.outputs.day:!0,onChange:f=>i({outputs:{...n.outputs||{},day:f.target.checked}})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"day")),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:"year_month"in(n.outputs||{})?!!n.outputs.year_month:!0,onChange:f=>i({outputs:{...n.outputs||{},year_month:f.target.checked}})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"year_month")),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{if(!n.source)return;const f={action:"derive",source:n.source,month_style:n.month_style||"short",outputs:n.outputs||{year:!0,month:!0,day:!0,year_month:!0}};r({op:"datetime",params:f})}},"Add step")));case"mutate":return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Target column"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.target||"",onChange:f=>i({target:f.target.value}),placeholder:"new_col"})),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Mode"),s.createElement("select",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.mode||"vector",onChange:f=>i({mode:f.target.value})},s.createElement("option",{value:"vector"},"vector"),s.createElement("option",{value:"row"},"row"))),s.createElement("label",{className:"inline-flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:!!n.overwrite,onChange:f=>i({overwrite:f.target.checked})}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Overwrite if exists")),s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const f=String(n.target||"").trim(),y=String(n.expr||"").trim();!f||!y||r({op:"mutate",params:{target:f,expr:y,mode:n.mode||"vector",overwrite:!!n.overwrite}})}},"Add step")),s.createElement("label",{className:"block"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Expression"),s.createElement("textarea",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 font-mono text-xs h-28 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n.expr||"",onChange:f=>i({expr:f.target.value}),placeholder:`Examples:
- vector: col('a') + col('b')
- vector: np.where(col('x') > 0, 'pos', 'neg')
- vector: col('name').astype(str).str[:3] + '_' + col('country')
- row: r['price'] * r['qty']
- vector date: pd.to_datetime(col('ts')).dt.year`})),s.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-300"},"Tip: use col('colname') for Series, or r['col'] in row mode. pd and np are available."));default:return s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"Pick an operation")}};return s.createElement("div",{className:"space-y-3"},c())}function z2(){var mt,R,Y,ye,gt;const{engine:t}=b.useContext(so),[e,r]=b.useState([]),[a,n]=b.useState(!1),[l,i]=b.useState([]),[o,c]=b.useState(!0),[d,u]=b.useState([]),[g,m]=b.useState(!1),[f,y]=b.useState(""),[x,k]=b.useState(""),[p,h]=b.useState(!1),[v,E]=b.useState(null),[w,S]=b.useState({loading:!1,error:"",steps:[],final:null}),[_,C]=b.useState(!1),[A,M]=b.useState(""),[B,H]=b.useState(!1),[X,ie]=b.useState(1),K=parseInt("15",10),Q=parseInt("10",10),ee=_r(),D=O2(),L=b.useMemo(()=>(e||[]).map(O=>({value:O.name,label:O.name})),[e]),W=async()=>{n(!0);try{const O=await co();O.success&&r((O.dataframes||[]).sort((F,U)=>F.name.localeCompare(U.name)))}finally{n(!1)}},V=async()=>{m(!0);try{const O=await jp();O.success&&(u((O.pipelines||[]).sort((F,U)=>F.name.localeCompare(U.name))),ie(1))}catch{}finally{m(!1)}},J=d.length,Le=(X-1)*K,pe=Le+K,Ae=d.slice(Le,pe),ue=O=>{ie(O)};b.useEffect(()=>{W(),V()},[]),b.useEffect(()=>{o&&l.length>0?Tt():l.length===0&&S({loading:!1,error:"",steps:[],final:null})},[o,JSON.stringify(l)]);const dt=O=>{i(F=>[...F,{...O,chainedPipelines:[]}]),E(null)},Kt=O=>{i(F=>F.filter((U,ve)=>ve!==O)),E(null)},$a=(O,F,U=null)=>{i(ve=>ve.map((oe,Be)=>{if(Be===O){if(U!==null)return{...oe,chainedPipelines:U};if(F){const fa=oe.chainedPipelines||[];return fa.length>=Q?oe:{...oe,chainedPipelines:[...fa,F]}}}return oe}))},Va=()=>{i([]),S({loading:!1,error:"",steps:[],final:null}),E(null)},ut=O=>{const F=[];return O.forEach(U=>{F.push({op:U.op,params:U.params}),U.chainedPipelines&&U.chainedPipelines.length>0&&U.chainedPipelines.forEach(ve=>{F.push({op:"chain_pipeline",params:{pipeline:ve}})})}),F},Cr=async()=>{var O;if(l.length===0)return D.show("Add at least one step");try{const F=ut(l),U=await Bp({steps:F,materialize:!0,engine:t});if(!U.success)throw new Error(U.error||"Run failed");E(U.created),D.show(`Created ${((O=U.created)==null?void 0:O.name)||"result"} (${t} engine)`),await W()}catch(F){D.show(F.message||"Run failed")}},Pr=async()=>{if(l.length===0)return D.show("Add at least one step");try{const O=ut(l),F=await fg({steps:O,start:null}),U=new Blob([F],{type:"text/plain"}),ve=URL.createObjectURL(U),oe=document.createElement("a");oe.href=ve,oe.download="chained_pipeline.R",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(ve),D.show("R code exported successfully")}catch(O){D.show(O.message||"R export failed")}},or=async()=>{if(l.length===0)return D.show("Add at least one step");try{const O=ut(l),F=await hg({steps:O,start:null}),U=new Blob([F],{type:"text/plain"}),ve=URL.createObjectURL(U),oe=document.createElement("a");oe.href=ve,oe.download="chained_pipeline.py",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(ve),D.show("Python code exported successfully")}catch(O){D.show(O.message||"Python export failed")}},Mr=async O=>{try{const F=await ni(O);if(!F.success)throw new Error(F.error||"Failed to load pipeline");const U=await fg({steps:F.pipeline.steps,start:F.pipeline.start}),ve=new Blob([U],{type:"text/plain"}),oe=URL.createObjectURL(ve),Be=document.createElement("a");Be.href=oe,Be.download=`${O}.R`,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),URL.revokeObjectURL(oe),D.show(`R code exported for ${O}`)}catch(F){D.show(F.message||"R export failed")}},Wa=async O=>{try{const F=await ni(O);if(!F.success)throw new Error(F.error||"Failed to load pipeline");const U=await hg({steps:F.pipeline.steps,start:F.pipeline.start}),ve=new Blob([U],{type:"text/plain"}),oe=URL.createObjectURL(ve),Be=document.createElement("a");Be.href=oe,Be.download=`${O}.py`,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),URL.revokeObjectURL(oe),D.show(`Python code exported for ${O}`)}catch(F){D.show(F.message||"Python export failed")}},kt=async()=>{var O;if(!f.trim())return D.show("Provide a pipeline name");if(l.length===0)return D.show("Nothing to save");try{const F=ut(l),U=await $p({name:f.trim(),description:x,start:null,steps:F,chainedStructure:l},{overwrite:p});if(!U.success)throw new Error(U.error||"Save failed");D.show(`Saved chained pipeline ${((O=U.pipeline)==null?void 0:O.name)||f}`),await V()}catch(F){D.show(F.message||"Save failed")}},Gt=async O=>{if(O)try{const F=await ni(O);if(!F.success)throw new Error(F.error||"Load failed");const U=F.pipeline;U.chainedStructure?i(U.chainedStructure):i(U.steps||[]),y(U.name||""),k(U.description||""),D.show(`Loaded ${U.name}`)}catch(F){D.show(F.message||"Load failed")}},Ha=async O=>{M(O),C(!0)},Dr=async()=>{if(A){H(!0);try{await Vp(A),D.show("Deleted"),await V()}catch(O){D.show(O.message||"Delete failed")}finally{H(!1),C(!1),M("")}}},Ot=()=>{C(!1),M("")},Qt=async O=>{var F;try{const U=await Wp(O,{materialize:!0,engine:t});if(!U.success)throw new Error(U.error||"Run failed");D.show(`Created ${((F=U.created)==null?void 0:F.name)||"result"} (${t} engine)`),await W()}catch(U){D.show(U.message||"Run failed")}},Tt=async()=>{if(l.length!==0){S(O=>({...O,loading:!0,error:""}));try{const O=ut(l),F=await Ip({steps:O,preview_rows:10,engine:t});if(!F.success)throw new Error(F.error||"Preview failed");S({loading:!1,error:"",steps:F.steps||[],final:F.final||null}),l.some(ve=>ve.chainedPipelines&&ve.chainedPipelines.length>0)&&await W()}catch(O){S({loading:!1,error:O.message||"Preview failed",steps:[],final:null})}}};return s.createElement("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen text-gray-900 dark:text-gray-100 transition-colors flex flex-col"},s.createElement(ga,{title:"Chained Pipelines"},s.createElement("div",{className:"text-sm text-gray-300 dark:text-gray-400"},a?"Loading…":`${e.length} dataframes`)),s.createElement("main",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6 flex-grow"},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},s.createElement("div",{className:"flex items-start gap-4"},s.createElement("div",{className:"flex-shrink-0"},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-500",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"}))),s.createElement("div",{className:"flex-1"},s.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"Advanced Chained Pipelines"),s.createElement("p",{className:"text-gray-600 dark:text-gray-300 mb-3"},"Create sophisticated workflows by chaining multiple pipelines together. Each step can trigger secondary pipelines that execute using the current data state, enabling complex branching and parallel processing scenarios."),s.createElement("div",{className:"mb-4"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Pipeline Engine:"),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-lg"},(mt=Vt[t])==null?void 0:mt.icon),s.createElement("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100"},(R=Vt[t])==null?void 0:R.name),s.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},(Y=Vt[t])==null?void 0:Y.description)))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Multi-pipeline orchestration")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Branch & parallel execution")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Dynamic data state sharing")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Complex workflow management")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Reusable pipeline components")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"},"Enterprise-grade processing")))))),s.createElement(Ja,{title:"About Chained Pipelines"},s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-2"},s.createElement("p",null,"Chained pipelines allow you to attach secondary pipelines to any step in your main pipeline. The secondary pipelines will execute at that point using the current data state and their results can be utilized by subsequent steps."),s.createElement("p",null,s.createElement("strong",null,"Key features:")),s.createElement("ul",{className:"list-disc pl-5 space-y-1"},s.createElement("li",null,"Attach multiple pipelines to any step"),s.createElement("li",null,"Secondary pipelines receive current dataframe state"),s.createElement("li",null,"Results from chained pipelines are available to following steps"),s.createElement("li",null,"Support for complex data processing workflows")))),s.createElement(Ja,{title:"Save / Load chained pipeline"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end"},s.createElement("label",{className:"block md:col-span-2"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Pipeline name"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:f,onChange:O=>y(O.target.value),placeholder:"my-chained-pipeline"})),s.createElement("label",{className:"block md:col-span-3"},s.createElement("span",{className:"block text-sm text-gray-900 dark:text-gray-100"},"Description"),s.createElement("input",{className:"mt-1 border border-gray-300 dark:border-gray-600 rounded w-full p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:x,onChange:O=>k(O.target.value),placeholder:"optional description"})),s.createElement("label",{className:"flex items-center gap-2"},s.createElement("input",{type:"checkbox",checked:p,onChange:O=>h(O.target.checked)}),s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Overwrite"))),s.createElement("div",{className:"mt-3 flex flex-wrap gap-2"},s.createElement("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:kt},"Save chained pipeline"))),s.createElement(Ja,{title:"Pipelines library"},s.createElement("div",{className:"mb-3 flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Load"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",onChange:O=>Gt(O.target.value),value:""},s.createElement("option",{value:""},"Select…"),d.map(O=>s.createElement("option",{key:O.name,value:O.name},O.name))),s.createElement("button",{className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:V},g?"…":"Refresh")),g&&s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"Loading pipelines…"),!g&&d.length===0&&s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"No saved pipelines"),d.length>0&&s.createElement("div",{className:"overflow-auto border border-gray-200 dark:border-gray-600 rounded"},s.createElement("table",{className:"min-w-full text-sm"},s.createElement("thead",{className:"bg-slate-100 dark:bg-gray-700 text-left"},s.createElement("tr",null,s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Name"),s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Steps"),s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Description"),s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Actions"))),s.createElement("tbody",null,d.map(O=>s.createElement("tr",{key:O.name,className:"border-t border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800"},s.createElement("td",{className:"px-3 py-2 font-medium text-gray-900 dark:text-gray-100"},O.name),s.createElement("td",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},O.steps),s.createElement("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-300"},O.description||"-"),s.createElement("td",{className:"px-3 py-2 flex flex-wrap gap-2"},s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:()=>Gt(O.name)},"Load"),s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:()=>Qt(O.name)},"Run"),s.createElement("a",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-indigo-700 dark:text-indigo-400 hover:bg-gray-50 dark:hover:bg-gray-600",href:Hp(O.name)},"Export YML"),s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-blue-600 dark:bg-blue-600 text-white hover:bg-blue-700 dark:hover:bg-blue-700",onClick:()=>Mr(O.name),title:"Export R"},s.createElement("img",{src:"./r.svg",alt:"R",width:"16",height:"16"})),s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-gray-600 dark:bg-gray-600 text-white hover:bg-gray-700 dark:hover:bg-gray-700",onClick:()=>Wa(O.name),title:"Export Python"},s.createElement("img",{src:"./python.svg",alt:"Python",width:"16",height:"16"})),s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:()=>Ha(O.name)},"Delete")))))))),s.createElement(Ja,{title:"Build chained pipeline"},s.createElement("div",{className:"flex items-center gap-3 mb-4"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Auto preview"),s.createElement("input",{type:"checkbox",checked:o,onChange:O=>c(O.target.checked)}),s.createElement("button",{className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:Tt},"Preview now"),s.createElement("button",{className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600",onClick:Va},"Clear all steps"),s.createElement("span",{className:"text-sm text-gray-600 dark:text-gray-300"},l.length," steps")),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"bg-slate-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded p-3"},s.createElement("div",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Add step"),s.createElement(F2,{dfOptions:L,onAdd:dt,stepCount:l.length})),l.length>0&&s.createElement("div",{className:"space-y-3"},l.map((O,F)=>s.createElement(L2,{key:F,step:O,index:F,availablePipelines:d,onRemove:Kt,onChainPipeline:$a,maxChainedPipelines:Q}))),s.createElement("div",{className:"flex items-center gap-3 flex-wrap"},s.createElement("button",{className:"px-4 py-2 bg-emerald-600 text-white rounded",onClick:Cr},"Run chained pipeline"),s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-blue-600 dark:bg-blue-600 text-white hover:bg-blue-700 dark:hover:bg-blue-700",onClick:Pr,title:"Export R"},s.createElement("img",{src:"./r.svg",alt:"R",width:"16",height:"16"})),s.createElement("button",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-gray-600 dark:bg-gray-600 text-white hover:bg-gray-700 dark:hover:bg-gray-700",onClick:or,title:"Export Python"},s.createElement("img",{src:"./python.svg",alt:"Python",width:"16",height:"16"})),(v==null?void 0:v.name)&&s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Created ",s.createElement("button",{className:"underline text-indigo-700",onClick:()=>ee(`/analysis/${encodeURIComponent(v.name)}`)},v.name))))),s.createElement(Ja,{title:"Preview"},w.loading&&s.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},s.createElement("div",{className:"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),"Generating preview…"),w.error&&s.createElement("div",{className:"text-sm text-red-600"},w.error),!w.loading&&!w.error&&w.steps.length===0&&s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"No preview yet"),s.createElement("div",{className:"space-y-4"},w.steps.map((O,F)=>s.createElement("div",{key:F,className:"border border-gray-200 dark:border-gray-600 rounded"},s.createElement("div",{className:"px-3 py-2 text-xs text-gray-600 dark:text-gray-300 flex items-center gap-2"},s.createElement("span",{className:"font-medium"},"Step ",F+1,":"),s.createElement("span",null,O.desc||O.op)),s.createElement(xg,{columns:O.columns||[],rows:O.preview||[]}))),w.final&&s.createElement("div",{className:"border border-gray-200 dark:border-gray-600 rounded"},s.createElement("div",{className:"px-3 py-2 text-xs text-gray-700 dark:text-gray-300 flex items-center justify-between"},s.createElement("span",null,"Final (",w.final.rows," rows)"),s.createElement("span",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400"},s.createElement("span",null,(ye=Vt[t])==null?void 0:ye.icon),s.createElement("span",null,(gt=Vt[t])==null?void 0:gt.name," engine"))),s.createElement(xg,{columns:w.final.columns||[],rows:w.final.preview||[]})))),s.createElement(Ja,{title:"Available pipelines"},g&&s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"Loading pipelines…"),!g&&d.length===0&&s.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},"No saved pipelines"),d.length>0&&s.createElement(s.Fragment,null,s.createElement("div",{className:"overflow-auto border border-gray-200 dark:border-gray-600 rounded"},s.createElement("table",{className:"min-w-full text-sm"},s.createElement("thead",{className:"bg-slate-100 dark:bg-gray-700 text-left"},s.createElement("tr",null,s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Name"),s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Steps"),s.createElement("th",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},"Description"))),s.createElement("tbody",null,Ae.map(O=>s.createElement("tr",{key:O.name,className:"border-t border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800"},s.createElement("td",{className:"px-3 py-2 font-medium text-gray-900 dark:text-gray-100"},O.name),s.createElement("td",{className:"px-3 py-2 text-gray-900 dark:text-gray-100"},O.steps),s.createElement("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-300"},O.description||"-")))))),s.createElement("div",{className:"mt-4"},s.createElement(wu,{currentPage:X,totalItems:J,itemsPerPage:K,onPageChange:ue}))))),s.createElement(Ln,null),s.createElement("div",{className:`fixed bottom-4 right-4 ${D.visible?"":"hidden"}`},s.createElement("div",{className:"bg-slate-900 text-white px-4 py-2 rounded shadow"},D.msg)),s.createElement(Up,{open:_,title:"Delete Pipeline",message:`Are you sure you want to delete the pipeline "${A}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirming:B,onConfirm:Dr,onCancel:Ot}))}function F2({dfOptions:t,onAdd:e,stepCount:r}){const[a,n]=b.useState("load");return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-sm text-gray-900 dark:text-gray-100"},"Operation"),s.createElement("select",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:a,onChange:l=>n(l.target.value)},s.createElement("option",{value:"load"},"load"),s.createElement("option",{value:"merge"},"merge"),s.createElement("option",{value:"pivot"},"pivot"),s.createElement("option",{value:"filter"},"filter"),s.createElement("option",{value:"groupby"},"groupby"),s.createElement("option",{value:"select"},"select"),s.createElement("option",{value:"rename"},"rename"),s.createElement("option",{value:"compare"},"compare"),s.createElement("option",{value:"datetime"},"datetime"),s.createElement("option",{value:"mutate"},"mutate"))),s.createElement(A2,{op:a,dfOptions:t,onCreate:e,stepCount:r}))}function I2(){return s.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col"},s.createElement(ga,{title:"Documentation"}),s.createElement("main",{className:"flex-1 max-w-6xl mx-auto px-4 py-8 space-y-6"},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8"},s.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6"},"Spark Test Visualizer Documentation"),s.createElement("div",{className:"prose prose-gray dark:prose-invert max-w-none"},s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Getting Started"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-6"},"Spark Test Visualizer is a powerful web application for analyzing and visualizing Apache Spark DataFrames. This tool provides an intuitive interface for data exploration, transformation, and pipeline creation."),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Core Features"),s.createElement("div",{className:"grid md:grid-cols-2 gap-6 mb-8"},s.createElement("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},s.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"📊 Data Analysis"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Upload CSV, Excel, or JSON files and instantly get statistical insights, column profiles, and interactive charts.")),s.createElement("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},s.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"🔧 Operations"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Perform single operations like filtering, grouping, aggregation, and column transformations with real-time previews.")),s.createElement("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},s.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"🔗 Chained Operations"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Create sequential data transformation pipelines by chaining multiple operations together.")),s.createElement("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},s.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"🚀 Chained Pipelines"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Build complex data processing workflows with multiple data sources and advanced pipeline management.")),s.createElement("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},s.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"⚡ Multi-Engine Support"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Choose between Pandas and Spark engines for data processing to optimize performance based on your data size and complexity.")),s.createElement("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},s.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},"📝 Code Export"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Export your data transformation pipelines as R or Python code to reproduce workflows outside the application."))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Multi-Engine Processing"),s.createElement("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-lg p-4 mb-6"},s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"🐼 Pandas Engine"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Best for small to medium datasets (< 1GB). Provides fast in-memory processing with familiar Python syntax. Ideal for data exploration, prototyping, and datasets that fit in memory.")),s.createElement("div",null,s.createElement("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"⚡ Spark Engine"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Designed for large datasets and distributed computing. Handles datasets larger than memory through lazy evaluation and automatic optimization. Choose this for production workloads and big data processing.")))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Supported Data Formats"),s.createElement("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-2 mb-6"},s.createElement("li",null,s.createElement("strong",null,"CSV files")," - Comma-separated values with automatic delimiter detection"),s.createElement("li",null,s.createElement("strong",null,"Excel files")," - .xlsx and .xls formats with sheet selection"),s.createElement("li",null,s.createElement("strong",null,"JSON files")," - Structured JSON data with schema inference")),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Available Operations"),s.createElement("div",{className:"space-y-4 mb-6"},s.createElement("div",null,s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Data Loading & Management"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Load dataframes, rename dataframes with descriptions, duplicate, convert types, and manage cached data")),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Filtering & Selection"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Filter rows based on conditions, select specific columns, sample data")),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Aggregation & Grouping"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Group by columns, compute aggregations (sum, avg, count, etc.)")),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Joins & Merging"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Inner, left, right, and outer joins between dataframes")),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Data Transformation"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Sort, pivot, unpivot, and custom column transformations"))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Advanced Column Operations"),s.createElement("div",{className:"space-y-6 mb-6"},s.createElement("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"🔧 Mutate - Create/Transform Columns"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-3"},"Create new columns or transform existing ones using powerful expression syntax. Supports both vector and row-level operations."),s.createElement("div",{className:"grid md:grid-cols-2 gap-4"},s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"Vector Mode (Column-wise)"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded text-sm font-mono text-gray-800 dark:text-gray-200"},s.createElement("p",null,"col('price') * col('quantity')"),s.createElement("p",null,"np.where(col('age') >= 18, 'adult', 'minor')"),s.createElement("p",null,"col('name').str.upper()"))),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"Row Mode (Row-wise)"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded text-sm font-mono text-gray-800 dark:text-gray-200"},s.createElement("p",null,"r['price'] * r['quantity']"),s.createElement("p",null,"str(r['first']) + ' ' + str(r['last'])"),s.createElement("p",null,"'Category: ' + str(r['category'])"))))),s.createElement("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"🏷️ Rename - Column Renaming"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-3"},"Batch rename multiple columns using a mapping dictionary. Useful for standardizing column names or improving readability."),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded text-sm font-mono text-gray-800 dark:text-gray-200"},s.createElement("p",null,'{ "id": "person_id", "name": "full_name", "dob": "birth_date" }'))),s.createElement("div",{className:"bg-purple-50 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"📅 DateTime - Date Processing"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-3"},"Parse date strings into datetime objects or derive components like year, month, day from existing datetime columns."),s.createElement("div",{className:"grid md:grid-cols-2 gap-4"},s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"Parse Dates"),s.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Convert string dates to datetime format with automatic or custom format detection.")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"Derive Components"),s.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Extract year, month, day, or other date components into separate columns."))))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"DataFrame Management"),s.createElement("div",{className:"space-y-4 mb-6"},s.createElement("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"📝 Rename DataFrames"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Rename your dataframes and update their descriptions to better organize your work. Useful for creating meaningful names that describe the data transformation steps or business context.")),s.createElement("div",{className:"bg-orange-50 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"🔄 Type Conversion"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Convert dataframes between different types (e.g., persistent vs ephemeral) with configurable auto-deletion settings for temporary data management."))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Code Export & Pipeline Sharing"),s.createElement("div",{className:"space-y-4 mb-6"},s.createElement("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"🐍 Python Code Export"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-3"},"Export your data transformation pipeline as Python code using pandas. The generated code includes:"),s.createElement("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400 space-y-1"},s.createElement("li",null,"Redis cache integration for data loading"),s.createElement("li",null,"Complete pandas operations matching your pipeline"),s.createElement("li",null,"Error handling and data validation"),s.createElement("li",null,"Ready-to-run Python scripts"))),s.createElement("div",{className:"bg-cyan-50 dark:bg-cyan-900/30 border border-cyan-200 dark:border-cyan-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"📊 R Code Export"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-3"},"Export your pipeline as R code using tidyverse/dplyr syntax. The generated code includes:"),s.createElement("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400 space-y-1"},s.createElement("li",null,"dplyr and tidyverse operations"),s.createElement("li",null,"Redis integration with R"),s.createElement("li",null,"Pipe-based workflow syntax"),s.createElement("li",null,"Statistical analysis ready code"))),s.createElement("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"💾 Pipeline Import/Export"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Save and share complex pipelines using YAML format. Import pipelines created by others or backup your own workflows for future use."))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Enhanced Pipeline Features"),s.createElement("div",{className:"space-y-4 mb-6"},s.createElement("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"🔗 Chained Pipelines"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Connect multiple pipelines together to create complex data processing workflows. Chain the output of one pipeline as the input to another, enabling modular and reusable data processing components.")),s.createElement("div",{className:"bg-teal-50 dark:bg-teal-900/30 border border-teal-200 dark:border-teal-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"👁️ Pipeline Preview"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"Preview the results of your pipeline before executing it on the full dataset. See intermediate results for each step and validate your transformations with a sample of data."))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Tips & Best Practices"),s.createElement("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg p-4 mb-6"},s.createElement("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-2"},s.createElement("li",null,"Use descriptive names for your dataframes to easily identify them in pipelines"),s.createElement("li",null,"Preview operations before running them to ensure correct transformations"),s.createElement("li",null,"Choose the appropriate engine (Pandas for smaller data, Spark for large datasets)"),s.createElement("li",null,"Use vector mode for mutate operations when possible for better performance"),s.createElement("li",null,"Export complex pipelines as code to reproduce results in your preferred environment"),s.createElement("li",null,"Save frequently used pipelines for reuse across different datasets"),s.createElement("li",null,"Use pipeline chaining for modular data processing workflows"),s.createElement("li",null,"Test datetime parsing with small samples before applying to full datasets"),s.createElement("li",null,"Use the dark/light mode toggle for comfortable viewing in different environments"),s.createElement("li",null,"Export results in your preferred format (CSV, JSON) for external analysis"))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"What's New"),s.createElement("div",{className:"bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-700 rounded-lg p-4"},s.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3"},"Recent Feature Additions"),s.createElement("div",{className:"space-y-2 text-gray-700 dark:text-gray-300"},s.createElement("div",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-emerald-500 dark:text-emerald-400"},"✨"),s.createElement("span",null,s.createElement("strong",null,"Multi-Engine Support:")," Choose between Pandas and Spark engines for optimal performance")),s.createElement("div",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-emerald-500 dark:text-emerald-400"},"✨"),s.createElement("span",null,s.createElement("strong",null,"Advanced Column Operations:")," Mutate, rename, and datetime operations with expression support")),s.createElement("div",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-emerald-500 dark:text-emerald-400"},"✨"),s.createElement("span",null,s.createElement("strong",null,"Code Export:")," Generate R and Python code from your data transformation pipelines")),s.createElement("div",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-emerald-500 dark:text-emerald-400"},"✨"),s.createElement("span",null,s.createElement("strong",null,"Enhanced DataFrame Management:")," Rename dataframes and convert between types")),s.createElement("div",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-emerald-500 dark:text-emerald-400"},"✨"),s.createElement("span",null,s.createElement("strong",null,"Pipeline Chaining:")," Connect multiple pipelines for complex workflows")),s.createElement("div",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-emerald-500 dark:text-emerald-400"},"✨"),s.createElement("span",null,s.createElement("strong",null,"Pipeline Preview:")," Test pipelines on sample data before full execution"))))))),s.createElement(Ln,null))}function B2(){return s.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col"},s.createElement(ga,{title:"API Documentation"}),s.createElement("main",{className:"flex-1 max-w-6xl mx-auto px-4 py-8 space-y-6"},s.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8"},s.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6"},"API Documentation"),s.createElement("div",{className:"prose prose-gray dark:prose-invert max-w-none"},s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-8"},"The Spark Test Visualizer provides a RESTful API for programmatic access to all data processing capabilities. All endpoints return JSON responses and require authentication."),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Base URLs"),s.createElement("div",{className:"space-y-3 mb-6"},s.createElement("div",null,s.createElement("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Main Application UI"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg font-mono text-sm"},"http://localhost:5001")),s.createElement("div",null,s.createElement("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"DataFrame API"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg font-mono text-sm"},"http://localhost:4999")),s.createElement("div",null,s.createElement("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Notifications Service (ntfy)"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg font-mono text-sm"},"https://localhost:8443"))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Authentication"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-6"},"All API requests require a valid session token. Authenticate first using the login endpoint."),s.createElement("div",{className:"space-y-8"},s.createElement("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6"},s.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3"},"Authentication (UI Service - Port 5001)"),s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /auth/login"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Authenticate and get session token"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "username": "your_username",
  "password": "your_password"
}`))),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /auth/logout"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Invalidate current session")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /auth/user"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Get current user information")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /auth/change-password"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Change user password"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "current_password": "current_password",
  "new_password": "new_password"
}`))))),s.createElement("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6"},s.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3"},"DataFrames (DataFrame API - Port 4999)"),s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /dataframes"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"List all cached dataframes with metadata")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /dataframes/upload"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Upload a new dataframe (CSV, Excel, JSON)"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`Content-Type: multipart/form-data
- file: CSV/Excel/JSON file
- name: DataFrame name (optional)
- description: Description (optional)`))),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /dataframes/","{name}"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Get dataframe preview and metadata")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /dataframes/","{name}","/page/","{page}"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Get paginated dataframe data")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /dataframes/","{name}","/metadata"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Get dataframe metadata (columns, types, stats)")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"DELETE /dataframes/","{name}"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Delete a cached dataframe")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"DELETE /dataframes"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Clear all cached dataframes")))),s.createElement("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6"},s.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3"},"Operations (DataFrame API - Port 4999)"),s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /operations/preview"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Preview operation result without applying"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "dataframe_name": "my_data",
  "operation": "filter",
  "params": {
    "filters": [{"column": "age", "op": ">", "value": 18}],
    "combine": "and"
  }
}`))),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /operations/apply"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Apply operation and save result"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "dataframe_name": "my_data",
  "operation": "groupby",
  "params": {
    "by": ["category"],
    "agg": {"sales": "sum", "count": "size"}
  },
  "result_name": "grouped_data"
}`))),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /operations/compare"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Compare two dataframes"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "left_df": "dataframe1",
  "right_df": "dataframe2",
  "compare_type": "differences"
}`))))),s.createElement("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6"},s.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3"},"Pipelines (DataFrame API - Port 4999)"),s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /pipelines"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"List all saved pipelines")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /pipelines"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Save a new pipeline"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "name": "data_cleaning_pipeline",
  "description": "Basic data cleaning workflow",
  "steps": [
    {"op": "load", "params": {"name": "raw_data"}},
    {"op": "filter", "params": {"filters": [...]}},
    {"op": "groupby", "params": {"by": "category", "agg": {...}}}
  ]
}`))),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /pipelines/","{name}"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Get pipeline definition")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /pipelines/preview"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Preview pipeline execution"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "steps": [...],
  "preview_rows": 10
}`))),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /pipelines/run"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Execute pipeline steps"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "steps": [...],
  "result_name": "pipeline_result"
}`))),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /pipelines/","{name}","/run"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Execute a saved pipeline")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /pipelines/","{name}","/export"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Export pipeline as YAML")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /pipelines/import"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},"Import pipeline from YAML"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`Content-Type: multipart/form-data
- file: YAML file containing pipeline definition`))),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"DELETE /pipelines/","{name}"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Delete a saved pipeline")))),s.createElement("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6"},s.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3"},"Export (DataFrame API - Port 4999)"),s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /dataframes/","{name}","/export/csv"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Download dataframe as CSV")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /dataframes/","{name}","/export/json"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Download dataframe as JSON")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /dataframes/","{name}","/export/excel"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Download dataframe as Excel (.xlsx)")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /dataframes/","{name}","/export/parquet"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Download dataframe as Parquet")))),s.createElement("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6"},s.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3"},"Health & System (DataFrame API - Port 4999)"),s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /health"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"API health check")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /version"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Get API version information")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"GET /cache/stats"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Get cache statistics and memory usage")),s.createElement("div",null,s.createElement("h4",{className:"font-medium text-gray-900 dark:text-gray-100"},"POST /cache/clear"),s.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Clear all cached data"))))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4 mt-8"},"Spark Services"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-4"},"The platform includes Apache Spark for distributed data processing:"),s.createElement("div",{className:"space-y-3 mb-6"},s.createElement("div",null,s.createElement("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Spark Master Web UI"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg font-mono text-sm"},"http://localhost:8081")),s.createElement("div",null,s.createElement("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Spark Worker Web UI"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg font-mono text-sm"},"http://localhost:8082"))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4 mt-8"},"Common Response Formats"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-4"},"Successful responses typically include the following structure:"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg text-sm mb-6"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "success": true,
  "data": { ... },
  "message": "Operation completed successfully"
}`)),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Error Responses"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300 mb-4"},"All errors return appropriate HTTP status codes with JSON error details:"),s.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg text-sm mb-6"},s.createElement("pre",{className:"text-gray-800 dark:text-gray-200"},`{
  "success": false,
  "error": "Error description",
  "code": "ERROR_CODE"
}`)),s.createElement("div",{className:"space-y-3 mb-6"},s.createElement("div",{className:"text-sm"},s.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"400 Bad Request:"),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"}," Invalid request parameters or malformed data")),s.createElement("div",{className:"text-sm"},s.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"401 Unauthorized:"),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"}," Authentication required or invalid session")),s.createElement("div",{className:"text-sm"},s.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"404 Not Found:"),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"}," Requested resource (dataframe, pipeline) not found")),s.createElement("div",{className:"text-sm"},s.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"422 Unprocessable Entity:"),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"}," Valid request format but invalid data values")),s.createElement("div",{className:"text-sm"},s.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"500 Internal Server Error:"),s.createElement("span",{className:"text-gray-700 dark:text-gray-300"}," Server-side processing error"))),s.createElement("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4 mt-8"},"Rate Limiting"),s.createElement("p",{className:"text-gray-700 dark:text-gray-300"},"API requests are limited to 100 requests per minute per authenticated user. Rate limit headers are included in all responses.")))),s.createElement(Ln,null))}function zr({children:t}){const{isAuthenticated:e,loading:r,initialized:a,authDisabled:n}=no();return n?t:!a||r?s.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},s.createElement("div",{className:"text-center"},s.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),s.createElement("p",{className:"mt-2 text-sm text-gray-600"},"Loading..."))):e?t:s.createElement(Hh,null)}function j2(){return s.createElement(ov,null,s.createElement(It,{path:"/login",element:s.createElement(Hh,null)}),s.createElement(It,{path:"/profile",element:s.createElement(zr,null,s.createElement(_v,null))}),s.createElement(It,{path:"/",element:s.createElement(zr,null,s.createElement(p2,null))}),s.createElement(It,{path:"/analysis/:name",element:s.createElement(zr,null,s.createElement(v2,null))}),s.createElement(It,{path:"/operations",element:s.createElement(zr,null,s.createElement(E2,null))}),s.createElement(It,{path:"/chained-operations",element:s.createElement(zr,null,s.createElement(M2,null))}),s.createElement(It,{path:"/chained-pipelines",element:s.createElement(zr,null,s.createElement(z2,null))}),s.createElement(It,{path:"/docs",element:s.createElement(zr,null,s.createElement(I2,null))}),s.createElement(It,{path:"/api",element:s.createElement(zr,null,s.createElement(B2,null))}),s.createElement(It,{path:"*",element:s.createElement(lv,{to:"/",replace:!0})}))}function $2(){return s.createElement(Ev,null,s.createElement(vv,null,s.createElement(wv,null,s.createElement(j2,null))))}Dh(document.getElementById("root")).render(s.createElement(s.StrictMode,null,s.createElement(hv,null,s.createElement($2,null))));
